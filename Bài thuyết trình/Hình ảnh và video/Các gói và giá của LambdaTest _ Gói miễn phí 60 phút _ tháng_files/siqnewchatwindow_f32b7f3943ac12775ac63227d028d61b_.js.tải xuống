!function(m,C){function c(e,t,n){if(n===C&&1===e.nodeType){var r="data-"+t.replace(se,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ae.test(n)?ye.parseJSON(n):n)}catch(e){}ye.data(e,t,n)}else n=C}return n}function u(e){var t;for(t in e)if(("data"!==t||!ye.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function s(){return!1}function n(){return!0}function i(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function t(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e,n,r){if(n=n||0,ye.isFunction(n))return ye.grep(e,function(e,t){return!!n.call(e,t,e)===r});if(n.nodeType)return ye.grep(e,function(e,t){return e===n===r});if("string"==typeof n){var t=ye.grep(e,function(e){return 1===e.nodeType});if(Ae.test(n))return ye.filter(n,t,!r);n=ye.filter(n,t)}return ye.grep(e,function(e,t){return 0<=ye.inArray(e,n)===r})}function y(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function l(e,t){if(1===t.nodeType&&ye.hasData(e)){var n,r,i,o=ye._data(e),a=ye._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)ye.event.add(t,n,s[n][r]);a.data&&(a.data=ye.extend({},a.data))}}function f(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(n=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),ye.support.html5Clone&&e.innerHTML&&!ye.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ie.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(ye.expando))}function p(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function v(e){Ie.test(e.type)&&(e.defaultChecked=e.checked)}function d(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if((t=ft[i]+n)in e)return t;return r}function b(e,t){return e=t||e,"none"===ye.css(e,"display")||!ye.contains(e.ownerDocument,e)}function e(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(i[o]=ye._data(n,"olddisplay"),t?(!i[o]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&b(n)&&(i[o]=ye._data(n,"olddisplay",x(n.nodeName)))):(r=Ge(n,"display"),!i[o]&&"none"!==r&&ye._data(n,"olddisplay",r)));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function a(e,t,n){var r=it.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function h(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;i<4;i+=2)"margin"===n&&(o+=ye.css(e,n+ct[i],!0)),r?("content"===n&&(o-=parseFloat(Ge(e,"padding"+ct[i]))||0),"margin"!==n&&(o-=parseFloat(Ge(e,"border"+ct[i]+"Width"))||0)):(o+=parseFloat(Ge(e,"padding"+ct[i]))||0,"padding"!==n&&(o+=parseFloat(Ge(e,"border"+ct[i]+"Width"))||0));return o}function o(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing");if(r<=0||null==r){if(((r=Ge(e,t))<0||null==r)&&(r=e.style[t]),ot.test(r))return r;i=o&&(ye.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+h(e,t,n||(o?"border":"content"),i)+"px"}function x(e){if(st[e])return st[e];var t=ye("<"+e+">").appendTo(F.body),n=t.css("display");return t.remove(),"none"!==n&&""!==n||(Qe=F.body.appendChild(Qe||ye.extend(F.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ke&&Qe.createElement||((Ke=(Qe.contentWindow||Qe.contentDocument).document).write("<!doctype html><html><body>"),Ke.close()),t=Ke.body.appendChild(Ke.createElement(e)),n=Ge(t,"display"),F.body.removeChild(Qe)),st[e]=n}function g(n,e,r,i){var t;if(ye.isArray(e))ye.each(e,function(e,t){r||ht.test(n)?i(n,t):g(n+"["+("object"==typeof t?e:"")+"]",t,r,i)});else if(r||"object"!==ye.type(e))i(n,e);else for(t in e)g(n+"["+t+"]",e[t],r,i)}function w(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r,i=e.toLowerCase().split(U),o=0,a=i.length;if(ye.isFunction(t))for(;o<a;o++)n=i[o],(r=/^\+/.test(n))&&(n=n.substr(1)||"*"),(s[n]=s[n]||[])[r?"unshift":"push"](t)}}function k(e,t,n,r,i,o){(o=o||{})[i=i||t.dataTypes[0]]=!0;for(var a,s=e[i],l=0,u=s?s.length:0,c=e===jt;l<u&&(c||!a);l++)"string"==typeof(a=s[l](t,n,r))&&(a=!c||o[a]?C:(t.dataTypes.unshift(a),k(e,t,n,r,a,o)));return(c||!a)&&!o["*"]&&(a=k(e,t,n,r,"*",o)),a}function T(e,t){var n,r,i=ye.ajaxSettings.flatOptions||{};for(n in t)t[n]!==C&&((i[n]?e:r||(r={}))[n]=t[n]);r&&ye.extend(!0,e,r)}function N(){try{return new m.XMLHttpRequest}catch(e){}}function E(){return setTimeout(function(){Pt=C},0),Pt=ye.now()}function S(o,e,t){var n,a,r,i=0,s=Xt.length,l=ye.Deferred().always(function(){delete u.elem}),u=function(){for(var e=Pt||E(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return l.notifyWith(o,[c,n,t]),n<1&&i?t:(l.resolveWith(o,[c]),!1)},c=l.promise({elem:o,props:ye.extend({},e),opts:ye.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Pt||E(),duration:t.duration,tweens:[],createTween:function(e,t,n){var r=ye.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){for(var t=0,n=e?c.tweens.length:0;t<n;t++)c.tweens[t].run(1);return e?l.resolveWith(o,[c,e]):l.rejectWith(o,[c,e]),this}}),f=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(r=ye.camelCase(n),i=t[r],o=e[n],ye.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ye.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(f,c.opts.specialEasing);i<s;i++)if(n=Xt[i].call(c,o,f,c.opts))return n;return a=c,r=f,ye.each(r,function(e,t){for(var n=(Ut[e]||[]).concat(Ut["*"]),r=0,i=n.length;r<i;r++)if(n[r].call(a,e,t))return}),ye.isFunction(c.opts.start)&&c.opts.start.call(o,c),ye.fx.timer(ye.extend(u,{anim:c,queue:c.opts.queue,elem:o})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function A(e,t,n,r,i){return new A.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ct[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function D(e){return ye.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var L,H,F=m.document,M=m.location,O=m.navigator,_=m.jQuery,q=m.$,B=Array.prototype.push,W=Array.prototype.slice,P=Array.prototype.indexOf,R=Object.prototype.toString,$=Object.prototype.hasOwnProperty,I=String.prototype.trim,ye=function(e,t){return new ye.fn.init(e,t,L)},z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,X=/\S/,U=/\s+/,Y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,V=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,G=/^[\],:{}\s]*$/,Q=/(?:^|:|,)(?:\s*\[)+/g,K=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ee=/^-ms-/,te=/-([\da-z])/gi,ne=function(e,t){return(t+"").toUpperCase()},re=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",re,!1),ye.ready()):"complete"===F.readyState&&(F.detachEvent("onreadystatechange",re),ye.ready())},ie={};ye.fn=ye.prototype={constructor:ye,init:function(e,t,n){var r,i,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"!=typeof e)return ye.isFunction(e)?n.ready(e):(e.selector!==C&&(this.selector=e.selector,this.context=e.context),ye.makeArray(e,this));if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:V.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1])return o=(t=t instanceof ye?t[0]:t)&&t.nodeType?t.ownerDocument||t:F,e=ye.parseHTML(r[1],o,!0),J.test(r[1])&&ye.isPlainObject(t)&&this.attr.call(e,t,!0),ye.merge(this,e);if((i=F.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return n.find(e);this.length=1,this[0]=i}return this.context=F,this.selector=e,this},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return W.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=ye.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return ye.each(this,e,t)},ready:function(e){return ye.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(n){return this.pushStack(ye.map(this,function(e,t){return n.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:[].sort,splice:[].splice},ye.fn.init.prototype=ye.fn,ye.extend=ye.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},s=2),"object"!=typeof a&&!ye.isFunction(a)&&(a={}),l===s&&(a=this,--s);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(ye.isPlainObject(r)||(i=ye.isArray(r)))?(o=i?(i=!1,n&&ye.isArray(n)?n:[]):n&&ye.isPlainObject(n)?n:{},a[t]=ye.extend(u,o,r)):r!==C&&(a[t]=r));return a},ye.extend({noConflict:function(e){return m.$===ye&&(m.$=q),e&&m.jQuery===ye&&(m.jQuery=_),ye},isReady:!1,readyWait:1,holdReady:function(e){e?ye.readyWait++:ye.ready(!0)},ready:function(e){if(!0===e?!--ye.readyWait:!ye.isReady){if(!F.body)return setTimeout(ye.ready,1);(ye.isReady=!0)!==e&&0<--ye.readyWait||(H.resolveWith(F,[ye]),ye.fn.trigger&&ye(F).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ye.type(e)},isArray:Array.isArray||function(e){return"array"===ye.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ie[R.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==ye.type(e)||e.nodeType||ye.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===C||$.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||F,(r=J.exec(e))?[t.createElement(r[1])]:(r=ye.buildFragment([e],t,n?null:[]),ye.merge([],(r.cacheable?ye.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=ye.trim(e),m.JSON&&m.JSON.parse?m.JSON.parse(e):G.test(e.replace(K,"@").replace(Z,"]").replace(Q,""))?new Function("return "+e)():void ye.error("Invalid JSON: "+e)):null},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{m.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=C}return(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)&&ye.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&X.test(e)&&(m.execScript||function(e){m.eval.call(m,e)})(e)},camelCase:function(e){return e.replace(ee,"ms-").replace(te,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=o===C||ye.isFunction(e);if(n)if(a){for(r in e)if(!1===t.apply(e[r],n))break}else for(;i<o&&!1!==t.apply(e[i++],n););else if(a){for(r in e)if(!1===t.call(e[r],r,e[r]))break}else for(;i<o&&!1!==t.call(e[i],i,e[i++]););return e},trim:I&&!I.call("\ufeffÂ ")?function(e){return null==e?"":I.call(e)}:function(e){return null==e?"":(e+"").replace(Y,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=ye.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||ye.isWindow(e)?B.call(r,e):ye.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(P)return P.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;i<n;i++)e[r++]=t[i];else for(;t[i]!==C;)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i=0,o=e.length;for(n=!!n;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=[],a=0,s=e.length;if(e instanceof ye||s!==C&&"number"==typeof s&&(0<s&&e[0]&&e[s-1]||0===s||ye.isArray(e)))for(;a<s;a++)null!=(r=t(e[a],a,n))&&(o[o.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),ye.isFunction(e)?(r=W.call(arguments,2),(i=function(){return e.apply(t,r.concat(W.call(arguments)))}).guid=e.guid=e.guid||ye.guid++,i):C},access:function(e,t,n,r,i,o,a){var s,l=null==n,u=0,c=e.length;if(n&&"object"==typeof n){for(u in n)ye.access(e,t,u,n[u],1,o,r);i=1}else if(r!==C){if(s=a===C&&ye.isFunction(r),l&&(t=s?(s=t,function(e,t,n){return s.call(ye(e),n)}):(t.call(e,r),null)),t)for(;u<c;u++)t(e[u],n,s?r.call(e[u],u,t(e[u],n)):r,a);i=1}return i?e:l?t.call(e):c?t(e[0],n):o},now:function(){return(new Date).getTime()}}),ye.ready.promise=function(e){if(!H)if(H=ye.Deferred(),"complete"===F.readyState)setTimeout(ye.ready,1);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",re,!1),m.addEventListener("load",ye.ready,!1);else{F.attachEvent("onreadystatechange",re),m.attachEvent("onload",ye.ready);var n=!1;try{n=null==m.frameElement&&F.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!ye.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}ye.ready()}}()}return H.promise(e)},ye.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()}),L=ye(F);var oe={};ye.Callbacks=function(i){var e,n;i="string"==typeof i?oe[i]||(n=oe[e=i]={},ye.each(e.split(U),function(e,t){n[t]=!0}),n):ye.extend({},i);var t,r,o,a,s,l,u=[],c=!i.once&&[],f=function(e){for(t=i.memory&&e,r=!0,l=a||0,a=0,s=u.length,o=!0;u&&l<s;l++)if(!1===u[l].apply(e[0],e[1])&&i.stopOnFalse){t=!1;break}o=!1,u&&(c?c.length&&f(c.shift()):t?u=[]:p.disable())},p={add:function(){if(u){var e=u.length;(function r(e){ye.each(e,function(e,t){var n=ye.type(t);"function"===n?(!i.unique||!p.has(t))&&u.push(t):t&&t.length&&"string"!==n&&r(t)})})(arguments),o?s=u.length:t&&(a=e,f(t))}return this},remove:function(){return u&&ye.each(arguments,function(e,t){for(var n;-1<(n=ye.inArray(t,u,n));)u.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return-1<ye.inArray(e,u)},empty:function(){return u=[],this},disable:function(){return u=c=t=C,this},disabled:function(){return!u},lock:function(){return c=C,t||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],u&&(!r||c)&&(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},ye.extend({Deferred:function(e){var a=[["resolve","done",ye.Callbacks("once memory"),"resolved"],["reject","fail",ye.Callbacks("once memory"),"rejected"],["notify","progress",ye.Callbacks("memory")]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return ye.Deferred(function(i){ye.each(a,function(e,t){var n=t[0],r=o[e];s[t[1]](ye.isFunction(r)?function(){var e=r.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n+"With"](this===s?i:this,[e])}:i[n])}),o=null}).promise()},promise:function(e){return null!=e?ye.extend(e,o):o}},s={};return o.pipe=o.then,ye.each(a,function(e,t){var n=t[2],r=t[3];o[t[1]]=n.add,r&&n.add(function(){i=r},a[1^e][2].disable,a[2][2].lock),s[t[0]]=n.fire,s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=W.call(arguments),a=o.length,s=1!==a||e&&ye.isFunction(e.promise)?a:0,l=1===s?e:ye.Deferred(),u=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?W.call(arguments):e,r===i?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&ye.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,t,i)):--s;return s||l.resolveWith(n,o),l.promise()}}),ye.support=function(){var a,e,t,n,r,i,o,s,l,u,c,f=F.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=f.getElementsByTagName("*"),t=f.getElementsByTagName("a")[0],!e||!t||!e.length)return{};r=(n=F.createElement("select")).appendChild(F.createElement("option")),i=f.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",a={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.5/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:"on"===i.value,optSelected:r.selected,getSetAttribute:"t"!==f.className,enctype:!!F.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===F.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,a.noCloneChecked=i.cloneNode(!0).checked,n.disabled=!0,a.optDisabled=!r.disabled;try{delete f.test}catch(e){a.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",c=function(){a.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",c)),(i=F.createElement("input")).value="t",i.setAttribute("type","radio"),a.radioValue="t"===i.value,i.setAttribute("checked","checked"),i.setAttribute("name","t"),f.appendChild(i),(o=F.createDocumentFragment()).appendChild(f.lastChild),a.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,a.appendChecked=i.checked,o.removeChild(i),o.appendChild(f),f.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})(u=(s="on"+l)in f)||(f.setAttribute(s,"return;"),u="function"==typeof f[s]),a[l+"Bubbles"]=u;return ye(function(){var e,t,n,r,i="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=F.getElementsByTagName("body")[0];o&&((e=F.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(e,o.firstChild),t=F.createElement("div"),e.appendChild(t),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=t.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",a.reliableHiddenOffsets=u&&0===n[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===t.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,m.getComputedStyle&&(a.pixelPosition="1%"!==(m.getComputedStyle(t,null)||{}).top,a.boxSizingReliable="4px"===(m.getComputedStyle(t,null)||{width:"4px"}).width,(r=F.createElement("div")).style.cssText=t.style.cssText=i,r.style.marginRight=r.style.width="0",t.style.width="1px",t.appendChild(r),a.reliableMarginRight=!parseFloat((m.getComputedStyle(r,null)||{}).marginRight)),void 0!==t.style.zoom&&(t.innerHTML="",t.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div></div>",t.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==t.offsetWidth,e.style.zoom=1),o.removeChild(e),e=t=n=r=null)}),o.removeChild(f),e=t=n=r=i=o=f=null,a}();var ae=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,se=/([A-Z])/g;ye.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(ye.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?ye.cache[e[ye.expando]]:e[ye.expando])&&!u(e)},data:function(e,t,n,r){if(ye.acceptData(e)){var i,o,a=ye.expando,s="string"==typeof t,l=e.nodeType,u=l?ye.cache:e,c=l?e[a]:e[a]&&a;if(c&&u[c]&&(r||u[c].data)||!s||n!==C)return c||(l?e[a]=c=ye.deletedIds.pop()||ye.guid++:c=a),u[c]||(u[c]={},l||(u[c].toJSON=ye.noop)),"object"!=typeof t&&"function"!=typeof t||(r?u[c]=ye.extend(u[c],t):u[c].data=ye.extend(u[c].data,t)),i=u[c],r||(i.data||(i.data={}),i=i.data),n!==C&&(i[ye.camelCase(t)]=n),s?null==(o=i[t])&&(o=i[ye.camelCase(t)]):o=i,o}},removeData:function(e,t,n){if(ye.acceptData(e)){var r,i,o,a=e.nodeType,s=a?ye.cache:e,l=a?e[ye.expando]:ye.expando;if(s[l]){if(t&&(r=n?s[l]:s[l].data)){ye.isArray(t)||(t=t in r?[t]:(t=ye.camelCase(t))in r?[t]:t.split(" "));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?u:ye.isEmptyObject)(r))return}(n||(delete s[l].data,u(s[l])))&&(a?ye.cleanData([e],!0):ye.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}},_data:function(e,t,n){return ye.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&ye.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ye.fn.extend({data:function(n,e){var r,i,t,o,a,s=this[0],l=0,u=null;if(n!==C)return"object"==typeof n?this.each(function(){ye.data(this,n)}):((r=n.split(".",2))[1]=r[1]?"."+r[1]:"",i=r[1]+"!",ye.access(this,function(t){if(t===C)return(u=this.triggerHandler("getData"+i,[r[0]]))===C&&s&&(u=ye.data(s,n),u=c(s,n,u)),u===C&&r[1]?this.data(r[0]):u;r[1]=t,this.each(function(){var e=ye(this);e.triggerHandler("setData"+i,r),ye.data(this,n,t),e.triggerHandler("changeData"+i,r)})},null,e,1<arguments.length,null,!1));if(this.length&&(u=ye.data(s),1===s.nodeType&&!ye._data(s,"parsedAttrs"))){for(a=(t=s.attributes).length;l<a;l++)(o=t[l].name).indexOf("data-")||(o=ye.camelCase(o.substring(5)),c(s,o,u[o]));ye._data(s,"parsedAttrs",!0)}return u},removeData:function(e){return this.each(function(){ye.removeData(this,e)})}}),ye.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ye._data(e,t),n&&(!r||ye.isArray(n)?r=ye._data(e,t,ye.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ye.queue(e,t),r=n.length,i=n.shift(),o=ye._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ye.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye._data(e,n)||ye._data(e,n,{empty:ye.Callbacks("once memory").add(function(){ye.removeData(e,t+"queue",!0),ye.removeData(e,n,!0)})})}}),ye.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ye.queue(this[0],t):n===C?this:this.each(function(){var e=ye.queue(this,t,n);ye._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ye.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},delay:function(r,e){return r=ye.fx&&ye.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,r);t.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ye.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=C),e=e||"fx";a--;)(n=ye._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var le,ue,ce,fe=/[\t\r\n]/g,pe=/\r/g,de=/^(?:button|input)$/i,he=/^(?:button|input|object|select|textarea)$/i,ge=/^a(?:rea|)$/i,me=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ve=ye.support.getSetAttribute;ye.fn.extend({attr:function(e,t){return ye.access(this,ye.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})},prop:function(e,t){return ye.access(this,ye.prop,e,t,1<arguments.length)},removeProp:function(e){return e=ye.propFix[e]||e,this.each(function(){try{this[e]=C,delete this[e]}catch(e){}})},addClass:function(t){var e,n,r,i,o,a,s;if(ye.isFunction(t))return this.each(function(e){ye(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(U),n=0,r=this.length;n<r;n++)if(1===(i=this[n]).nodeType)if(i.className||1!==e.length){for(o=" "+i.className+" ",a=0,s=e.length;a<s;a++)o.indexOf(" "+e[a]+" ")<0&&(o+=e[a]+" ");i.className=ye.trim(o)}else i.className=t;return this},removeClass:function(t){var e,n,r,i,o,a,s;if(ye.isFunction(t))return this.each(function(e){ye(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===C)for(e=(t||"").split(U),a=0,s=this.length;a<s;a++)if(1===(r=this[a]).nodeType&&r.className){for(n=(" "+r.className+" ").replace(fe," "),i=0,o=e.length;i<o;i++)for(;0<=n.indexOf(" "+e[i]+" ");)n=n.replace(" "+e[i]+" "," ");r.className=t?ye.trim(n):""}return this},toggleClass:function(o,a){var s=typeof o,l="boolean"==typeof a;return ye.isFunction(o)?this.each(function(e){ye(this).toggleClass(o.call(this,e,this.className,a),a)}):this.each(function(){if("string"===s)for(var e,t=0,n=ye(this),r=a,i=o.split(U);e=i[t++];)r=l?r:!n.hasClass(e),n[r?"addClass":"removeClass"](e);else"undefined"!==s&&"boolean"!==s||(this.className&&ye._data(this,"__className__",this.className),this.className=this.className||!1===o?"":ye._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(fe," ").indexOf(t))return!0;return!1},val:function(r){var i,e,o,t=this[0];return arguments.length?(o=ye.isFunction(r),this.each(function(e){var t,n=ye(this);1===this.nodeType&&(null==(t=o?r.call(this,e,n.val()):r)?t="":"number"==typeof t?t+="":ye.isArray(t)&&(t=ye.map(t,function(e){return null==e?"":e+""})),(i=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,t,"value")!==C||(this.value=t))})):t?(i=ye.valHooks[t.type]||ye.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&(e=i.get(t,"value"))!==C?e:"string"==typeof(e=t.value)?e.replace(pe,""):null==e?"":e:void 0}}),ye.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&(ye.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ye.nodeName(n.parentNode,"optgroup"))){if(t=ye(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=ye.makeArray(t);return ye(e).find("option").each(function(){this.selected=0<=ye.inArray(ye(this).val(),n)}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,t,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r&&ye.isFunction(ye.fn[t])?ye(e)[t](n):void 0===e.getAttribute?ye.prop(e,t,n):((a=1!==s||!ye.isXMLDoc(e))&&(t=t.toLowerCase(),o=ye.attrHooks[t]||(me.test(t)?ue:le)),n!==C?null===n?void ye.removeAttr(e,t):o&&"set"in o&&a&&(i=o.set(e,n,t))!==C?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&a&&null!==(i=o.get(e,t))?i:null===(i=e.getAttribute(t))?C:i)},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(U);a<r.length;a++)(i=r[a])&&(n=ye.propFix[i]||i,(o=me.test(i))||ye.attr(e,i,""),e.removeAttribute(ve?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(de.test(e.nodeName)&&e.parentNode)ye.error("type property can't be changed");else if(!ye.support.radioValue&&"radio"===t&&ye.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return le&&ye.nodeName(e,"button")?le.get(e,t):t in e?e.value:null},set:function(e,t,n){if(le&&ye.nodeName(e,"button"))return le.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!ye.isXMLDoc(e))&&(t=ye.propFix[t]||t,i=ye.propHooks[t]),n!==C?i&&"set"in i&&(r=i.set(e,n,t))!==C?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):he.test(e.nodeName)||ge.test(e.nodeName)&&e.href?0:C}}}}),ue={get:function(e,t){var n,r=ye.prop(e,t);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(t))&&!1!==n.nodeValue?t.toLowerCase():C},set:function(e,t,n){var r;return!1===t?ye.removeAttr(e,n):((r=ye.propFix[n]||n)in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},ve||(ce={name:!0,id:!0,coords:!0},le=ye.valHooks.button={get:function(e,t){var n;return(n=e.getAttributeNode(t))&&(ce[t]?""!==n.value:n.specified)?n.value:C},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=F.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},ye.each(["width","height"],function(e,n){ye.attrHooks[n]=ye.extend(ye.attrHooks[n],{set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}})}),ye.attrHooks.contenteditable={get:le.get,set:function(e,t,n){""===t&&(t="false"),le.set(e,t,n)}}),ye.support.hrefNormalized||ye.each(["href","src","width","height"],function(e,n){ye.attrHooks[n]=ye.extend(ye.attrHooks[n],{get:function(e){var t=e.getAttribute(n,2);return null===t?C:t}})}),ye.support.style||(ye.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||C},set:function(e,t){return e.style.cssText=t+""}}),ye.support.optSelected||(ye.propHooks.selected=ye.extend(ye.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ye.support.enctype||(ye.propFix.enctype="encoding"),ye.support.checkOn||ye.each(["radio","checkbox"],function(){ye.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),ye.each(["radio","checkbox"],function(){ye.valHooks[this]=ye.extend(ye.valHooks[this],{set:function(e,t){if(ye.isArray(t))return e.checked=0<=ye.inArray(ye(e).val(),t)}})});var be=/^(?:textarea|input|select)$/i,xe=/^([^\.]*|)(?:\.(.+)|)$/,we=/(?:^|\s)hover(\.\S+|)\b/,Te=/^key/,Ne=/^(?:mouse|contextmenu)|click/,Ce=/^(?:focusinfocus|focusoutblur)$/,ke=function(e){return ye.event.special.hover?e:e.replace(we,"mouseenter$1 mouseleave$1")};ye.event={add:function(e,t,n,r,i){var o,a,s,l,u,c,f,p,d,h,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&n&&(o=ye._data(e))){for(n.handler&&(n=(d=n).handler,i=d.selector),n.guid||(n.guid=ye.guid++),(s=o.events)||(o.events=s={}),(a=o.handle)||(o.handle=a=function(e){return void 0===ye||e&&ye.event.triggered===e.type?C:ye.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=ye.trim(ke(t)).split(" "),l=0;l<t.length;l++)c=(u=xe.exec(t[l])||[])[1],f=(u[2]||"").split(".").sort(),g=ye.event.special[c]||{},c=(i?g.delegateType:g.bindType)||c,g=ye.event.special[c]||{},p=ye.extend({type:c,origType:u[1],data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ye.expr.match.needsContext.test(i),namespace:f.join(".")},d),(h=s[c])||((h=s[c]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,f,a)||(e.addEventListener?e.addEventListener(c,a,!1):e.attachEvent&&e.attachEvent("on"+c,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,p):h.push(p),ye.event.global[c]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,p,d,h,g,m=ye.hasData(e)&&ye._data(e);if(m&&(p=m.events)){for(t=ye.trim(ke(t||"")).split(" "),o=0;o<t.length;o++)if(s=l=(a=xe.exec(t[o])||[])[1],u=a[2],s){for(d=ye.event.special[s]||{},c=(h=p[s=(r?d.delegateType:d.bindType)||s]||[]).length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],(i||l===g.origType)&&(!n||n.guid===g.guid)&&(!u||u.test(g.namespace))&&(!r||r===g.selector||"**"===r&&g.selector)&&(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&((!d.teardown||!1===d.teardown.call(e,u,m.handle))&&ye.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)ye.event.remove(e,s+t[o],n,r,!0);ye.isEmptyObject(p)&&(delete m.handle,ye.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,n,r){if(!n||3!==n.nodeType&&8!==n.nodeType){var i,o,a,s,l,u,c,f,p,d,h=e.type||e,g=[];if(Ce.test(h+ye.event.triggered))return;if(0<=h.indexOf("!")&&(h=h.slice(0,-1),o=!0),0<=h.indexOf(".")&&(h=(g=h.split(".")).shift(),g.sort()),(!n||ye.event.customEvent[h])&&!ye.event.global[h])return;if((e="object"==typeof e?e[ye.expando]?e:new ye.Event(h,e):new ye.Event(h)).type=h,e.isTrigger=!0,e.exclusive=o,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=h.indexOf(":")<0?"on"+h:"",!n){for(a in i=ye.cache)i[a].events&&i[a].events[h]&&ye.event.trigger(e,t,i[a].handle.elem,!0);return}if(e.result=C,e.target||(e.target=n),(t=null!=t?ye.makeArray(t):[]).unshift(e),(c=ye.event.special[h]||{}).trigger&&!1===c.trigger.apply(n,t))return;if(p=[[n,c.bindType||h]],!r&&!c.noBubble&&!ye.isWindow(n)){for(d=c.delegateType||h,s=Ce.test(d+h)?n:n.parentNode,l=n;s;s=s.parentNode)p.push([s,d]),l=s;l===(n.ownerDocument||F)&&p.push([l.defaultView||l.parentWindow||m,d])}for(a=0;a<p.length&&!e.isPropagationStopped();a++)s=p[a][0],e.type=p[a][1],(f=(ye._data(s,"events")||{})[e.type]&&ye._data(s,"handle"))&&f.apply(s,t),(f=u&&s[u])&&ye.acceptData(s)&&f.apply&&!1===f.apply(s,t)&&e.preventDefault();return e.type=h,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(n.ownerDocument,t))&&("click"!==h||!ye.nodeName(n,"a"))&&ye.acceptData(n)&&u&&n[h]&&("focus"!==h&&"blur"!==h||0!==e.target.offsetWidth)&&!ye.isWindow(n)&&((l=n[u])&&(n[u]=null),n[ye.event.triggered=h](),ye.event.triggered=C,l&&(n[u]=l)),e.result}},dispatch:function(e){e=ye.event.fix(e||m.event);var t,n,r,i,o,a,s,l,u,c=(ye._data(this,"events")||{})[e.type]||[],f=c.delegateCount,p=W.call(arguments),d=!e.exclusive&&!e.namespace,h=ye.event.special[e.type]||{},g=[];if((p[0]=e).delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){if(f&&(!e.button||"click"!==e.type))for(r=e.target;r!=this;r=r.parentNode||this)if(!0!==r.disabled||"click"!==e.type){for(o={},s=[],t=0;t<f;t++)o[u=(l=c[t]).selector]===C&&(o[u]=l.needsContext?0<=ye(u,this).index(r):ye.find(u,this,null,[r]).length),o[u]&&s.push(l);s.length&&g.push({elem:r,matches:s})}for(c.length>f&&g.push({elem:this,matches:c.slice(f)}),t=0;t<g.length&&!e.isPropagationStopped();t++)for(a=g[t],e.currentTarget=a.elem,n=0;n<a.matches.length&&!e.isImmediatePropagationStopped();n++)l=a.matches[n],(d||!e.namespace&&!l.namespace||e.namespace_re&&e.namespace_re.test(l.namespace))&&(e.data=l.data,e.handleObj=l,(i=((ye.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,p))!==C&&(!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation())));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||F).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),!e.which&&o!==C&&(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ye.expando])return e;var t,n,r=e,i=ye.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=ye.Event(r),t=o.length;t;)e[n=o[--t]]=r[n];return e.target||(e.target=r.srcElement||F),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){ye.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=ye.extend(new ye.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ye.event.trigger(i,null,t):ye.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ye.event.handle=ye.event.dispatch,ye.removeEvent=F.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},ye.Event=function(e,t){if(!(this instanceof ye.Event))return new ye.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?n:s):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),this[ye.expando]=!0},ye.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=n;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},ye.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,i){ye.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;r.selector;return n&&(n===this||ye.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ye.support.submitBubbles||(ye.event.special.submit={setup:function(){if(ye.nodeName(this,"form"))return!1;ye.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ye.nodeName(t,"input")||ye.nodeName(t,"button")?t.form:C;n&&!ye._data(n,"_submit_attached")&&(ye.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ye._data(n,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ye.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ye.nodeName(this,"form"))return!1;ye.event.remove(this,"._submit")}}),ye.support.changeBubbles||(ye.event.special.change={setup:function(){if(be.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ye.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ye.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ye.event.simulate("change",this,e,!0)})),!1;ye.event.add(this,"beforeactivate._change",function(e){var t=e.target;be.test(t.nodeName)&&!ye._data(t,"_change_attached")&&(ye.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&ye.event.simulate("change",this.parentNode,e,!0)}),ye._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ye.event.remove(this,"._change"),!be.test(this.nodeName)}}),ye.support.focusinBubbles||ye.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ye.event.simulate(t,e.target,ye.event.fix(e),!0)};ye.event.special[t]={setup:function(){0==n++&&F.addEventListener(e,r,!0)},teardown:function(){0==--n&&F.removeEventListener(e,r,!0)}}}),ye.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=C),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=C):null==r&&("string"==typeof t?(r=n,n=C):(r=n,n=t,t=C)),!1===r)r=s;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return ye().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=ye.guid++)),this.each(function(){ye.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ye(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=C),!1===n&&(n=s),this.each(function(){ye.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return ye(this.context).on(e,this.selector,t,n),this},die:function(e,t){return ye(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return ye.event.trigger(e,t,this[0],!0)},toggle:function(n){var r=arguments,e=n.guid||ye.guid++,i=0,t=function(e){var t=(ye._data(this,"lastToggle"+n.guid)||0)%i;return ye._data(this,"lastToggle"+n.guid,t+1),e.preventDefault(),r[t].apply(this,arguments)||!1};for(t.guid=e;i<r.length;)r[i++].guid=e;return this.click(t)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ye.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){ye.fn[n]=function(e,t){return null==t&&(t=e,e=null),0<arguments.length?this.on(n,null,e,t):this.trigger(n)},Te.test(n)&&(ye.event.fixHooks[n]=ye.event.keyHooks),Ne.test(n)&&(ye.event.fixHooks[n]=ye.event.mouseHooks)}),function(e,t){function w(e,t,n,r){n=n||[];var i,o,a,s,l=(t=t||_).nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(!(a=g(t))&&!r&&(i=oe.exec(e)))if(s=i[1]){if(9===l){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&m(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return R.apply(n,$.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&ge&&t.getElementsByClassName)return R.apply(n,$.call(t.getElementsByClassName(s),0)),n}return u(e.replace(te,"$1"),t,n,r,a)}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function i(a){return z(function(o){return o=+o,z(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function c(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function f(e,t){var n,r,i,o,a,s,l,u=Y[M][e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=C.preFilter;a;){for(o in n&&!(r=ne.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=re.exec(a))&&(i.push(n=new O(r.shift())),a=a.slice(n.length),n.type=r[0].replace(te," ")),C.filter)(r=ce[o].exec(a))&&(!l[o]||(r=l[o](r)))&&(i.push(n=new O(r.shift())),a=a.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?a.length:a?w.error(e):Y(e,s).slice(0)}function p(a,e,t){var s=e.dir,l=t&&"parentNode"===e.dir,u=W++;return e.first?function(e,t,n){for(;e=e[s];)if(l||1===e.nodeType)return a(e,t,n)}:function(e,t,n){if(n){for(;e=e[s];)if((l||1===e.nodeType)&&a(e,t,n))return e}else for(var r,i=B+" "+u+" ",o=i+N;e=e[s];)if(l||1===e.nodeType){if((r=e[M])===o)return e.sizset;if("string"==typeof r&&0===r.indexOf(i)){if(e.sizset)return e}else{if(e[M]=o,a(e,t,n))return e.sizset=!0,e;e.sizset=!1}}}}function d(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function T(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function v(d,h,g,m,y,e){return m&&!m[M]&&(m=v(m)),y&&!y[M]&&(y=v(y,e)),z(function(e,t,n,r){var i,o,a,s=[],l=[],u=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)w(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:T(c,s,d,n,r),p=g?y||(e?d:u||m)?[]:t:f;if(g&&g(f,p,n,r),m)for(i=T(p,l),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[l[o]]=!(f[l[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?I.call(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=T(p===t?p.splice(u,p.length):p),y?y(null,t,p,r):R.apply(t,p)})}function h(e){for(var r,t,n,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=p(function(e){return e===r},a,!0),u=p(function(e){return-1<I.call(r,e)},a,!0),c=[function(e,t,n){return!o&&(n||t!==k)||((r=t).nodeType?l(e,t,n):u(e,t,n))}];s<i;s++)if(t=C.relative[e[s].type])c=[p(d(c),t)];else{if((t=C.filter[e[s].type].apply(null,e[s].matches))[M]){for(n=++s;n<i&&!C.relative[e[n].type];n++);return v(1<s&&d(c),1<s&&e.slice(0,s-1).join("").replace(te,"$1"),t,s<n&&h(e.slice(s,n)),n<i&&h(e=e.slice(n)),n<i&&e.join(""))}c.push(t)}return d(c)}function u(e,t,n,r,i){var o,a,s,l,u,c=f(e);c.length;if(!r&&1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(s=a[0]).type&&9===t.nodeType&&!i&&C.relative[a[1].type]){if(!(t=C.find.ID(s.matches[0].replace(ue,""),t,i)[0]))return n;e=e.slice(a.shift().length)}for(o=ce.POS.test(e)?-1:a.length-1;0<=o&&(s=a[o],!C.relative[l=s.type]);o--)if((u=C.find[l])&&(r=u(s.matches[0].replace(ue,""),ae.test(a[0].type)&&t.parentNode||t,i))){if(a.splice(o,1),!(e=r.length&&a.join("")))return R.apply(n,$.call(r,0)),n;break}}return y(e,c)(r,t,i,n,ae.test(e)),n}function o(){}var N,a,C,s,g,m,y,l,b,k,x,E,S,A,j,D,L,H,F="undefined",M=("sizcache"+Math.random()).replace(".",""),O=String,_=e.document,q=_.documentElement,B=0,W=0,P=[].pop,R=[].push,$=[].slice,I=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},z=function(e,t){return e[M]=null==t||t,e},X=function(){var n={},r=[];return z(function(e,t){return r.push(e)>C.cacheLength&&delete n[r.shift()],n[e+" "]=t},n)},U=X(),Y=X(),V=X(),J="[\\x20\\t\\r\\n\\f]",G="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Q=G.replace("w","w#"),K="\\["+J+"*("+G+")"+J+"*(?:([*^$|!~]?=)"+J+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Q+")|)|)"+J+"*\\]",Z=":("+G+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K+")|[^:]|\\\\.)*|.*))\\)|)",ee=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)",te=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),ne=new RegExp("^"+J+"*,"+J+"*"),re=new RegExp("^"+J+"*([\\x20\\t\\r\\n\\f>+~])"+J+"*"),ie=new RegExp(Z),oe=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ae=/[\x20\t\r\n\f]*[+~]/,se=/h\d/i,le=/input|select|textarea|button/i,ue=/\\(?!\\)/g,ce={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),NAME:new RegExp("^\\[name=['\"]?("+G+")['\"]?\\]"),TAG:new RegExp("^("+G.replace("w","w*")+")"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+Z),POS:new RegExp(ee,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),needsContext:new RegExp("^"+J+"*[>+~]|"+ee,"i")},fe=function(e){var t=_.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},pe=fe(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),de=fe(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==F&&"#"===e.firstChild.getAttribute("href")}),he=fe(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ge=fe(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),me=fe(function(e){e.id=M+0,e.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>",q.insertBefore(e,q.firstChild);var t=_.getElementsByName&&_.getElementsByName(M).length===2+_.getElementsByName(M+0).length;return a=!_.getElementById(M),q.removeChild(e),t});try{$.call(q.childNodes,0)[0].nodeType}catch(e){$=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}w.matches=function(e,t){return w(e,null,null,t)},w.matchesSelector=function(e,t){return 0<w(t,null,null,[e]).length},s=w.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},g=w.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},m=w.contains=q.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:q.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},w.attr=function(e,t){var n,r=g(e);return r||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):r||he?e.getAttribute(t):(n=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null},C=w.selectors={cacheLength:50,createPseudo:z,match:ce,attrHandle:de?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:a?function(e,t,n){if(typeof t.getElementById!==F&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,t,n){if(typeof t.getElementById!==F&&!n){var r=t.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==F&&r.getAttributeNode("id").value===e?[r]:void 0:[]}},TAG:pe?function(e,t){if(typeof t.getElementsByTagName!==F)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if("*"!==e)return n;for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i},NAME:me&&function(e,t){if(typeof t.getElementsByName!==F)return t.getElementsByName(name)},CLASS:ge&&function(e,t,n){if(typeof t.getElementsByClassName!==F&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ue,""),e[3]=(e[4]||e[5]||"").replace(ue,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||w.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&w.error(e[0]),e},PSEUDO:function(e){var t,n;return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(ie.test(t)&&(n=f(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:a?function(t){return t=t.replace(ue,""),function(e){return e.getAttribute("id")===t}}:function(n){return n=n.replace(ue,""),function(e){var t=typeof e.getAttributeNode!==F&&e.getAttributeNode("id");return t&&t.value===n}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(ue,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(e){var t=U[M][e+" "];return t||(t=new RegExp("(^|"+J+")"+e+"("+J+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==F&&e.getAttribute("class")||"")})},ATTR:function(r,i,o){return function(e,t){var n=w.attr(e,r);return null==n?"!="===i:!i||(n+="","="===i?n===o:"!="===i?n!==o:"^="===i?o&&0===n.indexOf(o):"*="===i?o&&-1<n.indexOf(o):"$="===i?o&&n.substr(n.length-o.length)===o:"~="===i?-1<(" "+n+" ").indexOf(o):"|="===i&&(n===o||n.substr(0,o.length+1)===o+"-"))}},CHILD:function(n,e,i,o){return"nth"===n?function(e){var t,n,r=e.parentNode;if(1===i&&0===o)return!0;if(r)for(n=0,t=r.firstChild;t&&(1!==t.nodeType||(n++,e!==t));t=t.nextSibling);return(n-=o)===i||n%i==0&&0<=n/i}:function(e){var t=e;switch(n){case"only":case"first":for(;t=t.previousSibling;)if(1===t.nodeType)return!1;if("first"===n)return!0;t=e;case"last":for(;t=t.nextSibling;)if(1===t.nodeType)return!1;return!0}}},PSEUDO:function(e,o){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||w.error("unsupported pseudo: "+e);return a[M]?a(o):1<a.length?(t=[e,e,"",o],C.setFilters.hasOwnProperty(e.toLowerCase())?z(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=I.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:z(function(e){var r=[],i=[],s=y(e.replace(te,"$1"));return s[M]?z(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),!i.pop()}}),has:z(function(t){return function(e){return 0<w(t,e).length}}),contains:z(function(t){return function(e){return-1<(e.textContent||e.innerText||s(e)).indexOf(t)}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!C.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if("@"<e.nodeName||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return se.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return le.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:i(function(){return[0]}),last:i(function(e,t){return[t-1]}),eq:i(function(e,t,n){return[n<0?n+t:n]}),even:i(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:i(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:i(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:i(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},l=q.compareDocumentPosition?function(e,t){return e===t?(b=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return b=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,s=t.parentNode,l=a;if(a===s)return c(e,t);if(!a)return-1;if(!s)return 1;for(;l;)i.unshift(l),l=l.parentNode;for(l=s;l;)o.unshift(l),l=l.parentNode;n=i.length,r=o.length;for(var u=0;u<n&&u<r;u++)if(i[u]!==o[u])return c(i[u],o[u]);return u===n?c(e,o[u],-1):c(i[u],t,1)},[0,0].sort(l),x=!b,w.uniqueSort=function(e){var t,n=[],r=1,i=0;if(b=x,e.sort(l),b){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},w.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},y=w.compile=function(e,t){var n,m,y,v,b,x,r=[],i=[],o=V[M][e+" "];if(!o){for(t||(t=f(e)),n=t.length;n--;)(o=h(t[n]))[M]?r.push(o):i.push(o);o=V(e,(m=i,v=0<(y=r).length,b=0<m.length,(x=function(e,t,n,r,i){var o,a,s,l=[],u=0,c="0",f=e&&[],p=null!=i,d=k,h=e||b&&C.find.TAG("*",i&&t.parentNode||t),g=B+=null==d?1:Math.E;for(p&&(k=t!==_&&t,N=x.el);null!=(o=h[c]);c++){if(b&&o){for(a=0;s=m[a];a++)if(s(o,t,n)){r.push(o);break}p&&(B=g,N=++x.el)}v&&((o=!s&&o)&&u--,e&&f.push(o))}if(u+=c,v&&c!==u){for(a=0;s=y[a];a++)s(f,l,t,n);if(e){if(0<u)for(;c--;)!f[c]&&!l[c]&&(l[c]=P.call(r));l=T(l)}R.apply(r,l),p&&!e&&0<l.length&&1<u+y.length&&w.uniqueSort(r)}return p&&(B=g,k=d),f}).el=0,v?z(x):x))}return o},_.querySelectorAll&&(S=u,A=/'|\\/g,j=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,D=[":focus"],L=[":active"],H=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector,fe(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||D.push("\\["+J+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||D.push(":checked")}),fe(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&D.push("[*^$]="+J+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled")}),D=new RegExp(D.join("|")),u=function(e,t,n,r,i){if(!r&&!i&&!D.test(e)){var o,a,s=!0,l=M,u=t,c=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(o=f(e),(s=t.getAttribute("id"))?l=s.replace(A,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",a=o.length;a--;)o[a]=l+o[a].join("");u=ae.test(e)&&t.parentNode||t,c=o.join(",")}if(c)try{return R.apply(n,$.call(u.querySelectorAll(c),0)),n}catch(e){}finally{s||t.removeAttribute("id")}}return S(e,t,n,r,i)},H&&(fe(function(e){E=H.call(e,"div");try{H.call(e,"[test!='']:sizzle"),L.push("!=",Z)}catch(e){}}),L=new RegExp(L.join("|")),w.matchesSelector=function(e,t){if(t=t.replace(j,"='$1']"),!g(e)&&!L.test(t)&&!D.test(t))try{var n=H.call(e,t);if(n||E||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<w(t,null,null,[e]).length})),C.pseudos.nth=C.pseudos.eq,C.filters=o.prototype=C.pseudos,C.setFilters=new o,w.attr=ye.attr,ye.find=w,ye.expr=w.selectors,ye.expr[":"]=ye.expr.pseudos,ye.unique=w.uniqueSort,ye.text=w.getText,ye.isXMLDoc=w.isXML,ye.contains=w.contains}(m);var Ee=/Until$/,Se=/^(?:parents|prev(?:Until|All))/,Ae=/^.[^:#\[\.,]*$/,je=ye.expr.match.needsContext,De={children:!0,contents:!0,next:!0,prev:!0};ye.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return ye(e).filter(function(){for(t=0,n=s.length;t<n;t++)if(ye.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;t<n;t++)if(r=a.length,ye.find(e,this[t],a),0<t)for(i=r;i<a.length;i++)for(o=0;o<r;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=ye(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ye.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(r(this,e,!1),"not",e)},filter:function(e){return this.pushStack(r(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?je.test(e)?0<=ye(e,this.context).index(this[0]):0<ye.filter(e,this).length:0<this.filter(e).length)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=je.test(e)||"string"!=typeof e?ye(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?-1<a.index(n):ye.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=1<o.length?ye.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?ye.inArray(this[0],ye(e)):ye.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ye(e,t):ye.makeArray(e&&e.nodeType?[e]:e),r=ye.merge(this.get(),n);return this.pushStack(i(n[0])||i(r[0])?r:ye.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.fn.andSelf=ye.fn.addBack,ye.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ye.dir(e,"parentNode",n)},next:function(e){return t(e,"nextSibling")},prev:function(e){return t(e,"previousSibling")},nextAll:function(e){return ye.dir(e,"nextSibling")},prevAll:function(e){return ye.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ye.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye.dir(e,"previousSibling",n)},siblings:function(e){return ye.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ye.sibling(e.firstChild)},contents:function(e){return ye.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ye.merge([],e.childNodes)}},function(r,i){ye.fn[r]=function(e,t){var n=ye.map(this,i,e);return Ee.test(r)||(t=e),t&&"string"==typeof t&&(n=ye.filter(t,n)),n=1<this.length&&!De[r]?ye.unique(n):n,1<this.length&&Se.test(r)&&(n=n.reverse()),this.pushStack(n,r,W.call(arguments).join(","))}}),ye.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?ye.find.matchesSelector(t[0],e)?[t[0]]:[]:ye.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(n===C||1!==i.nodeType||!ye(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Le,He,Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Me=/ jQuery\d+="(?:null|\d+)"/g,Oe=/^\s+/,_e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qe=/<([\w:]+)/,Be=/<tbody/i,We=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,Re=/<(?:script|object|embed|option|style)/i,$e=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Ie=/^(?:checkbox|radio)$/,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/\/(java|ecma)script/i,Ue=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ve=y(F),Je=Ve.appendChild(F.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ye.support.htmlSerialize||(Ye._default=[1,"X<div>","</div>"]),ye.fn.extend({text:function(e){return ye.access(this,function(e){return e===C?ye.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(e))},null,e,arguments.length)},wrapAll:function(t){if(ye.isFunction(t))return this.each(function(e){ye(this).wrapAll(t.call(this,e))});if(this[0]){var e=ye(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return ye.isFunction(n)?this.each(function(e){ye(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ye(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ye.isFunction(t);return this.each(function(e){ye(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){ye.nodeName(this,"body")||ye(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=ye.clean(arguments);return this.pushStack(ye.merge(e,this),"before",this.selector)}},after:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=ye.clean(arguments);return this.pushStack(ye.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)e&&!ye.filter(e,[n]).length||(!t&&1===n.nodeType&&(ye.cleanData(n.getElementsByTagName("*")),ye.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&ye.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return ye.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===C)return 1===t.nodeType?t.innerHTML.replace(Me,""):C;if("string"==typeof e&&!Pe.test(e)&&(ye.support.htmlSerialize||!$e.test(e))&&(ye.support.leadingWhitespace||!Oe.test(e))&&!Ye[(qe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(_e,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ye.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(r){return i(this[0])?this.length?this.pushStack(ye(ye.isFunction(r)?r():r),"replaceWith",r):this:ye.isFunction(r)?this.each(function(e){var t=ye(this),n=t.html();t.replaceWith(r.call(this,e,n))}):("string"!=typeof r&&(r=ye(r).detach()),this.each(function(){var e=this.nextSibling,t=this.parentNode;ye(this).remove(),e?ye(e).before(r):ye(t).append(r)}))},detach:function(e){return this.remove(e,!0)},domManip:function(n,r,i){var e,t,o,a,s,l,u=0,c=(n=[].concat.apply([],n))[0],f=[],p=this.length;if(!ye.support.checkClone&&1<p&&"string"==typeof c&&ze.test(c))return this.each(function(){ye(this).domManip(n,r,i)});if(ye.isFunction(c))return this.each(function(e){var t=ye(this);n[0]=c.call(this,e,r?t.html():C),t.domManip(n,r,i)});if(this[0]){if(t=(o=(e=ye.buildFragment(n,this,f)).fragment).firstChild,1===o.childNodes.length&&(o=t),t)for(r=r&&ye.nodeName(t,"tr"),a=e.cacheable||p-1;u<p;u++)i.call(r&&ye.nodeName(this[u],"table")?(s=this[u],l="tbody",s.getElementsByTagName(l)[0]||s.appendChild(s.ownerDocument.createElement(l))):this[u],u===a?o:ye.clone(o,!0,!0));o=t=null,f.length&&ye.each(f,function(e,t){t.src?ye.ajax?ye.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):ye.error("no ajax"):ye.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ue,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),ye.buildFragment=function(e,t,n){var r,i,o,a=e[0];return t=(t=!(t=t||F).nodeType&&t[0]||t).ownerDocument||t,1===e.length&&"string"==typeof a&&a.length<512&&t===F&&"<"===a.charAt(0)&&!Re.test(a)&&(ye.support.checkClone||!ze.test(a))&&(ye.support.html5Clone||!$e.test(a))&&(i=!0,o=(r=ye.fragments[a])!==C),r||(r=t.createDocumentFragment(),ye.clean(e,t,r,n),i&&(ye.fragments[a]=o&&r)),{fragment:r,cacheable:i}},ye.fragments={},ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,l){ye.fn[s]=function(e){var t,n=0,r=[],i=ye(e),o=i.length,a=1===this.length&&this[0].parentNode;if((null==a||a&&11===a.nodeType&&1===a.childNodes.length)&&1===o)return i[l](this[0]),this;for(;n<o;n++)t=(0<n?this.clone(!0):this).get(),ye(i[n])[l](t),r=r.concat(t);return this.pushStack(r,s,i.selector)}}),ye.extend({clone:function(e,t,n){var r,i,o,a;if(ye.support.html5Clone||ye.isXMLDoc(e)||!$e.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Je.innerHTML=e.outerHTML,Je.removeChild(a=Je.firstChild)),!(ye.support.noCloneEvent&&ye.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ye.isXMLDoc(e)))for(f(e,a),r=p(e),i=p(a),o=0;r[o];++o)i[o]&&f(r[o],i[o]);if(t&&(l(e,a),n))for(r=p(e),i=p(a),o=0;r[o];++o)l(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,l,u,c,f,p,d,h,g=t===F&&Ve,m=[];for(t&&void 0!==t.createDocumentFragment||(t=F),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(We.test(a)){for(g=g||y(t),c=t.createElement("div"),g.appendChild(c),a=a.replace(_e,"<$1></$2>"),s=(qe.exec(a)||["",""])[1].toLowerCase(),u=(l=Ye[s]||Ye._default)[0],c.innerHTML=l[1]+a+l[2];u--;)c=c.lastChild;if(!ye.support.tbody)for(f=Be.test(a),o=(p="table"!==s||f?"<table>"!==l[1]||f?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes).length-1;0<=o;--o)ye.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!ye.support.leadingWhitespace&&Oe.test(a)&&c.insertBefore(t.createTextNode(Oe.exec(a)[0]),c.firstChild),a=c.childNodes,c.parentNode.removeChild(c)}else a=t.createTextNode(a);a.nodeType?m.push(a):ye.merge(m,a)}if(c&&(a=c=g=null),!ye.support.appendChecked)for(i=0;null!=(a=m[i]);i++)ye.nodeName(a,"input")?v(a):void 0!==a.getElementsByTagName&&ye.grep(a.getElementsByTagName("input"),v);if(n)for(d=function(e){if(!e.type||Xe.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},i=0;null!=(a=m[i]);i++)ye.nodeName(a,"script")&&d(a)||(n.appendChild(a),void 0!==a.getElementsByTagName&&(h=ye.grep(ye.merge([],a.getElementsByTagName("script")),d),m.splice.apply(m,[i+1,0].concat(h)),i+=h.length));return m},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ye.expando,l=ye.cache,u=ye.support.deleteExpando,c=ye.event.special;null!=(i=e[a]);a++)if((t||ye.acceptData(i))&&(n=(r=i[s])&&l[r])){if(n.events)for(o in n.events)c[o]?ye.event.remove(i,o):ye.removeEvent(i,o,n.handle);l[r]&&(delete l[r],u?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,ye.deletedIds.push(r))}}}),ye.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},He={},(Le=ye.uaMatch(O.userAgent)).browser&&(He[Le.browser]=!0,He.version=Le.version),He.chrome?He.webkit=!0:He.webkit&&(He.safari=!0),ye.browser=He,ye.sub=function(){function n(e,t){return new n.fn.init(e,t)}ye.extend(!0,n,this),n.superclass=this,((n.fn=n.prototype=this()).constructor=n).sub=this.sub,n.fn.init=function(e,t){return t&&t instanceof ye&&!(t instanceof n)&&(t=n(t)),ye.fn.init.call(this,e,t,r)},n.fn.init.prototype=n.fn;var r=n(F);return n};var Ge,Qe,Ke,Ze=/alpha\([^)]*\)/i,et=/opacity=([^)]*)/,tt=/^(top|right|bottom|left)$/,nt=/^(none|table(?!-c[ea]).+)/,rt=/^margin/,it=new RegExp("^("+z+")(.*)$","i"),ot=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),at=new RegExp("^([-+])=("+z+")","i"),st={BODY:"block"},lt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:0,fontWeight:400},ct=["Top","Right","Bottom","Left"],ft=["Webkit","O","Moz","ms"],pt=ye.fn.toggle;ye.fn.extend({css:function(e,t){return ye.access(this,function(e,t,n){return n!==C?ye.style(e,t,n):ye.css(e,t)},e,t,1<arguments.length)},show:function(){return e(this,!0)},hide:function(){return e(this)},toggle:function(e,t){var n="boolean"==typeof e;return ye.isFunction(e)&&ye.isFunction(t)?pt.apply(this,arguments):this.each(function(){(n?e:b(this))?ye(this).show():ye(this).hide()})}}),ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ye.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ye.camelCase(t),l=e.style;if(t=ye.cssProps[s]||(ye.cssProps[s]=d(l,s)),a=ye.cssHooks[t]||ye.cssHooks[s],n===C)return a&&"get"in a&&(i=a.get(e,!1,r))!==C?i:l[t];if("string"===(o=typeof n)&&(i=at.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ye.css(e,t)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"===o&&!ye.cssNumber[s]&&(n+="px"),a&&"set"in a&&(n=a.set(e,n,r))===C)))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=ye.camelCase(t);return t=ye.cssProps[s]||(ye.cssProps[s]=d(e.style,s)),(a=ye.cssHooks[t]||ye.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,r)),i===C&&(i=Ge(e,t)),"normal"===i&&t in ut&&(i=ut[t]),n||r!==C?(o=parseFloat(i),n||ye.isNumeric(o)?o||0:i):i},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r}}),m.getComputedStyle?Ge=function(e,t){var n,r,i,o,a=m.getComputedStyle(e,null),s=e.style;return a&&(""===(n=a.getPropertyValue(t)||a[t])&&!ye.contains(e.ownerDocument,e)&&(n=ye.style(e,t)),ot.test(n)&&rt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=a.width,s.width=r,s.minWidth=i,s.maxWidth=o)),n}:F.documentElement.currentStyle&&(Ge=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),ot.test(i)&&!tt.test(t)&&(n=o.left,(r=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),ye.each(["height","width"],function(e,r){ye.cssHooks[r]={get:function(e,t,n){if(t)return 0===e.offsetWidth&&nt.test(Ge(e,"display"))?ye.swap(e,lt,function(){return o(e,r,n)}):o(e,r,n)},set:function(e,t,n){return a(0,t,n?h(e,r,n,ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing")):0)}}}),ye.support.opacity||(ye.cssHooks.opacity={get:function(e,t){return et.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ye.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";(n.zoom=1)<=t&&""===ye.trim(o.replace(Ze,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Ze.test(o)?o.replace(Ze,i):o+" "+i)}}),ye(function(){ye.support.reliableMarginRight||(ye.cssHooks.marginRight={get:function(e,t){return ye.swap(e,{display:"inline-block"},function(){if(t)return Ge(e,"marginRight")})}}),!ye.support.pixelPosition&&ye.fn.position&&ye.each(["top","left"],function(e,r){ye.cssHooks[r]={get:function(e,t){if(t){var n=Ge(e,r);return ot.test(n)?ye(e).position()[r]+"px":n}}}})}),ye.expr&&ye.expr.filters&&(ye.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!ye.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Ge(e,"display"))},ye.expr.filters.visible=function(e){return!ye.expr.filters.hidden(e)}),ye.each({margin:"",padding:"",border:"Width"},function(i,o){ye.cssHooks[i+o]={expand:function(e){var t,n="string"==typeof e?e.split(" "):[e],r={};for(t=0;t<4;t++)r[i+ct[t]+o]=n[t]||n[t-2]||n[0];return r}},rt.test(i)||(ye.cssHooks[i+o].set=a)});var dt=/%20/g,ht=/\[\]$/,gt=/\r?\n/g,mt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,yt=/^(?:select|textarea)/i;ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?ye.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||yt.test(this.nodeName)||mt.test(this.type))}).map(function(e,n){var t=ye(this).val();return null==t?null:ye.isArray(t)?ye.map(t,function(e,t){return{name:n.name,value:e.replace(gt,"\r\n")}}):{name:n.name,value:t.replace(gt,"\r\n")}}).get()}}),ye.param=function(e,t){var n,r=[],i=function(e,t){t=ye.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===C&&(t=ye.ajaxSettings&&ye.ajaxSettings.traditional),ye.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){i(this.name,this.value)});else for(n in e)g(n,e[n],t,i);return r.join("&").replace(dt,"+")};var vt,bt,xt=/#.*$/,wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Tt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Ct=/\?/,kt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Et=/([?&])_=[^&]*/,St=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,At=ye.fn.load,jt={},Dt={},Lt=["*/"]+["*"];try{bt=M.href}catch(e){(bt=F.createElement("a")).href="",bt=bt.href}vt=St.exec(bt.toLowerCase())||[],ye.fn.load=function(e,t,n){if("string"!=typeof e&&At)return At.apply(this,arguments);if(!this.length)return this;var r,i,o,a=this,s=e.indexOf(" ");return 0<=s&&(r=e.slice(s,e.length),e=e.slice(0,s)),ye.isFunction(t)?(n=t,t=C):t&&"object"==typeof t&&(i="POST"),ye.ajax({url:e,type:i,dataType:"html",data:t,complete:function(e,t){n&&a.each(n,o||[e.responseText,t,e])}}).done(function(e){o=arguments,a.html(r?ye("<div>").append(e.replace(kt,"")).find(r):e)}),this},ye.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.each(["get","post"],function(e,i){ye[i]=function(e,t,n,r){return ye.isFunction(t)&&(r=r||n,n=t,t=C),ye.ajax({type:i,url:e,data:t,success:n,dataType:r})}}),ye.extend({getScript:function(e,t){return ye.get(e,C,t,"script")},getJSON:function(e,t,n){return ye.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?T(e,ye.ajaxSettings):(t=e,e=ye.ajaxSettings),T(e,t),e},ajaxSettings:{url:bt,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(vt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Lt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":m.String,"text html":!0,"text json":ye.parseJSON,"text xml":ye.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(jt),ajaxTransport:w(Dt),ajax:function(e,t){function n(e,t,n,r){var i,o,a,s,l,u=t;2!==w&&(w=2,d&&clearTimeout(d),p=C,f=r||"",T.readyState=0<e?4:0,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,l=e.dataTypes,u=e.responseFields;for(i in u)i in n&&(t[u[i]]=n[i]);for(;"*"===l[0];)l.shift(),r===C&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,T,n)),200<=e&&e<300||304===e?(g.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(ye.lastModified[c]=l),(l=T.getResponseHeader("Etag"))&&(ye.etag[c]=l)),i=304===e?(u="notmodified",!0):(u=(i=function(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if("*"!==i){if("*"!==s&&s!==i){if(!(n=l[s+" "+i]||l["* "+i]))for(r in l)if((o=r.split(" "))[1]===i&&(n=l[s+" "+o[0]]||l["* "+o[0]])){!0===n?n=l[r]:!0!==l[r]&&(i=o[0],a.splice(u--,0,i));break}if(!0!==n)if(n&&e.throws)t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}(g,s)).state,o=i.data,!(a=i.error))):(a=u)&&!e||(u="error",e<0&&(e=0)),T.status=e,T.statusText=(t||u)+"",i?v.resolveWith(m,[o,u,T]):v.rejectWith(m,[T,u,a]),T.statusCode(x),x=C,h&&y.trigger("ajax"+(i?"Success":"Error"),[T,g,i?o:a]),b.fireWith(m,[T,u]),h&&(y.trigger("ajaxComplete",[T,g]),--ye.active||ye.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=C),t=t||{};var c,f,r,p,d,i,h,o,g=ye.ajaxSetup({},t),m=g.context||g,y=m!==g&&(m.nodeType||m instanceof ye)?ye(m):ye.event,v=ye.Deferred(),b=ye.Callbacks("once memory"),x=g.statusCode||{},a={},s={},w=0,l="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=s[n]=s[n]||e,a[e]=t}return this},getAllResponseHeaders:function(){return 2===w?f:null},getResponseHeader:function(e){var t;if(2===w){if(!r)for(r={};t=wt.exec(f);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return t===C?null:t},overrideMimeType:function(e){return w||(g.mimeType=e),this},abort:function(e){return e=e||l,p&&p.abort(e),n(0,e),this}};if(v.promise(T),T.success=T.done,T.error=T.fail,T.complete=b.add,T.statusCode=function(e){var t;if(e)if(w<2)for(t in e)x[t]=[x[t],e[t]];else t=e[T.status],T.always(t);return this},g.url=((e||g.url)+"").replace(xt,"").replace(Nt,vt[1]+"//"),g.dataTypes=ye.trim(g.dataType||"*").toLowerCase().split(U),null==g.crossDomain&&(i=St.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===vt[1]&&i[2]===vt[2]&&(i[3]||("http:"===i[1]?80:443))==(vt[3]||("http:"===vt[1]?80:443)))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ye.param(g.data,g.traditional)),k(jt,g,t,T),2===w)return T;if(h=g.global,g.type=g.type.toUpperCase(),g.hasContent=!Tt.test(g.type),h&&0==ye.active++&&ye.event.trigger("ajaxStart"),!g.hasContent&&(g.data&&(g.url+=(Ct.test(g.url)?"&":"?")+g.data,delete g.data),c=g.url,!1===g.cache)){var u=ye.now(),N=g.url.replace(Et,"$1_="+u);g.url=N+(N===g.url?(Ct.test(g.url)?"&":"?")+"_="+u:"")}for(o in(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),g.ifModified&&(c=c||g.url,ye.lastModified[c]&&T.setRequestHeader("If-Modified-Since",ye.lastModified[c]),ye.etag[c]&&T.setRequestHeader("If-None-Match",ye.etag[c])),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Lt+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(o,g.headers[o]);if(!g.beforeSend||!1!==g.beforeSend.call(m,T,g)&&2!==w){for(o in l="abort",{success:1,error:1,complete:1})T[o](g[o]);if(p=k(Dt,g,t,T)){T.readyState=1,h&&y.trigger("ajaxSend",[T,g]),g.async&&0<g.timeout&&(d=setTimeout(function(){T.abort("timeout")},g.timeout));try{w=1,p.send(a,n)}catch(e){if(!(w<2))throw e;n(-1,e)}}else n(-1,"No Transport");return T}return T.abort()},active:0,lastModified:{},etag:{}});var Ht=[],Ft=/\?/,Mt=/(=)\?(?=&|$)|\?\?/,Ot=ye.now();ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ht.pop()||ye.expando+"_"+Ot++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=e.data,s=e.url,l=!1!==e.jsonp,u=l&&Mt.test(s),c=l&&!u&&"string"==typeof a&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(a);if("jsonp"===e.dataTypes[0]||u||c)return r=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,i=m[r],u?e.url=s.replace(Mt,"$1"+r):c?e.data=a.replace(Mt,"$1"+r):l&&(e.url+=(Ft.test(s)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ye.error(r+" was not called"),o[0]},e.dataTypes[0]="json",m[r]=function(){o=arguments},n.always(function(){m[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ht.push(r)),o&&ye.isFunction(i)&&i(o[0]),o=i=C}),"script"}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){e.cache===C&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ye.ajaxTransport("script",function(t){if(t.crossDomain){var r,i=F.head||F.getElementsByTagName("head")[0]||F.documentElement;return{send:function(e,n){(r=F.createElement("script")).async="async",t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r),r=C,t||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(0,1)}}}});var _t,qt,Bt=!!m.ActiveXObject&&function(){for(var e in _t)_t[e](0,1)},Wt=0;ye.ajaxSettings.xhr=m.ActiveXObject?function(){return!this.isLocal&&N()||function(){try{return new m.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:N,qt=ye.ajaxSettings.xhr(),ye.extend(ye.support,{ajax:!!qt,cors:!!qt&&"withCredentials"in qt}),ye.support.ajax&&ye.ajaxTransport(function(c){var f;if(!c.crossDomain||ye.support.cors)return{send:function(e,s){var l,t,u=c.xhr();if(c.username?u.open(c.type,c.url,c.async,c.username,c.password):u.open(c.type,c.url,c.async),c.xhrFields)for(t in c.xhrFields)u[t]=c.xhrFields[t];c.mimeType&&u.overrideMimeType&&u.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)u.setRequestHeader(t,e[t])}catch(e){}u.send(c.hasContent&&c.data||null),f=function(e,t){var n,r,i,o,a;try{if(f&&(t||4===u.readyState))if(f=C,l&&(u.onreadystatechange=ye.noop,Bt&&delete _t[l]),t)4!==u.readyState&&u.abort();else{n=u.status,i=u.getAllResponseHeaders(),o={},(a=u.responseXML)&&a.documentElement&&(o.xml=a);try{o.text=u.responseText}catch(e){}try{r=u.statusText}catch(e){r=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}}catch(e){t||s(-1,e)}o&&s(n,r,o,i)},c.async?4===u.readyState?setTimeout(f,0):(l=++Wt,Bt&&(_t||(_t={},ye(m).unload(Bt)),_t[l]=f),u.onreadystatechange=f):f()},abort:function(){f&&f(0,1)}}});var Pt,Rt,$t=/^(?:toggle|show|hide)$/,It=new RegExp("^(?:([-+])=|)("+z+")([a-z%]*)$","i"),zt=/queueHooks$/,Xt=[function(t,e,n){var r,i,o,a,s,l,u,c,f,p=this,d=t.style,h={},g=[],m=t.nodeType&&b(t);for(r in n.queue||(null==(c=ye._queueHooks(t,"fx")).unqueued&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,p.always(function(){p.always(function(){c.unqueued--,ye.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ye.css(t,"display")&&"none"===ye.css(t,"float")&&(ye.support.inlineBlockNeedsLayout&&"inline"!==x(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ye.support.shrinkWrapBlocks||p.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(o=e[r],$t.exec(o)){if(delete e[r],l=l||"toggle"===o,o===(m?"hide":"show"))continue;g.push(r)}if(a=g.length){"hidden"in(s=ye._data(t,"fxshow")||ye._data(t,"fxshow",{}))&&(m=s.hidden),l&&(s.hidden=!m),m?ye(t).show():p.done(function(){ye(t).hide()}),p.done(function(){var e;for(e in ye.removeData(t,"fxshow",!0),h)ye.style(t,e,h[e])});for(r=0;r<a;r++)i=g[r],u=p.createTween(i,m?s[i]:0),h[i]=s[i]||ye.style(t,i),i in s||(s[i]=u.start,m&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}],Ut={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=It.exec(t),a=i.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],"px"!==(r=o[3]||(ye.cssNumber[e]?"":"px"))&&s)for(s=ye.css(i.elem,e,!0)||n||1;s/=l=l||".5",ye.style(i.elem,e,s+r),l!==(l=i.cur()/a)&&1!==l&&--u;);i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};ye.Animation=ye.extend(S,{tweener:function(e,t){for(var n,r=0,i=(e=ye.isFunction(e)?(t=e,["*"]):e.split(" ")).length;r<i;r++)n=e[r],Ut[n]=Ut[n]||[],Ut[n].unshift(t)},prefilter:function(e,t){t?Xt.unshift(e):Xt.push(e)}}),((ye.Tween=A).prototype={constructor:A,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ye.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}}).init.prototype=A.prototype,(A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ye.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ye.cssProps[e.prop]]||ye.cssHooks[e.prop])?ye.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.each(["toggle","show","hide"],function(r,i){var o=ye.fn[i];ye.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e||!r&&ye.isFunction(e)&&ye.isFunction(t)?o.apply(this,arguments):this.animate(j(i,!0),e,t,n)}}),ye.fn.extend({fadeTo:function(e,t,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ye.isEmptyObject(t),o=ye.speed(e,n,r),a=function(){var e=S(this,ye.extend({},t),o);i&&e.stop(!0)};return i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=C),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ye.timers,r=ye._data(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&zt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem===this&&(null==i||n[t].queue===i)&&(n[t].anim.stop(o),e=!1,n.splice(t,1));(e||!o)&&ye.dequeue(this,i)})}}),ye.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ye.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ye.speed=function(e,t,n){var r=e&&"object"==typeof e?ye.extend({},e):{complete:n||!n&&t||ye.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ye.isFunction(t)&&t};return r.duration=ye.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ye.fx.speeds?ye.fx.speeds[r.duration]:ye.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ye.isFunction(r.old)&&r.old.call(this),r.queue&&ye.dequeue(this,r.queue)},r},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ye.timers=[],ye.fx=A.prototype.init,ye.fx.tick=function(){var e,t=ye.timers,n=0;for(Pt=ye.now();n<t.length;n++)!(e=t[n])()&&t[n]===e&&t.splice(n--,1);t.length||ye.fx.stop(),Pt=C},ye.fx.timer=function(e){e()&&ye.timers.push(e)&&!Rt&&(Rt=setInterval(ye.fx.tick,ye.fx.interval))},ye.fx.interval=13,ye.fx.stop=function(){clearInterval(Rt),Rt=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fx.step={},ye.expr&&ye.expr.filters&&(ye.expr.filters.animated=function(t){return ye.grep(ye.timers,function(e){return t===e.elem}).length});var Yt=/^(?:body|html)$/i;ye.fn.offset=function(t){if(arguments.length)return t===C?this:this.each(function(e){ye.offset.setOffset(this,t,e)});var e,n,r,i,o,a,s,l={top:0,left:0},u=this[0],c=u&&u.ownerDocument;return c?(n=c.body)===u?ye.offset.bodyOffset(u):(e=c.documentElement,ye.contains(e,u)?(void 0!==u.getBoundingClientRect&&(l=u.getBoundingClientRect()),r=D(c),i=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,a=r.pageYOffset||e.scrollTop,s=r.pageXOffset||e.scrollLeft,{top:l.top+a-i,left:l.left+s-o}):l):void 0},ye.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return ye.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(ye.css(e,"marginTop"))||0,n+=parseFloat(ye.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=ye.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=ye(e),s=a.offset(),l=ye.css(e,"top"),u=ye.css(e,"left"),c={},f={};o=("absolute"===r||"fixed"===r)&&-1<ye.inArray("auto",[l,u])?(i=(f=a.position()).top,f.left):(i=parseFloat(l)||0,parseFloat(u)||0),ye.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+i),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},ye.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=Yt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(ye.css(e,"marginTop"))||0,n.left-=parseFloat(ye.css(e,"marginLeft"))||0,r.top+=parseFloat(ye.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(ye.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||F.body;e&&!Yt.test(e.nodeName)&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||F.body})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=/Y/.test(i);ye.fn[t]=function(e){return ye.access(this,function(e,t,n){var r=D(e);if(n===C)return r?i in r?r[i]:r.document.documentElement[t]:e[t];r?r.scrollTo(o?ye(r).scrollLeft():n,o?n:ye(r).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),ye.each({Height:"height",Width:"width"},function(o,a){ye.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){ye.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return ye.access(this,function(e,t,n){var r;return ye.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):n===C?ye.css(e,t,n,i):ye.style(e,t,n,i)},a,n?e:C,n,null)}})}),m.jQuery=m.$=ye,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ye})}(window);!function(m){m.browserTest=function(e,r){var s="unknown",i="X",t=function(e,r){for(var o=0;o<r.length;o+=1)e=e.replace(r[o][0],r[o][1]);return e},o=function(e,r,o,a){var n={name:t((r.exec(e)||[s,s])[1],o)};return n[n.name]=!0,n.version=(a.exec(e)||[i,i,i,i])[3],n.name.match(/safari/)&&400<n.version&&(n.version="2.0"),"presto"===n.name&&(n.version=9.27<m.browser.version?"futhark":"linear_b"),n.versionNumber=parseFloat(n.version,10)||0,n.versionX=n.version!==i?(n.version+"").substr(0,1):i,n.className=n.name+n.versionX,n};e=((e=/Trident/.exec(e)&&/rv/.exec(e)?e.replace("rv:","msie/"):e).match(/Opera|Navigator|Minefield|KHTML|Chrome/)?t(e,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):e).toLowerCase(),m.browser=m.extend(r?{}:m.browser,o(e,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari|mobile|nintendo|dolfin)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari|mobile|nintendo)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|\)|$)/)),m.layout=o(e,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/\s)([a-z0-9\.]*?)(\;|\)|\s)/);var a=(/(wince|win|mac|linux|sunos|solaris|iphone|ipad|ipod|nokia|webos|blackberry|s60|widerweb|symbian|nintendo|bada|kfot|playstation)/.exec(navigator.platform.toLowerCase())||[s])[0].replace("sunos","solaris").replace("widerweb","motorola").replace("s60","symbian").replace("kfot","kindle");a=(/(android)/.exec(e.toLowerCase())||[a])[0],a=(/(windows)/.exec(e.toLowerCase())||[a])[0],m.browser.name="playstation"==a&&"unknown"==m.browser.name?"mobile":m.browser.name,m.os={name:a},r||m("html").addClass([m.os.name,m.browser.name,m.browser.className,m.layout.name,m.layout.className].join(" "))},m.browserTest(navigator.userAgent)}(jQuery);!function(){var o,d=0,i=0,u={},h={};function m(e,t,n){return"_root"==t?n:e!==n?(i=e,o||(o=i.matches?i.matches:i.webkitMatchesSelector?i.webkitMatchesSelector:i.mozMatchesSelector?i.mozMatchesSelector:i.msMatchesSelector?i.msMatchesSelector:i.oMatchesSelector?i.oMatchesSelector:v.matchesSelector)).call(e,t)?e:e.parentNode?(d++,m(e.parentNode,t,n)):void 0:void 0;var i}function p(e,t,n,i){if(u[e.id])if(t)if(i||n)if(i){if(u[e.id][t][n])for(var o=0;o<u[e.id][t][n].length;o++)if(u[e.id][t][n][o]===i){u[e.id][t][n].splice(o,1);break}}else delete u[e.id][t][n];else u[e.id][t]={};else for(var r in u[e.id])u[e.id].hasOwnProperty(r)&&(u[e.id][r]={})}function r(e,t,n,i){if(this.element){e instanceof Array||(e=[e]),n||"function"!=typeof t||(n=t,t="_root");var o,r,c,a,f,l=this.id;for(o=0;o<e.length;o++)i?p(this,e[o],t,n):(u[l]&&u[l][e[o]]||v.addEvent(this,e[o],s(e[o])),r=this,c=e[o],a=t,f=n,u[r.id]||(u[r.id]={}),u[r.id][c]||(u[r.id][c]={}),u[r.id][c][a]||(u[r.id][c][a]=[]),u[r.id][c][a].push(f));return this}function s(t){return function(e){!function(e,t,n){if(u[e][n]){var i,o,r=t.target||t.srcElement,c={},a=0,f=0;for(i in d=0,u[e][n])u[e][n].hasOwnProperty(i)&&(o=m(r,i,h[e].element))&&v.matchesEvent(n,h[e].element,o,"_root"==i,t)&&(d++,u[e][n][i].match=o,c[d]=u[e][n][i]);for(t.stopPropagation=function(){t.cancelBubble=!0},a=0;a<=d;a++)if(c[a])for(f=0;f<c[a].length;f++){if(!1===c[a][f].call(c[a].match,t))return v.cancel(t);if(t.cancelBubble)return}}}(l,e,t)}}}function v(e,t){if(!(this instanceof v)){for(var n in h)if(h[n].element===e)return h[n];return h[++i]=new v(e,i),h[i]}this.element=e,this.id=t}v.prototype.on=function(e,t,n){return r.call(this,e,t,n)},v.prototype.off=function(e,t,n){return r.call(this,e,t,n,!0)},v.matchesSelector=function(){},v.cancel=function(e){e.preventDefault(),e.stopPropagation()},v.addEvent=function(e,t,n){var i="blur"==t||"focus"==t;e.element.addEventListener(t,n,i)},v.matchesEvent=function(){return!0},"undefined"!=typeof module&&module.exports&&(module.exports=v),window.Gator=v}();var Markdown={};Markdown={regexes:{markdown_link:/(^|\s)\[(.+?)\]\(((?:https?:\/\/(?:www\.)?|www\.)[a-z0-9][^@ ]*?)\)(?=$|\s)/gi,markdown_quote:/(?:^|\n)(?:!|>\s|&gt;\s)(.+?)(?:\n|$)/gm,markdown_heading:/(?:^|\n)(\#{1,6}) (.*?\S *)(?:\n|$)/gm,markdown_line:/(^|[\n])(\*{3,}|\-{3,})(?=$|[\n])(.*)/g,markdown_codeblock:/(^|\s)`{3}((?:(?:.*?$)\n)?(?:[\s\S]*?))`{3}(?=$|\s)/g,markdown_code:/(^|\s)\`(.*?\S *)?\`(?=$|\s)/g,markdown_bold:/(^|\s|[{\[])\*{1,2}(.*?\S *)?\*{1,2}(?=$|\s|[\.,\?:;\-}\]](?:$|\s))/g,markdown_italic:/(^|\s|[{\[])\_(.*?\S *)?\_(?=$|\s|[\.,\?:;\-}\]](?:$|\s))/g,markdown_underline:/(^|\s|[{\[])\_{2}(.*?\S *)?\_{2}(?=$|\s|[\.,\?:;\-}\]](?:$|\s))/g,markdown_strike:/(^|\s|[{\[])\~(.*?\S *)?\~(?=$|\s|[\.,\?:;\-}\]](?:$|\s))/g,markdown_bullet:/(^\s|\n|^)(\*) (.*?\S *)*(?:(?:.*?$)\n)?((\s)*(\*)(.*?\S *)*(?:(?:.*?$)\n)?)*/gm,markdown_numlist:/(^\s|\n|^)(\d)+(\.) (.*?\S *)*(?:(?:.*?$)\n)?((\s)*(\d)+(\.)(.*?\S *)*(?:(?:.*?$)\n)?)*/gm,markdown_nextline:/(.*)(\n)(.*)/gm,markdown_image:/!\[(.*)\]\(((https?:\/\/(?:www\.)?|www\.)[a-zA-Z0-9][^@]*?)\s("|&quot;)(.*)("|&quot;)\)/gi,markdown_video:/\[!\[(.*)\]\(((https?:\/\/(?:www\.)?|www\.)[a-zA-Z0-9][^@]*?)\)]\(((https?:\/\/(?:www\.)?|www\.)[a-zA-Z0-9][^@]*?)\)/gi},apply:function(e,n){return"string"!=typeof e?e:(e=e.replace(/<br>/g,"\n").trim(),e=this.applyRecursive(e,n),e=this.applyOnce(e),e=this.applyNextLine(e),e=this.decodeChars(e))},applyOnce:function(e){return e=(e=(e=(e=(e=e.replace(this.regexes.markdown_link,this.getLinkHTML)).replace(this.regexes.markdown_quote,this.getQuoteHTML)).replace(this.regexes.markdown_heading,this.getHeadingHTML)).replace(this.regexes.markdown_codeblock,this.getCodeblockHTML)).replace(this.regexes.markdown_code,this.getCodeHTML)},applyRecursive:function(e,n){return e=(e=(e=(e=(e=(e=(e=e.replace(this.regexes.markdown_bold,this.getBoldHTML)).replace(this.regexes.markdown_italic,this.getItalicHTML)).replace(this.regexes.markdown_strike,this.getStrikeHTML)).replace(this.regexes.markdown_underline,this.getUnderLineHTML)).replace(this.regexes.markdown_line,this.getLineHTML)).replace(this.regexes.markdown_bullet,this.getBulletHTML)).replace(this.regexes.markdown_numlist,this.getNumlistHTML),n||(e=(e=e.replace(this.regexes.markdown_image,this.getImageHTML)).replace(this.regexes.markdown_video,this.getVideoHTML)),e},applyNextLine:function(e){return e.replace(this.regexes.markdown_nextline,this.getNextLineHTML)},getNextLineHTML:function(e,n,t,r){return n+"<br>"+r},getLinkHTML:function(e,n,t,r,i){return n+' <a href="'+(r.startsWith("www.")?"http://"+r:r)+'" target="_blank" rel="noopener" markdown_type="link">'+Markdown.encodeChars(t)+"</a> "},getQuoteHTML:function(e,n){return 0===(n=$.trim(n)).length?e:Markdown.setPrefixAndSuffix(e,' <blockquote class="blkqote" markdown_type="blockquote">'+Markdown.applyRecursive(n)+"</blockquote> ")},getHeadingHTML:function(e,n,t){var r=n.length;return Markdown.setPrefixAndSuffix(e," <h"+r+' markdown_type="heading">'+Markdown.encodeChars(t)+"</h"+r+"> ")},getLineHTML:function(e,n,t,r){return n+' <div class="w100 textC"><hr class="hr" markdown_type="line"></div> '+Markdown.applyRecursive($.trim(r))},getCodeblockHTML:function(e,n,t){return 0===$.trim(t).length?e:n+' <pre class="pre" markdown_type="codeblock"> '+Markdown.applyRecursive(t)+"</pre>"},getUnderLineHTML:function(e,n,t){return!t||!t.match(/[^_*`~]/)||"_"===t[0]||"_"===t[t.length-1]||" "===t[0]&&" "===t[t.length-1]?e:n+' <u markdown_type="underline">'+Markdown.applyRecursive(t)+"</u> "},getCodeHTML:function(e,n,t){return!t||!t.match(/[^_*`~]/)||"`"===t[0]||"`"===t[t.length-1]||" "===t[0]&&" "===t[t.length-1]?e:n+' <code class="code" markdown_type="code">&ldquo;'+Markdown.encodeChars(t)+"&rdquo;</code> "},getBoldHTML:function(e,n,t){return!t||!t.match(/[^_*`~]/)||"*"===t[0]||"*"===t[t.length-1]||" "===t[0]&&" "===t[t.length-1]?e:n+' <strong markdown_type="bold">'+Markdown.applyRecursive(t)+"</strong> "},getItalicHTML:function(e,n,t){return!t||!t.match(/[^_*`~]/)||"_"===t[0]||"_"===t[t.length-1]||" "===t[0]&&" "===t[t.length-1]?e:n+' <i markdown_type="italic">'+Markdown.applyRecursive(t)+"</i> "},getStrikeHTML:function(e,n,t){return!t||!t.match(/[^_*`~]/)||"~"===t[0]||"~"===t[t.length-1]||" "===t[0]&&" "===t[t.length-1]?e:n+' <s><span markdown_type="strike">'+Markdown.applyRecursive(t)+"</span></s> "},getBulletHTML:function(e){if(0==e.replace(/\s/g,"").replace(/\*/g,"").length)return e;for(var n=e.split("\n"),t="",r=0;r<n.length;r++)if(n[r].includes("*")){n[r];t+=n[r].replace(/\*/,' <li style="list-style: inherit"> ')+" </li>"}return Markdown.setPrefixAndSuffix(e,' <ul class="markd_ul" markdown_type="bullet">'+t+"</ul> ")},getNumlistHTML:function(e){if(!isNaN(e))return e;for(var n=e.split("\n"),t="",r=0;r<n.length;r++)if(n[r]=n[r].replace(/(\d)*(\.)/,"*"),n[r].includes("*")){n[r];t+=n[r].replace(/\*/,'<li style="list-style: decimal"> ')+" </li>"}return Markdown.setPrefixAndSuffix(e,' <ol class="markd_ul" markdown_type="numberlist">'+t+"</ol> ")},getImageHTML:function(e,n,t,r,i,a){var s="";try{s=_SCHEMA+"://"+_EMBEDSERVERURL}catch(e){s=_SCHEMA+"://"+_SERVERURL}return s+="/linkredirect.sas?link="+encodeURIComponent(t),Markdown.setPrefixAndSuffix(e,' <img class="markdown_img" src="'+s+'" alt="'+n+'" title="'+a+'"> ')},getVideoHTML:function(e,n,t,r,i,a){var s="";try{s=_SCHEMA+"://"+_EMBEDSERVERURL}catch(e){s=_SCHEMA+"://"+_SERVERURL}return s+="/linkredirect.sas?link="+encodeURIComponent(t),Markdown.setPrefixAndSuffix(e,' <a href="'+i+'" rel="noreferrer" target="_blank"><img class="markdown_img" src="'+s+'" alt="'+n+'"></a> ')},encodeChars:function(e){return e.replace(/\*/g,"&ast;").replace(/\_/g,"&#95;").replace(/\~/g,"&#126;")},decodeChars:function(e){return e.replace(/&ast;/g,"*").replace(/&#95;/g,"_").replace(/&#126;/g,"~")},setPrefixAndSuffix:function(e,n){var t=suffix="";return"\n"!=e[0]&&" "!=e[0]||(t=e[0]),"\n"!=e[e.length-1]&&" "!=e[e.length-1]||(suffix=e[e.length-1]),t+n+suffix}};var Browser=function(){};Browser.getInfo=function(){try{lsnocachefix("json")}catch(e){}try{({cookie:navigator.cookieEnabled,java:navigator.javaEnabled()})}catch(e){}return{cookie:navigator.cookieEnabled,java:navigator.javaEnabled(),color:window.screen.colorDepth,screen:window.screen.availWidth+" * "+window.screen.availHeight,title:Browser.getPageTitle(),currentpage:Browser.getCurrentPage(),referrer:Browser.getReferrer(),browser:$.browser.name,browserversion:$.browser.version,os:$.os.name,jsversion:jsversion,flashversion:Browser.getFlashVersion(),localtime:Browser.getLocalTime(),lang_embed:_LANG,ccode:_CCODE}},Browser.getFlashVersion=function(){try{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(e){return"6.0.0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/,"").replace(/\D+/g,".").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/,"").replace(/\D+/g,".").match(/^,?(.+),?$/)[1]}catch(e){}}return"0.0.0"},Browser.getLocalTime=function(){try{return(new Date).toTimeString().split(" ").slice(1).join(" ")}catch(e){}return""},Browser.setReferer=function(e){"null"!=e&&(Browser.referer=e)},Browser.setCurrentPage=function(e){Browser.currentpage=e||""},Browser.getCurrentPage=function(){return Browser.currentpage?Browser.currentpage:""},Browser.getReferrer=function(){try{return Base64.atob(opener.Button.sitereferrer)}catch(e){if("null"!=Browser.referer)return Base64.atob(Browser.referer)}return""},Browser.setPageTitle=function(e){null==e&&""==e||(Browser.pagetitle=e)},Browser.getPageTitle=function(){try{return opener.Button.pagetitle}catch(e){if(null!=Browser.pagetitle)return Browser.pagetitle}return""};function LSDebugger(){}LSDebugger.init=function(){this.infoarray=[],this.debuglimit=100,this.logarr=[]},LSDebugger.getCurrentTime=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()},LSDebugger.pushDebugInfo=function(e){e&&(this.infoarray.length>=this.debuglimit&&this.infoarray.splice(0,1),this.infoarray.push({time:LSDebugger.getCurrentTime(),info:e}))},LSDebugger.clearDebugInfo=function(){this.infoarray=[]},LSDebugger.postDebugInfo=function(e,r,t,o){if(e){try{var n=parseInt(CurrentUser.getWMSID().split("_")[1]);if(r&&-1===$.inArray(n,r))return;if(t&&t<n%10)return}catch(e){}var g={};g.subject=e,g.log=CommonUtil.toJSON(this.infoarray),o&&(g.logonly=o),g.nocache=(new Date).getTime();var i="logdebuginfo"+(window.dext||".sas");try{i=$Support.getAjaxURL("logdebuginfo",dext)}catch(e){}LSDebugger.clearDebugInfo();var u={url:i,type:"POST",data:g,dataType:"json",success:function(e){LSDebugger.clearDebugInfo()}};"undefined"!=typeof jQuery&&$.ajax(u)}},LSDebugger.collectLogs=function(r,e){try{this.logarr[r][0]}catch(e){this.logarr[r]=[]}this.logarr[r].push({time:LSDebugger.getCurrentTime(),info:e})},LSDebugger.storeInLocalStorage=function(e,r,t){CommonUtil.storeInLocalStorage(e,r,t,!0)},LSDebugger.removeFromLocalStorage=function(e){CommonUtil.removeFromLocalStorage(e,!0)},LSDebugger.init();function LSResource(){}LSResource.init=function(){this.MessageObject=new Object,this.IntegMessageObject=new Object},LSResource.getRealValue=function(e,t){var c="";try{c=null==this.MessageObject[""+e]||null==this.MessageObject[""+e]?e:this.MessageObject[e]}catch(e){}try{c=c.replace(/_/g," ")}catch(e){c=""}return null!=t&&(c=LSResource.replaceParams(c,t)),c},LSResource.replaceParams=function(e,t){try{for(var c="object"==typeof t?t:t.split(","),s=0;s<c.length;s++){var r=c[s],n=new RegExp("\\$"+(s+1),"g");e=e.replace(n,r)}}catch(e){}return e},LSResource.setIntegLabel=function(e,t){if(null!=t){try{LSResource.IntegMessageObject[e]=new Object}catch(e){}LSResource.IntegMessageObject[e]=t}},LSResource.getIntegLabel=function(e,t){try{var c=LSResource.IntegMessageObject[e];if(null!=c&&null!=c[t]&&""!=c[t])return c[t]}catch(e){}return LSResource.getRealValue(t)},LSResource.init();var op=-1!=navigator.userAgent.indexOf("Opera"),ie=!op&&/msie/i.test(navigator.userAgent),ie_edge=!op&&/msie|trident/i.test(navigator.userAgent),mz=!op&&!ie&&/mozilla\/5/i.test(navigator.userAgent),wms_sf=-1!=navigator.userAgent.indexOf("Safari"),version=parseInt(navigator.appVersion),ie5=ie&&4==version&&-1!=navigator.userAgent.indexOf("msie 5.0"),ie5_5=ie&&4==version&&-1!=navigator.userAgent.indexOf("msie 5.5"),ie6=ie&&4==version&&-1!=navigator.userAgent.indexOf("msie 6."),ie7=ie&&-1!=navigator.userAgent.indexOf("MSIE 7."),ie8=ie&&-1!=navigator.userAgent.indexOf("MSIE 8."),_ISFIREFOX=-1<navigator.userAgent.toLowerCase().indexOf("firefox");if(!ie&&document.layers)var browser_nn4=!0;else if(document.layers||!document.all&&document.getElementById)var browser_nn6=!0;!function(f){f.fn.ValidationRule=function(n){return{validate:n}},f.fn.Validator=function(){return{required:new f.fn.ValidationRule(function(n){return void 0!==n&&""!==n}),email:new f.fn.ValidationRule(function(n){var t=new RegExp(/^([\w]([\w\-\.\+\'\/]*)@([\w\-]+\.[a-zA-Z0-9-]{2,22}(\.[a-zA-Z0-9-]{2,22}){0,3}))$/);return void 0!==n&&t.test(n)}),phone:new f.fn.ValidationRule(function(n){return void 0!==n&&/^(?![.])[+0-9\-.,:()\[\] \/ \\]+$/gi.test(n)}),charlimit:new f.fn.ValidationRule(function(n,t){return void 0!==n&&n.length<=t}),minlimit:new f.fn.ValidationRule(function(n,t){return void 0!==n&&n.length>=t}),percentage:new f.fn.ValidationRule(function(n){var t=new RegExp(/^[0-9]{1,3}%{0,1}?$/);return void 0!==n&&t.test(n)}),number:new f.fn.ValidationRule(function(n){return void 0!==n&&/^[0-9,]*$/.test(n)}),decimal:new f.fn.ValidationRule(function(n){return void 0!==n&&/^[0-9]+(\.[0-9]{0,9})?/.test(n)}),url:new f.fn.ValidationRule(function(n){var t=new RegExp(/^(((http|https):\/\/(www.){0,1})|www.){1}[a-zA-Z0-9]+[-a-zA-Z0-9@:/%_\+.~#?&/=]*[^\.]$/);return void 0!==n&&t.test(n)})}},f.fn.validateInput=function(){for(var n=f(this),t=(n.attr("data-validate")||"").trim().replace(/[\s]{2,}/g," ").split(" "),i=(n.attr("id")||n.attr("name"),"DIV"===n[0].nodeName?n.attr("val"):n.val().trim()),a=!0,e=new f.fn.Validator,l=0;l<t.length&&a;l++){var o=t[l],r=t[l+1]?t[l+1]:null;if(""===o||"optional"===o&&""===i)break;if("optional"!==o){var u=e[o]||null;null!==u&&((a=u.validate(i,r))?n.off("blur.validation"):d(n))}}return n.val(i),n.attr("data-is-valid",a),a;function d(n){n.on("keyup.validation",function(){0!=f.trim(n.val()).length&&n.off("keyup.validation, focus.validation").removeClass("errfield")}).addClass("errfield").off("blur.validation").on("blur.validation",function(){n.validateInput()}).off("focus.validation").on("focus.validation",function(n){n.stopImmediatePropagation()}),n.on("change","input[type='checkbox'], input[type='radio']",function(){this.checked&&n.removeClass("errfield")})}},f.validateField=function(n,t){var i=(new f.fn.Validator)[n]||null;return null!==i&&i.validate(t)}}(jQuery);var Smiley=function(){var s,m={":smile:":"smile",":happy:":"happy",":joy:":"joy",":grinning:":"grinning",":cool:":"cool",":love:":"love",":curious:":"curious",":awe:":"awe",":thinking:":"thinking",":search:":"search",":idea:":"idea",":wink:":"wink",":razz:":"razz",":relaxed:":"relaxed",":angel:":"angel",":yummy:":"yummy",":yuck:":"yuck",":sad:":"sad",":blush:":"blush",":upset:":"upset",":anxious:":"anxious",":worry:":"worry",":stressed-out:":"stressed-out",":angry:":"angry",":tensed:":"tensed",":tired:":"tired",":bored:":"bored",":sleepy:":"sleepy",":jealous:":"jealous",":evil:":"evil",":facepalm:":"facepalm",":doubt:":"doubt",":surprise:":"surprise",":faint:":"faint",":headache:":"headache",":sick:":"sick",":injured:":"injured",":neutral:":"neutral",":smirk:":"smirk",":shutup:":"shutup",":feeling-warm:":"feeling-warm",":feeling-cold:":"feeling-cold",":thumbsup:":"thumbsup",":thumbsdown:":"thumbsdown",":namaste:":"namaste",":super:":"super",":victory:":"victory",":yoyo:":"yoyo",":raising-hand:":"raising-hand",":clap:":"clap",":bye-bye:":"bye-bye",":thug:":"thug",":flexed-biceps:":"flexed-biceps",":flag:":"flag",":target:":"target",":foosball:":"foosball",":pingpong:":"pingpong",":coffee-cup:":"coffee-cup",":food:":"food",":chicken:":"chicken",":gift-box:":"gift-box",":champagne:":"champagne",":party:":"party",":poop:":"poop",":peanuts:":"peanuts",":birthday:":"birthday",":fireworks:":"fireworks",":christmas-tree:":"christmas-tree",":santa-hat:":"santa-hat",":new-year:":"new-year",":keep-quite:":"keep-quite"},l=$.extend({},m,{":)":"smile",":-)":"smile",":^)":"smile",":]":"smile",":D":"happy",":-D":"happy",":))":"happy",":-))":"happy","B-)":"cool",":xs":"love",":-?":"thinking","*-:)":"idea",";)":"wink",";-)":"wink",":-P":"razz",":P":"razz",":-p":"razz",":p":"razz","-_-":"relaxed","(a)":"angel","(A)":"angel","O-)":"angel","O:-)":"angel","O:)":"angel",":(":"sad",":-(":"sad",":[":"sad","D:":"anxious",":S":"worry",":-S":"worry",":s":"worry",":-s":"worry","-.-":"stressed-out","X-(":"angry",":-@":"angry",":@":"angry","|-)":"sleepy","I-)":"sleepy","(=_=)":"tired","?D":"doubt",":O":"surprise",":-O":"surprise",":o":"surprise",":-o":"surprise","(6.6)":"faint","(({..}))":"headache","+o(":"sick",":/":"smirk",":-/":"smirk",":-#":"shutup",":-X":"shutup","(Y)":"thumbsup","(y)":"thumbsup",":+1:":"thumbsup",":x-":"thumbsup","(N)":"thumbsdown","(n)":"thumbsdown",":-1:":"thumbsdown"}),p=function(e){e.removeClass("slidetgl_show").addClass("slidetgl_hide"),setTimeout(function(){e.hide().html("").removeClass("slidetgl_hide")},300)},g=function(e,i,s){var l='<div class="smile_sublist">',a=e?'<div class="shrtct_inf">â â <span>'+LSResource.getRealValue("common.tonavigate")+'</span><span class="sqico-enter">'+LSResource.getRealValue("common.toselect")+"</span>"+LSResource.getRealValue("common.close")+" [Esc]</div>":"",n=" sel";for(var t in m){var r=m[t],o=LSResource.getRealValue("smiley."+r);l+='<div class="smileli '+(e?"siqsmile_li":"")+n+' siq-smileys" title="'+o+'" smilename="'+r+'" ><em smilename="'+r+'" class="siqsly-'+r+' siq-smiley-icon"></em><span smilename="'+r+'" class="txtelips">'+o+"</span></div>",n=""}return a+l+"</div>"};return{init:function(){for(var e in s="",l)e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),""!=s?s+="|"+e:s=e},replace:function(e){try{var i=new RegExp("([ >\n]|^)("+s+")(?=[ <\n]|$)","g");e=e.replace(i,function(e,i,s){return i+'<em title="'+LSResource.getRealValue("smiley."+m[s])+'" class="siqsly-'+l[s]+'"></em>'})}catch(e){}return e},handleInSertSmiley:function(e,i){var s=$(i),l=s.parent().find("#smilelist");return 0==l.find(".siqsmile_li").length||(!(e=e||l.find(".smileli.sel").attr("smilename"))||(CommonUtil.handleAddDynamicKey(TRIGGER_SMILEY_KEY,s,e),l.html("").stop().hide(),!1))},checkAndTriggerSmiley:function(e,i){var s,l,a=/^(37|38|39|40)$/.test(i),n=e.target,t=$(n).val().substring(0,n.selectionStart),r=t.lastIndexOf(" "+TRIGGER_SMILEY_KEY)+1,o=$(n).parent().find("#smilelist"),m=t.indexOf(TRIGGER_SMILEY_KEY),d=o.find(".smile_sublist");if(0<r||0===r&&0===m||0===r&&"\n"===t[m-1]){var u=(l=(s=(s=t).replace(/\:\w+\:/g,"")).lastIndexOf(TRIGGER_SMILEY_KEY),("\n"===s[l-1]||" "===s[l-1]||0===l)&&s.substring(l+1));if(27==i||!1===u)return void p(o);if(a)return void CommonUtil.handleGridNavigation(d,e,".siqsmile_li");0==o.find(".siqsmile_li").length&&o.html(g(!0)).off("click").on("click",function(e){var i=$(e.target).attr("smilename");i&&Smiley.handleInSertSmiley(i,n)});var c=o.find(".smileli"),h=o.find('.smileli[smilename*="'+u+'"]');return 0==h.length&&""!==u?void p(o):(c.hide(),h.show(),d.scrollTop(0),""===u&&o.find(".smileli").show(),c.removeClass("sel"),o.find('.smileli[style*="block"]').first().addClass("sel"),o.show().addClass("slidetgl_show").removeClass("slidetgl_hide"),void $Clickoutside.bindclick(function(){p(o)},"smilelist","smiley"))}p(o)},showSmileyList:function(e,i){var a=$("#msgarea"),n=a.parent().find("#smilelist");if(n.hasClass("slidetgl_show"))p(n);else{$Clickoutside.bindclick(function(){p(n)},"smilelist","smiley");var s=g(!1);n.html(s).show().off("click").on("click",function(e){var i=$(e.target).attr("smilename");if(i){var s=a,l=CommonUtil.getTextFromHeadToCaret(s);i=TRIGGER_SMILEY_KEY+i+TRIGGER_SMILEY_KEY,i=" "==l.substr(l.length-1)?i:" "+i,CommonUtil.handleAddDynamicKey("",s,i),p(n)}}).addClass("slidetgl_show").removeClass("slidetgl_hide"),n.find(".smile_sublist").addClass("smileli_only"),i||CommonUtil.iniatializePerfectScrollBar(n.find(".smile_sublist"))}}}}();Smiley.init();var controller=new Object;function HttpCommunication(e,t){this.comid=e,this.callback=t,this.initialize=function(){var e;window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));e?e.onreadystatechange=this.callback:e=!1;controller[this.comid]=e},this.request=function(t){try{this.initialize();var e=controller[this.comid];e.open("GET",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),ie?e.send():e.send(null)}catch(e){document.getElementById("sendmsg").src=t}},this.postrequest=function(e,t){try{this.initialize();var n=controller[this.comid];n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(t)}catch(e){}},this.submitForm=function(e){0;this.initialize();var t=controller[this.comid];if(void 0===e)return!1;formEle=e.elements,formLen=e.length;var n=e.action,o=e.method,r="";for(i=0;i<formLen;i++)0<formEle[i].name.length&&(0==i||r.length<1?r+=formEle[i].name+"="+encodeURIComponent(formEle[i].value):r+="&"+formEle[i].name+"="+encodeURIComponent(formEle[i].value));if(""==r)return!1;if(""==n)return!1;t&&("get"==o.toLowerCase()?(-1!=n.indexOf("?")?urlQryStr=n+"&"+r:urlQryStr=n+"?"+r,urlQryStr="&"+lsnocachefix(),t.open("GET",urlQryStr,!0),ie?t.send():t.send(null)):(t.open("POST",n,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send(r+"&"+lsnocachefix())));return!1}}function sendPostMessage(t){var e=t&&"api"==t.operation;e&&(ie_edge||_ISFIREFOX)&&$EmbedManger.handleApiData();try{if(!opener)return setTimeout(function(){try{parent.postMessage(CommonUtil.toJSON(t),"*")}catch(e){}},0),!1;try{if(opener.Button)return"api"==t.operation?SupportUI.handleApiData(opener.Button.getApiData().value):"callbacks"==t.operation&&opener.Button.sendCallBacks(t),!1;window.opener.postMessage(CommonUtil.toJSON(t),"*")}catch(e){return setTimeout(function(){try{opener.postMessage(CommonUtil.toJSON(t),"*")}catch(e){}},0),!1}}catch(e){}return e&&SupportUI.handleApiData(),!1}function MyDate(){}var YEARINMS=31536e6,MONTHINMS=2592e6,WEEKINMS=6048e5,DAYINMS=864e5,HOURINMS=36e5,MININMS=6e4,SECINMS=1e3;function diffRawTZOffet(e,t){var r=t<e?e-t:t-e;return r*=6e4,r=t<e?-1*r:r}MyDate.getHoursandMin=function(e,t,r){var a=MyDate.getConvertedObject(e,r),o="",n=a.getHours(),u=a.getMinutes();return o+=12<n?n-12:0==n?"12":n,o+=(u<10?":0":":")+u,0!=t&&(o+=12<=n?" "+LSResource.getRealValue("time.PM"):" "+LSResource.getRealValue("time.AM")),o},MyDate.getConvertedObject=function(e,t){if(null!=e&&""!=e){if("bclient"==t)return MyDate.convertBrowser(e);if("server"==t||"client"==t)return MyDate.convertUser(e);if("zsupport"==t)return MyDate.convertZohoSupport(e)}},MyDate.convertBrowser=function(e){var t=parseInt(e);return t+=diffRawTZOffet(_TZCOFFSET,_TZCOFFSET),new Date(Number(t))},MyDate.convertUser=function(e){var t=parseInt(e);return t+=diffRawTZOffet(_TZCOFFSET,_TZOFFSET),new Date(Number(t))},MyDate.convertZohoSupport=function(e){var t=Number(e);return t+=diffRawTZOffet(0,_TZSOFFSET),t+=diffRawTZOffet(_TZCOFFSET,_TZOFFSET),new Date(Number(t))},MyDate.formatMS=function(e){var t=new Array,r=new Array("w","d","h","m","s");for(t[0]=Math.floor(e/MONTHINMS),e-=t[0]*MONTHINMS,t[1]=Math.floor(e/WEEKINMS),e-=t[1]*WEEKINMS,t[2]=Math.floor(e/DAYINMS),e-=t[2]*DAYINMS,t[3]=Math.floor(e/HOURINMS),e-=t[3]*HOURINMS,t[4]=Math.floor(e/MININMS),e-=t[4]*MININMS,t[5]=Math.floor(e/SECINMS),i=0;i<=5;i++)if(t[i])return 5!=i?zeroUpFront(t[i])+":"+zeroUpFront(t[i+1])+r[i]:"00:"+zeroUpFront(t[i])+"s"},MyDate.timeDifference=function(e){var t=36e5,r=24*t,a=30*r,o=365*r,n=(new Date).getTime()-e;if(n<6e4)return LSResource.getRealValue("date.justnow");if(n<t){var u=Math.round(n/6e4);return LSResource.getRealValue(1<u?"date.mins.ago":"date.min.ago",""+u)}if(n<r){var f=Math.round(n/t);return LSResource.getRealValue(1<f?"date.hours.ago":"date.hour.ago",""+f)}if(n<1728e5)return LSResource.getRealValue("date.yesterday");if(n<12096e5&&6048e5<n)return LSResource.getRealValue("date.lastweek");if(n<a){f=Math.round(n/r);return LSResource.getRealValue("date.days.ago",""+f)}if(n<5184e6)return LSResource.getRealValue("date.lastmonth");if(n<o){f=Math.round(n/a);return LSResource.getRealValue("date.months.ago",""+f)}f=Math.round(n/o);return LSResource.getRealValue(1<f?"date.years.ago":"date.year.ago",""+f)};function Self(){}Self.status={init:function(){this.idletime=6e3,this.entertxttime=3e3,this.prevstatus=NFY_USER_IDLE,this.timer=-1,this.isactive=!1},enterText:function(){this.prevstatus;0<Self.status.getmsglength()&&(Self.status.send($EmbedManger.getChatID(),NFY_USER_ENTERED),NFY_USER_ENTERED)},send:function(t,e){if(!$EmbedManger.getChatStatus()&&"-1"!=t){this.prevstatus=e;var s={};s.userid=LSMessanger.getUserName(),s.chid=t,s.status=e,s.dname=getUnescapedText(LSMessanger.getNickName()),s.sid=LSMessanger.getSid();var i="sendstatus.ls";$EmbedManger.isCrossDomainReq()&&(i=$Support.getAjaxURL("sendstatus",".ls")),$.ajax({url:i,data:s,dataType:"json",success:function(t){}})}},idle:function(){clearTimeout(this.timer),Self.status.send($EmbedManger.getChatID(),NFY_USER_IDLE)},update:function(t){if(t.sender!=LSMessanger.getUserName()){var e=ZSIQConversationManager&&ZSIQConversationManager.getChatWinObjById($Support.chidmappinglist[t.chid])||{};(e.chatstatus="connected")&&$EmbedManger.UI.setChatStatus(t.msg,e)}},check:function(t){0!=this.isactive&&(null==t&&Self.status.check(this.prevstatus),clearTimeout(this.timer),t==NFY_USER_TYPING?0<Self.status.getmsglength()?this.timer=setTimeout(function(){Self.status.enterText()},this.entertxttime):this.timer=setTimeout(function(){Self.status.idle()},this.idletime):t==NFY_USER_ENTERED&&(this.timer=setTimeout(function(){Self.status.idle()},this.idletime)))},active:function(t){this.isactive=!0,clearTimeout(this.timer),13==t.keyCode?this.prevstatus="":(this.prevstatus,NFY_USER_TYPING),this.check(NFY_USER_TYPING)},deactive:function(){this.isactive=!1},getmsglength:function(){return $EmbedManger.getMessageLength()},clear:function(t){$EmbedManger.UI.setChatStatus("",t)}};EmbedSound={loop:1,tunes:{smessage:"ping",endtimer:"buzz",incomingcall:"ringtone",outgoingcall:"waiting"},IS_FLASH_EXIST:!1,IS_HTML5_AUDIO:!1,cache:{},init:function(){var e=this,a=0,t=0,n=!1,l=!1;try{return""!==(new Audio).canPlayType("audio/mp3")&&"no"!==(new Audio).canPlayType("audio/mp3")?e.extn="mp3":e.extn="wav",void(e.IS_HTML5_AUDIO=!0)}catch(e){}if(navigator.plugins&&navigator.plugins.length?(x=navigator.plugins["Shockwave Flash"],x?(a=2,x.description&&(y=x.description,t=y.match(/\d{1,2}/))):a=1,navigator.plugins["Shockwave Flash 2.0"]&&(t=a=2)):navigator.mimeTypes&&navigator.mimeTypes.length?(x=navigator.mimeTypes["application/x-shockwave-flash"],a=x&&x.enabledPlugin?2:1):l=!0,l)for(var i=new Array("ShockwaveFlash.ShockwaveFlash.9","ShockwaveFlash.ShockwaveFlash.8.5","ShockwaveFlash.ShockwaveFlash.8","ShockwaveFlash.ShockwaveFlash.7"),o=0;o<i.length;o++)try{if(null!=new ActiveXObject(i[o])){n=!0;break}}catch(e){}else 2==a&&7<t&&(n=!0);if(e.IS_FLASH_EXIST=n,e.IS_FLASH_EXIST){var r=document.createElement("SPAN");r.style.position="absolute",r.style.top="-10000px",r.style.left="-10000px",r.style.display="block",r.innerHTML='<objectclassid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="<%=schema%>://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="28" height="20" id="player" align="middle" wmode="transparent"><param name="allowScriptAccess" value="always" /><param name="movie" value="/flash/player.swf" /><param name="quality" value="high" /><param name="bgcolor" value="" /><param name="wmode" value="transparent"/><embed src="'+_MEDIASERVERURL+'/flash/player.swf" quality="high"  width="28"height="20" name="player" align="middle"allowScriptAccess="always" wmode="transparent"type="application/x-shockwave-flash" pluginspage="<%=schema%>://www.macromedia.com/go/getflashplayer" /></object>',document.body.appendChild(r)}},getPlayer:function(){if(EmbedSound.IS_FLASH_EXIST)return window.document.player?window.document.player:-1!=navigator.appName.indexOf("Microsoft Internet")?document.getElementById("player"):document.embeds&&document.embeds.player?document.embeds.player:void 0},play:function(e,a){var t=this;if(t.isPlayerEnable()&&!$EmbedManger.isSoundOff()){var n=_MEDIASERVERURL+"/sound/"+t.tunes[e];if(t.IS_HTML5_AUDIO)try{if(t._SOUND_PLAYER&&t._SOUND_PLAYER.tune&&-1!=["incomingcall","outgoingcall"].indexOf(t._SOUND_PLAYER.tune))return;void 0===t.cache[n]?(t._SOUND_PLAYER=new Audio(n+"."+t.extn),t._SOUND_PLAYER.addEventListener("loadeddata",function(){4==t._SOUND_PLAYER.readyState&&(t.cache[n]=t._SOUND_PLAYER)})):(t._SOUND_PLAYER=t.cache[n],t._SOUND_PLAYER.currentTime=0),t._SOUND_PLAYER.tune=e,a?(t._SOUND_PLAYER.loop=!0,t._SOUND_PLAYER.play(),clearTimeout(t.cleartimer),t.cleartimer=setTimeout(function(){t.stop()},1e3*a)):(t._SOUND_PLAYER.loop=!1,t._SOUND_PLAYER.play())}catch(e){}else try{var l=t.getPlayer();n=n+".mp3";l.SetVariable("_root.loops",t.loop),l.TCallLabel("_root.$listener","setloops"),l.SetVariable("_root.$listener.fpath",n),l.TCallLabel("_root.$listener","playfile")}catch(e){}}},isPlaying:function(e){try{var a=this;if(void 0===a._SOUND_PLAYER)return!1;if(!a.isPlayerEnable()||$EmbedManger.isSoundOff())return!1;var t=a._SOUND_PLAYER.src;return a.tunes[e]===t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))}catch(e){}return!1},stop:function(){var e=this;if(e.IS_HTML5_AUDIO)try{e._SOUND_PLAYER.pause(),e._SOUND_PLAYER={}}catch(e){}else try{if(!e.IS_FLASH_EXIST)return;e.getPlayer().TCallLabel("_root.$listener","stopSound")}catch(e){}},isPlayerEnable:function(){return this.IS_FLASH_EXIST||this.IS_HTML5_AUDIO}},EmbedSound.init();var _WMSDOWN=!1,isntwrkreconnect=!1;function WmsliteImpl(){}WmsliteImpl.serverdown=function(){if(!$Support||$Support.isChatExist()){_WMSDOWN=!0;var e=document.getElementById("nwcheckimg");e&&e.parentElement.removeChild(e),(e=document.createElement("img")).style.display="none",e.id="nwcheckimg",document.body.appendChild(e),e.addEventListener?(e.addEventListener("load",function(){$EmbedManger.UI.displayInfo(WmsliteImpl.getValueByType("onload"),2)}),e.addEventListener("error",function(){$EmbedManger.UI.displayInfo(WmsliteImpl.getValueByType("onerror"),2)})):(e.attachEvent("onload",function(){$EmbedManger.UI.displayInfo(LSResource.getRealValue("wms.connectionlost.error"),2)}),e.attachEvent("onerror",function(){$EmbedManger.UI.displayInfo(LSResource.getRealValue("visitorchat.reconnection.msg"),2)})),e.src="https://img.zohocdn.com/salesiq/images/spacer_592ebefc7104d681d57852665e9ad514_.gif?nocache="+(new Date).getTime()}},WmsliteImpl.serverup=function(e){var n={mtype:0};n.msg=e;var t=!(!_JOINED||_WMSDOWN);_JOINED=!1,_WMSDOWN&&(isntwrkreconnect=!0,$EmbedManger.UI.displayInfo(LSResource.getRealValue("visitorchat.connectivity.success"),1),setTimeout(function(){$EmbedManger.UI.hideInfo()},5e3)),_WMSDOWN=!1,LSMessanger.push(n,isntwrkreconnect,t),isntwrkreconnect=!1},WmsliteImpl.handleLogout=function(e){},WmsliteImpl.handleMessage=function(e,n){var t={};t.mtype=e,t.msg=n,LSMessanger.push(t)},WmsliteImpl.handleAccountDisabled=function(e){},WmsliteImpl.handleServiceMessage=function(e){},WmsliteImpl.getValueByType=function(e){var n="";return"onload"==e?n=LSResource.getRealValue("wms.connectionlost.error"):"onerror"==e&&(n=LSResource.getRealValue("visitorchat.reconnection.msg")),n};$(document).ready(function(){var e={},t={};if(parent.$ZSIQWidget?e=parent.$ZSIQWidget.getEmbedObject():opener&&opener.$ZSIQWidget&&(e=opener.$ZSIQWidget.getEmbedObject(),window.onbeforeunload=$UI.showCloseAlert),parent.$ZSIQChat&&parent.$ZSIQChat.getWidgetData?t=parent.$ZSIQChat.getWidgetData().commondata||{}:opener&&opener.$ZSIQChat&&opener.$ZSIQChat.getWidgetData&&(t=opener.$ZSIQChat.getWidgetData().commondata||{}),e.einfo.embedstatus){LSMessanger.setSubDomain(e.lssubdomain),LSMessanger.init(),$Support.type=e.params.type,document.title=e.pinfo.companyname+" - "+LSResource.getRealValue("common.livechat"),_EMBEDNAME=e.embedname,_SCREENNAME=e.screenname,_LANG=e.lang,_CCODE=e.ccode,_SCHEMA=e.schema,_EMBEDSERVERURL=e.embedserverurl,INIT=!1,_TZCOFFSET=-1*(new Date).getTimezoneOffset(),_TZOFFSET=e.tzoffset?parseInt(e.tzoffset):null,_TZOFFSET=null==_TZOFFSET?_TZCOFFSET:_TZOFFSET,_TOOLTIP=e.tooltip,_TZSOFFSET=parseInt(e.tzsoffset),_TZPOFFSET=parseInt(e.tzpoffset),CLIENTVERSION=e.servername,_SERVERNAME=e.clientversion,uapache=e.uapache,ucomp=e.ucomp,_VIDEOVERSION=e.videoversion,_MEDIASERVERURL=uapache?e.mediaserverurl:_SCHEMA+"://"+_EMBEDSERVERURL,_SUPPORTURL=e.supporturl,_WMSJSSTATICDOMAIN=e.wmsjsstaticdomain,_WMSPUBLICDOMAIN=t.wmspublicdomain,_SIQHELPLINK=e.siqhelplink,_ZCAMPAIGNENABLED=e.campaignenabled,_ANNONREGTIMEOUT=e.annonregistertimeout,_PRDNAME=e.productname,_PRDURL=e.producturl,_FREELOGOLINK=e.freelogolink,_GT_ATTRIBUTIONLINK=e.gtattributionlink,_STUN_TURN_URLS=e.stun_turnurls,_CFPARAMNAME=e.cfparamname,_CFCNAME=e.cfcname,jsversion=null,ucomp||(LSResource.MessageObject=e.jsresource);for(var a=1;a<=8;a++){var n=document.createElement("script"),o=parent.$zohosq&&parent.$zohosq.nonce;n.setAttribute("language","JavaScript1."+a),o&&n.setAttribute("nonce",o),n.text="jsversion = 1."+a+";";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}$Support.init(e)}});!function(a){var e=function(t,e){this.$elem=a(t),this.dropobj=e,this.options=e.options};e.prototype={init:function(){this.setHeader(),this.setDropList(),this.bindEventHandlers(),this.$elem.addClass("sqico-drpdwn")},setHeader:function(){var t=this.dropobj;this.$elem.attr("dockeydown","dropdown").html('<em class="req" title="Mandatory"></em><a href="javascript:;" id="dropheader" purpose="'+t.purpose+'">'+t.defaultval+"</a>")},setDropList:function(){for(var t='<ul id="dropcontent">',e=this.options,n=e.length,i=this.dropobj.purpose,o=0;o<n;o++){var s=e[o],r=0!=s.isClient,a=getEscapedText(s.ID||s.value),l=getEscapedText(s.DNAME||s.text),d=getEscapedText(s.NAME||""),p="department"===i?this.getDeptStatusHTML(s):"";t+=r?'<li val="'+a+'" uniname="'+d+'">'+l+p+"</li>":""}this.$elem.append(t+"</ul>"),this.sortList()},sortList:function(){var t=this.dropobj.purpose;if(!("department"!==t||"department"==t&&$Support.getApiDepartment().length)){var e=this.$elem.find("ul"),n=e.find("li");n.sort(function(t,e){return parseInt(a(t).find("span").attr("status"))>parseInt(a(e).find("span").attr("status"))?1:-1}),e.empty().html(n)}},getDeptStatusHTML:function(t){var e=""+t.STATUS=="true"?$Support.DEPT_ONLINESTATUES:$Support.DEPT_OFFLINESTATUES,n="1"===(e=""+t.ENGAGED=="true"?$Support.DEPT_ENGAGESTATUES:e)?"department.status_"+e:"common.offline";return'<span class="desc deptst_'+e+'" status="'+e+'" title="'+LSResource.getRealValue(n)+'"><em>'+LSResource.getRealValue(n)+"</em></span>"},getDeptName:function(t){for(var e=this.options,n=e.length,i=0;i<n;i++){var o=e[i];if(o.ID===t||o.value===t)return o.DNAME||o.text}},bindEventHandlers:function(){var o=this.$elem,t=$Support.contentdiv||ZSIQConversationManager.getcurrchatwinobj().contentdiv,s=this,r={department:function(t,e){$Support.Util.handleDeptChange(t,e)},customdrpdwn:function(t){$Support.Util.handleInputChange(t.parents('div[purpose="custom"]').attr("name"),t.attr("val"))}};o.on("click","a",function(t){if(!$Support.Util.isPreview()){var n=a(this).attr("val"),e=a("div.sqico-drpdwn");s.alignDropDown(),1<e.length&&e.removeClass("zindrp").find("ul").hide(),o.addClass("zindrp").find("ul").stop().slideToggle(350,function(){var t=a(this),e=t.find('li[val="'+n+'"]');t.css("overflow",""),e.length?e.addClass("atsel"):t.find("li:first-child").addClass("atsel"),t.is(":hidden")?o.removeClass("zindrp"):t.scrollTop(0)}),o.removeClass("errfield"),$Clickoutside.bindclick(function(){s.hideDropDown()},"dropcontent","dropheader")}}).on("click","li",function(t,e){var n=a(this).attr("val");o.children("a").attr("val",n).html(s.getDeptName(n)),s.hideDropDown(),$Support.Util.setTextareaHeight(),o.attr("val",n).removeClass("errfield");var i=r[s.dropobj.purpose];"function"==typeof i&&i(a(this),e)}).on("mouseenter","li",function(){o.find("li.atsel").removeClass("atsel"),a(this).addClass("atsel")}),t.add("#msgmaindiv").on("scroll",function(){o.find("ul:visible").length&&s.alignDropDown()})},alignDropDown:function(){var t=$Support.contentdiv||ZSIQConversationManager.getcurrchatwinobj().contentdiv,e=this.$elem,n=e.children("a"),i=e.children("ul"),o=n.offset().top,s=n.outerHeight(),r=a("body").outerHeight();if(o+s+i.outerHeight()>r+t.scrollTop())return e.addClass("btmalign"),i.css({top:"auto",bottom:r-o,"z-index":"111113"}),void i.find("li").removeClass("atsel");e.removeClass("btmalign"),i.css({bottom:"auto",top:o+s})},hideDropDown:function(){var t=this.$elem;t.find("ul").slideUp(function(){t.removeClass("zindrp")}).find("li.atsel").removeClass("atsel")}},a.fn.dropdown=function(t){return this.each(function(){new e(this,t).init()})}}(jQuery);function getSource(e){return ie?window.event.srcElement:e.target}function getEventSourceId(e){return null!=(e=null==e?window.event:e).srcElement?e.srcElement.id:e.target.id}function isUndefined(e){return void 0===e}function getObjectSize(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}function lsnocachefix(e,t){if("json"!=e)return e?"&nocache="+(new Date).getTime():"&"+_CFPARAMNAME+"="+getLDCSRFToken()+"&nocache="+(new Date).getTime();var n={};return n.nocache=(new Date).getTime(),!0!==t&&null!=t||(n[_CFPARAMNAME]=getLDCSRFToken()),n}function zeroUpFront(e){return 100<=e&&(e%=100),e<10&&(e="0"+(e=""+e)),e}function shrinkImage(e,t,n,r){var o={WIDTH:t,HEIGHT:e},i=[r/t,n/e];return 1<(i=Math.min(i[0],i[1]))?o:o={WIDTH:t*i,HEIGHT:e*i}}function getMatchedObjFromArray(e,t,n){return e.filter(function(e){if(e[t]===n)return e})}function getEncodedText(e){try{e&&(e=(e=e.replace(/&#39;|&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&#x2F;/g,"/")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"))}catch(e){}return e}function getDecodedText(e){try{e=e.replace(/&#39;|&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&#x2F;/g,"/")}catch(e){}return e}function getMemSize(e){return 1048576<e?getRoundedDecimals(100*e/1048576/100,2)+" MB":1024<e?getRoundedDecimals(100*e/1024/100,2)+" KB":getRoundedDecimals(e,2)+" Bytes"}function getRoundedDecimals(t,e){try{return t.toFixed(e)}catch(e){return t}}function processInput(e,t,n){if(!t)return t;switch(e){case"emailid":","==(t=t.replace(/(\s)|(\/)/g,"")).charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t.match(/@/g)&&t.match(/@/g).length<=1&&(t=t.replace(/,/g,"."));break;case"trimlength":n=n||100,t=t.substring(0,n)}return t}function getLDCSRFToken(){return $Support.getParent().$ZSIQCookie.get(_CFCNAME)}function getUnescapedText(e,t){if(isUndefined(e)||!t&&!isEncoded(e))return e;var n=$("<div></div>"),r=n.html(e).text();return n.remove(),r}function getEscapedText(e){return isEncoded(e)?e:$("<div/>").text(e).html()}function isEncoded(e){try{if(!/<|>/.test(e))return!0}catch(e){}return!1}function isPostMessageSupported(){try{return!!window.postMessage}catch(e){}return!1}util={optimizeFontForMozilla:function(e){var t="<FONT";if(-1!=e.indexOf(t)){var n=e.split(t);for(i=0;i<n.length;i++)n[i]=util.insertSpanForColor(n[i]);var r="";if(1<n.length)for(i=0;i<n.length;i++)r=0==i?n[i]:r+t+n[i];""!=r&&(e=r)}return e}};var Base64={PadChar:"=",samples:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getB64:function(e,t){var n=Base64.samples.indexOf(e.charAt(t));if(-1==n)throw"Error";return n},atob:function(t){if(!t)return"";var n,r,o,i=t.length;if(0==i)return t;try{return window.atob(t)}catch(e){if(i%4!=0)throw"Error";n=0,t.charAt(i-1)==Base64.PadChar&&(n=1,t.charAt(i-2)==Base64.PadChar&&(n=2),i-=4);var a=[];for(r=0;r<i;r+=4)o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12|Base64.getB64(t,r+2)<<6|Base64.getB64(t,r+3),a.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(n){case 1:o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12|Base64.getB64(t,r+2)<<6,a.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12,a.push(String.fromCharCode(o>>16))}return a.join("")}}},CommonUtil={TZOFFSET:-1*(new Date).getTimezoneOffset(),toJSON:function(e){return Object.toJSON?Object.toJSON(e):JSON.stringify(e)},parseToJSON:function(t){try{if("object"==typeof t)return t;t=JSON.parse(t)}catch(e){t=$.parseJSON(t)}return t},getCaptcha:function(e){return null!=e?"<img src='/showcaptcha?digest="+e+"'></img>":null},isAllowPasteImage:function(){return this.isAllowFileSharing()&&/chrome/.test(navigator.userAgent.toLowerCase())},isAllowFileSharing:function(){return JSON.parse($Support.EmbedObj.eprops.icfile)&&Licence.verify("filesharing")},isAllowAssist:function(){return JSON.parse($Support.EmbedObj.eprops.isscreenshare)&&JSON.parse($Support.EmbedObj.pprops.screensharing)&&CommonUtil.isIntegratedPortal(LDINTEG_ZASSIST)&&Licence.verify("assistallowed")},isAudioCallAllowed:function(e){return!(e=e||{}).isBotChat&&CommonUtil.isAudiocallEnabledFromPortal()&&JSON.parse($Support.EmbedObj.eprops.isaudiocall)&&!CommonUtil.isGroupChat(e.chatID)&&Licence.verify("audiocall")&&CommonUtil.isSecuredSchema()&&avaction.isBrowserSupported(navigator.userAgent,!0)},isScreenSharingAllowed:function(e){return e=e||{},CommonUtil.isScreenshareEnabledFromPortal()&&JSON.parse($Support.EmbedObj.eprops.issiqscreenshare)&&Licence.verify("issiqscreenshare")&&this.isAudioCallAllowed(e)},handleImgLoad:function(e,t,n){e=$(e),CommonUtil.setShrinkImageCSS(e,t,n),e.animate({opacity:1},150)},setShrinkImageCSS:function(e,t,n){var r=(e=$(e))[0],o=e.parent(),i=t||o.height(),a=n||o.width(),c=shrinkImage(r.naturalHeight,r.naturalWidth,i,a);e.css({height:c.HEIGHT,width:c.WIDTH})},wordCapitalize:function(e){return e.toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})},escapeSpecialNotation:function(e){if(""==e||null==e)return e;if(-1!==(e=""+e).indexOf("$")){index=-1,count=0;for(var t=e.split(""),n=0;n<=t.length;n++)if("$"===t[n])count++,index=parseInt(n);else if(1<count&&-1!=index){dollar="";for(var r=0;r<count-1;r++)dollar+="$";t.splice(index+1,0,dollar),index=-1,count=0}e=t.join("")}return e},handleEscape:function(e){$(e.target).parents(".editfields").length&&$UI.hideUserEditUI()},scrollIntoView:function(e,t){e.scrollTop(t[0].offsetTop-e[0].offsetTop)},getTextFromHeadToCaret:function(e){var t,n,r;(e=e[0]).isContentEditable&&document.selection?document.selection&&(e.focus(),(r=document.selection.createRange()).moveStart("character",-e.value.length),t=r.text):($(e).focus(),"number"==typeof(n=e.selectionEnd)?t=e.value.substring(0,n):document.selection&&((r=e.createTextRange()).moveStart("character",0),r.moveEnd("textedit"),t=r.text));return t},insertAtCaret:function(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,r=e.selectionEnd,o=e.scrollTop;return e.value=t+e.value.substring(r,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=t.length,void(e.scrollTop=o)}e.value+=t,e.focus()},handleAddDynamicKey:function(e,t,n){var r=CommonUtil.getTextFromHeadToCaret(t),o=r.lastIndexOf(e);n=r.slice(0,o+1)+n+e+" ",CommonUtil.insertAtCaret(t[0],n)},handleGridNavigation:function(e,t,n){CommonUtil.preventDefaultAndPropagation(t);var r,o=t.which,i=e.find(n+'[style*="block"]'),a=i.length,c=e.find(".sel"),s=i.index(c),l=Math.floor(e.width()/120);if(-1===s)r=i[0];else if(37===o)r=-1==--s?i[a-1]:i[s];else if(39===o)r=++s===a?i[0]:i[s];else if(38===o){if(s-l<=-1)r=a<=(s=(Math.ceil(a/l)-1)*l+s%l)?i[s-l]:i[s];else r=i[s-l]}else 40===o&&(r=a<=s+l?i[s%l]:i[s+l]);if(void 0!==r)return r=e.find(r),c.removeClass("sel"),r.addClass("sel"),CommonUtil.scrollToView(r,e),r},scrollToView:function(e,t){"string"==typeof t&&(t=$("#"+t)),"string"==typeof e&&(e=t.find("#"+e));var n=CommonUtil.getParentChildOffset(e,t),r=Math.ceil(t[0].scrollTop);n.elementtop<n.containertop?(r-=n.containertop-n.elementtop,t.scrollTop(r)):n.elementbottom>n.containerbottom&&(r+=n.elementbottom-n.containerbottom,t.scrollTop(r))},getParentChildOffset:function(e,t){var n={};return n.containertop=t.offset().top,n.containerbottom=n.containertop+t[0].clientHeight,n.elementtop=e.offset().top,n.elementbottom=n.elementtop+e.outerHeight(),n},preventDefaultAndPropagation:function(e){e.preventDefault(),e.stopPropagation()},handleFileUpload:function(t){var n=t.callbacks;$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){n.progress&&n.progress(e,t.msgid)},!1),e},url:$Support.getAjaxURL("upload",".ls"),type:"POST",data:t.formdata,contentType:!1,dataType:t.type,processData:!1,success:function(e){n.success&&n.success(e)},complete:function(e){n.complete&&n.complete(e)}})},isIntegratedPortal:function(e){var t=$Support.EmbedObj.integid;if("null"==t||""==t)return!1;t=JSON.parse(t);var n=[LDINTEG_SDPONDEMAND,LDINTEG_ZOHOSUPPORT,LDINTEG_ZCREATOR];e&&(n=[e]);for(var r=0;r<t.length;r++){var o=t[r];if(-1!==$.inArray(o,n))return!0}return!1},getformattedtext:function(e,t){return e.length>=t?e+"<br>":e},addIfExists:function(e,t,n){if(n)return e[t]=n},isBot:function(e){if(e&&-1!=e)try{var t=e.split("_")[2];return/^b/.test(t)}catch(e){return!1}},getBotImageURL:function(){var e=$Support.getParent().$ZSIQChat.getWidgetData(),t=e.embedobj;return(e.commondata.isdev?t.schema+"://"+t.embedserverurl:"")+"https://img.zohocdn.com/salesiq/images/botagent_3ca887953d29000553d7b0c1657d495c_.svg"},isSecuredSchema:function(){return-1<window.location.protocol.indexOf("https")},isAudiocallEnabledFromPortal:function(){return"true"==$Support.getParent().$ZSIQChat.getWidgetData().embedobj.isaudiocallallowed},isScreenshareEnabledFromPortal:function(){return"true"==$Support.getParent().$ZSIQChat.getWidgetData().embedobj.issiqscreenshare},decodeHTML:function(e){return e.replace(/&#x2F;/g,"/").replace(/&#39;|&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},getScreenName:function(){return _SCREENNAME},isGroupChat:function(e){if(!e)return!0;var t=0,n=SUPPORT_REPS[e]||{};Object.keys(n);for(var r in n){if(1<t)return!0;0==n[r].ismonitor&&t++}return 1<t}},Licence=function(){var e;return window.parent.$ZSIQWidget?e=window.parent:window.opener&&opener.$ZSIQWidget&&(e=window.opener),e.$ZSIQLicence}();var SIGNATURE_CHAT="1",DN_UNSUPPORTED=-1,TRIGGER_SMILEY_KEY=":",THIS_WEEK="0",LAST_WEEK="1",THIS_MONTH="2",LAST_MONTH="3",TODAY="5",YESTERDAY="6",TOMORROW="8",NEXT_WEEK="9",NEXT_MONTH="10",LAST_TWO_WEEKS="11",NEXT_TWO_WEEKS="12",LAST_TWO_MONTHS="13",NEXT_TWO_MONTHS="14",THIS_QUARTER="15",LAST_QUARTER="16",NEXT_QUARTER="17",THIS_YEAR="18",ADDINFO_TRIGGER="8",TRIGGER_SEND_MESSAGE=2,TRIGGER_PLAY_TUNE=9,AVAILABLE="1",IDLE="4",ENGAGED="6",NFY_USER_ENTERED=110,PUSH_MSG=111,CT_NFY_MSG=112,NFY_ENDLIVESUPPORT="113",NFY_LS_OPERATIONS=114,NFY_PUSH_MSG=115,NFY_USER_CONTINUE=116,NFY_USER_TYPING=104,NFY_USER_IDLE=105,RESEND_AUTO="1",RESEND_MANUAL="2",CT_TXT_MSG=12,CT_NFY_USERSTATUS=13,CT_NFY_USERADD=14,CT_NFY_USERDELETE=15,CT_INF_MSG=16,CT_ATT_MSG=20,CT_NFY_LEAVESUPPORT="35",WM_DNAME_UPDATE=45,WM_WebRTC_MSG=59,WM_AV_MSG=29,WM_CUSTOM=2,L_FREE1=1,L_FREE2=7,L_FREE=12,ONLINE=1,OFFLINE=0,LDINTEG_ZOHOSUPPORT=1,LDINTEG_SDPONDEMAND=4,LDINTEG_ZCREATOR=5,LDINTEG_ZASSIST=13,VERTICAL=0,HORIZONTAL=1,AUDIOCALL=(TRIGGER_SEND_MESSAGE=2,TRIGGER_PLAY_TUNE=9,ADDINFO_TRIGGER="8",0),VIDEOCALL=1,AUDIOVIDEOCALL=2,AV_CONNECTED="connected",AV_FAILED="failed",UPSTREAM=1,DOWNSTREAM=2,AV_ACCEPTED=1,AV_REJECTED=2,AV_INITIATE=3,AV_CANDIDATE=4,AV_ENDCALL=5,AV_CONNECTWITHPEER=6,AV_INCOMINGCALL=1,AV_OUTGOINGCALL=2,AV_CONNECTING=3,AV_ONGOING=4,AV_RECONNECTING=5,AV_USERBUSY=6,AV_STARTRECORD=7,AV_RECORDING=8,AV_PLAY=9,OLDFORM_VIEW=2,CLASSIC_VIEW=1,CONVERSATION_VIEW=3;var myMsgObj={};Message={trim:function(e){try{e=(e=(e=(e=(e=e.replace(/<p>/gi,"")).replace(/<\/p>/gi,"")).replace(/<a/gi,"<a target='_blank'")).replace(/\n/gi,"<br>")).replace(/^\s*$/gi,"")}catch(e){}return e},format:function(e){try{e=(e=(e=" "+e).replace(/((?:href|src)=["']?)?((https?:\/\/(?:www\.)?|www\.)[a-z0-9][^ \n\r]*?)(?=&quot;|&#x27;|&lt;|[\s"'<]|$)/gi,function(e,t,a,n){_SCHEMA,_EMBEDSERVERURL;return t?e:'<a href="'+getUnescapedText("www."===n?"http://"+a:a)+"\" target='_blank'>"+a+"</a>"})).replace(/(=(&#x27;|&#39;|&quot;|'|")*)?([a-z0-9]([a-z0-9_\-+\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,22}(\.[a-z]{2}){0,2}))/gi,function(e,t,a,n){return t?e:'<a href="mailto:'+n+'" class="updatedata" purpose="email">'+n+"</a>"})}catch(e){}return e},getDisplayContent:function(e){return e=Smiley.replace(e),e=Message.trim(e)},isLocalUser:function(e){return e==myMsgObj.sender},isHeader:function(e,t){return t&&t!=Message.presender},isSameBrowser:function(e){return!e||e==LSMessanger.getSid()},updateLastMessagePostTime:function(){Message.lastMessagePostTime=(new Date).getTime()},getLastMessagePostTime:function(){return Message.lastMessagePostTime||0},send:function(e,t,a){var n=(new Date).getTime();Message.updateLastMessagePostTime(),this.displaySendMessage(e,t,a,n),LSMessanger.sendMessage(e,t,a,n)},displaySendMessage:function(e,t,a,n){t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),myMsgObj.chid=e,myMsgObj.msg=t,myMsgObj.scroll=!0,myMsgObj.uniqueid=n,null!=a&&""!=a&&(myMsgObj.msg="<span style='"+a+"'>"+t+"</span>"),Message.formatAndDisplay(myMsgObj)},formatAndDisplay:function(e){try{var t=$Support.chidmappinglist[e.chid]||e.chid,a=ZSIQConversationManager.getChatWinObjById(t),n=a.contentdiv,i=e.msg,r=i,s=e.sender,o=e.mod,l=e.istranslated,c="";if(null==e.scroll||e.scroll,i=Message.getDisplayContent(i),c=null!=o&&"att"==o?(i=Message.constructAttUrl(e),"chatwindow.sharing_a_file_with_you"):(e.msg=i,"cannedarticle"===e.mode&&(r=$FAQ.getHeaderMessage(e.msg)),i=Message.getMessageBlock(e,"",t,a),"common.says.msg"),n.find("#conversationoption").remove(),n.find("#skipquestion").remove(),ZSIQTranscript.updateTranscript({html:i,msgid:e.msgid,sender:e.sender},t),$Support.clearEndTimer(a),e.dname&&!Message.isLocalUser(s)){var d=LSResource.getRealValue(c,getUnescapedText(e.dname)+","+r);Message.handleBlinkTitle(d)}a.presender=s;var g=n.find("#consentbannerdiv");Message.isLocalUser(s)||e.convvisitorid&&("null"==s||$Support.Util.isAnnonUser(s))||l||0==g.length||$Support.hidetranslatebanner()}catch(e){}},updateMessageTime:function(e){try{var t=e.sender+"_"+e.msgid,a=($Support.chatdiv||$("#msgdiv")).find('div[msgid="'+t+'"]');if(0==a.length)return;var n=a.prev().attr("msgtime");if(n){var i=e.lmsgtime;if(n!=i&&3e3<i-n){var r=e.chid;return LSMessanger.transcript(r,$EmbedManger.getvwmsid()),LSDebugger.pushDebugInfo(e),void LSDebugger.postDebugInfo("Chat transcript mismatched | "+r+" | "+n+" | "+a.prev().text(),null,null,!0)}}var s=e.time;a.attr("msgtime",s)}catch(e){}},getAVMessageBlock:function(e,t){var a=JSON.parse(e.media),n=(a.type,JSON.parse(a.opruser).dname),i=a.visitoraccess,r=MyDate.getHoursandMin(a.time,!0,"bclient"),s="none",o="";t||$("#audiocall").is(":hidden")||(s="");var l="audio"==a.type,c="screen_share"==a.type||"screen_view"==a.type;if(callagain_txt="<span class='sqico-call callagain-txt' style='display: "+s+"' id='audio_callagain' onclick='SiqAVRouter.container.audioImpl.startAudioCallAgain(\""+a.chatid+"\")'>"+LSResource.getRealValue("av.info.callagain")+"</span>","call_end"===e.operation&&null!=a.duration&&""!=a.duration&&(l?o=LSResource.getRealValue("av.info.success"," "+a.duration)+callagain_txt:c&&(o=LSResource.getRealValue("screenshare.info.success"," "+a.duration)),!t)){var d={attenderemail:$Support.EmbedObj.attenderemail,duration:a.duration};$Support.Util.handleCallbacks("call.completed",d)}return"call_miss"===e.operation&&(l?(o=LSResource.getRealValue("av.info.agent.missed")+callagain_txt,i&&(o=LSResource.getRealValue("av.info.visitor.missed",n)+callagain_txt)):c&&(o=LSResource.getRealValue("screenshare.info.agent.missed"),i&&(o=LSResource.getRealValue("screenshare.info.visitor.missed",n)))),"call_cancel"===e.operation&&(l?(o=LSResource.getRealValue("av.info.visitor.cancelled",n)+callagain_txt,i&&(o=LSResource.getRealValue("av.info.agent.cancelled")+callagain_txt)):c&&(o=LSResource.getRealValue("ss.info.visitor.cancelled",n),i&&(o=LSResource.getRealValue("ss.info.agent.cancelled")))),"call_reject"===e.operation&&(l?(o=LSResource.getRealValue("av.info.visitor.declined",n)+callagain_txt,i&&(o=LSResource.getRealValue("av.info.agent.declined")+callagain_txt)):c&&(o=LSResource.getRealValue("screenshare.info.visitor.declined",n),i&&(o=LSResource.getRealValue("screenshare.info.agent.declined")))),"call_busy"===e.operation&&(o=LSResource.getRealValue("av.info.visitor.declined",n)+callagain_txt),!t&&"call_busy"!==e.operation&&("call_miss"!==e.operation||!i)&&e.operation,"<p title='"+r+"'>"+o+"</p>"},getMessageBlock:function(e,t,a,n){var i="";try{i=e.msg,sender=e.sender;var r=MyDate.getHoursandMin((new Date).getTime(),!0,"bclient");if("CT_INF_MSG"==sender)i='<div class="inf_msg">'+i+"</div>";else{var s=!1,o=getEscapedText(e.dname);n.presender&&n.presender===sender&&(s=!0);var l={sender:sender,dname:o,msg:i,time:r,previoussender:s,uniqueid:e.uniqueid,msgid:e.msgid,meta:$Widget.getMetaCardData(),chid:a};"cannedarticle"===e.mode?(l.msg=i=ZSIQTranscript.getCustomArticleCard(e.msg),l.iscannedarticle=!0,l.cardheader=$FAQ.getHeaderMessage(e.msg),$Support.handleNewMessageInConversation(l)):"botrating"===e.mode&&(l.botrating=!0,l.ratinghtml=e.ratinghtml),e.bot_image&&(l.bot_image=e.bot_image),-1===a&&e.chid,$Support.updateChatCache(l,void 0,a);var c=$.extend({},l);i=ZSIQTranscript.getTranscript(c,t,a)}}catch(e){}return i},displayInfo:function(e,t,a){ZSIQTranscript.updateTranscript({html:$UI.getInfoMsgHTML(e,t)},a)},getInfoHTML:function(e,t,a,n){var i=function(e,t){return t=t||"",LSResource.getRealValue(e,t)},r="",s=e.mode;$Support.EmbedObj;r={ACCEPT_TRANSFER:i("transcript.info.chattransfer",p=e&&e.opruser?e.opruser.dname:""),ACCEPT_FORWARD:i("transcript.info.acceptforward",p),FORWARD_SUPPORT:i("transcript.info.forwardsupport",p),JOIN_SUPPORT:i("transcript.info.joinsupport",p),REOPEN:i("transcript.info.reopen",p)}[s];if(-1<["ACCEPT_TRANSFER","ACCEPT_FORWARD","JOIN_SUPPORT"].indexOf(s)&&e){var o=ZSIQConversationManager.getChatWinObjById(e.chid);$BotImpl.enableComposer(),$UI.populateUserAction(o);var l=e.opruser;l.attendername=l.dname,!o.isBotChat||a||n||$Support.handleBotTransferAccept(e.chid),t||n||(o.attenderimagefkey=l.image_fkey,o.attender=l.lsuid,o.attenderaboutme=l.aboutme,delete o.isforwardchat,!$Support.isConversationUIFocussed()&&ZSIQConversationManager.isChatUIFocusses(o.chatID)&&$UI.setInnerHeader(l),o.attendername=getUnescapedText(l.dname),$Support.handleChatTransferInConversationListView(o)),$Support.updateChatCookie(o.chatID),$Support.setCookie(o);try{var c=ZSIQConversationManager.getChatWinObjById(o.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(c)}catch(e){}}else if("ACCEPT_FORWARD"==s)r=LSResource.getRealValue("transcript.info.acceptforward",p),$Support.setAttenderCookie(e.opruser,o.chatID);else if("FORWARD_SUPPORT"==s)r=LSResource.getRealValue("transcript.info.forwardsupport",e.opruser.dname);else if("REOPEN"==s){var d=e.operation_user&&e.operation_user.name;d=ZSIQTranscript.isInValidVisitorName(d)?"You":getEscapedText(d),r=LSResource.getRealValue("transcript.info.reopen",d)}else if("JOIN_SUPPORT"==s)r=LSResource.getRealValue("transcript.info.joinsupport",e.opruser.dname);else if("ADDSUPPORTREP"==s&&e)r=i("transcript.info.addrep",e.userlist.dname);else if("INVITE"==s){var g=e.type,u=e.opruser,p=u.dname;if("audio"==g)r=i("transcript.info.visitor.requestaudiochat",p);else if("video"==g)r=i("transcript.info.visitor.requestvideochat",p);else if("meeting"==g){var m=e.opr;u.wmsid==$Support.EmbedObj.vwmsid?(r=i("transcript.info.sameuser.sharedesktop"),myMsgObj.sender&&(r+=" <a href='"+e.start_url+"' target='_blank' class='zsiq_ssjoinlink'>"+i("chatwindow.meeting.share.now")+"</a>")):r="request"==m?i("chatwindow.meeting.request",p)+(myMsgObj.sender?" <a href='"+e.start_url+"' target='_blank' documentclick='openmeeting' class='zsiq_ssjoinlink'>"+i("chatwindow.meeting.share.now")+"</a>":""):i("chatwindow.share.screen",p)+(myMsgObj.sender?" <a href='"+e.join_url+"' target='_blank' documentclick='openmeeting' class='zsiq_ssjoinlink'>"+i("chatwindow.meeting.joinnow")+"</a>":"")}}else if("MEDIA"===s)r=Message.getAVMessageBlock(e,a);else if("CHATMONITOR_JOIN"==s){o=ZSIQConversationManager.getChatWinObjById(e.chid);try{c=ZSIQConversationManager.getChatWinObjById(o.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(c)}catch(e){}r=i("transcript.info.addrep",e.opruser.dname)}return r},constructAttUrl:function(e){var t="";try{var a=$Support.chidmappinglist[e.chid]||e.chid,n=ZSIQConversationManager.getChatWinObjById(a),i=e.sender,r=e.msg,s=($Support.EmbedObj,""!=n.presender&&n.presender==i),o={sender:i,dname:e.dname,msg:r,previoussender:s,file:{size:r.size,url:r.url,fName:r.fName,comment:r.comment},mode:"att"};e.msgid&&(o.file.msgid=e.msgid),$Support.updateChatCache(o,"",a),t=ZSIQTranscript.getTranscript(o,"",a)}catch(e){}return t},display:function(e,t,a,n){if($("#msgdiv").length){var i,r=document.getElementById("msgmaindiv"),s=!0;if((r.scrollHeight-r.scrollTop==r.clientHeight||r.scrollHeight<r.clientHeight)&&(s=!1),ie||(e=util.optimizeFontForMozilla(e)),Message.isTypingShown()&&Message.isFirstMessageForTyping())if(Message.isLocalUser(n))ZSIQTranscript.removeTyping(!0);else{var o=!n;ZSIQTranscript.removeTyping(o);var l=$("<div/>").html(e).contents();if(l&&0<l.length)e=l.find(".msgbx").prop("outerHTML"),i=!0}var c=$Support.chatdiv.find('span[msgid="'+a+'"]');if(c.length)c.find(".filedet").replaceWith($(e).find(".filedet")),c.find(".fdload").replaceWith($(e).find(".fdload"));else{var d=$(".zsiq_transferdiv");0<d.length?(i||$(e).insertBefore(d),d.is(":visible")||d.show()):i||$Support.chatdiv.append(e),i&&$("#msgmaindiv .agntmsg").last().append(e)}var g=$("#msgdiv > .ziq_msg").last();if(!s||t)return void Message.scroll(r,g);Message.animate(g)}},animate:function(e,t,a){if(e){var n=t?{right:"auro",left:"-20px",opacity:"0"}:{right:"0",left:"0",opacity:"1"};e.animate(n,300,function(){a&&a(e)})}},isTypingShown:function(){return 0<$("#siq_bottype").length},isFirstMessageForTyping:function(){return $("#siq_bottype").parent().attr("frstmsg")},scroll:function(e,t){e&&$(e).animate({scrollTop:e.scrollHeight-e.offsetHeight},250,function(){Message.animate(t)})},handleBlinkTitle:function(e){$EmbedManger.isComposerFocused()||parent==self&&$EmbedManger.iswindowfocused()||Message.blinkTitle(e)},blinkTitle:function(e){var t=$Support;t.isblinking||(t.documenttitle=document.title,t.isblinking=!0),Message.startBlinking(e),$Support.getParent().$ZSIQUtil.blinkTitle(e)},startBlinking:function(e){if(!e)return!1;clearTimeout($Support.blinktimer);var t,a="";$Support.blinktimer=setInterval(function(){t="title"==t?(a=e,"chmsg"):(a=$Support.documenttitle,"title"),document.title=a},500)},stopBlinking:function(){$Support.getParent().$ZSIQUtil.stopBlinking(),$Support.isblinking&&(clearTimeout($Support.blinktimer),$Support.isblinking=!1,document.title=$Support.documenttitle)},checkCardMask:function(e){for(var t=e.split("").map(Number),a=0,n=t.length,i=n%2,r=0;r<t.length;r++){var s=t[r];r%2==i&&(s*=2),9<s&&(s-=9),a+=s}if(a%10==0){var o=e.split("");switch(n){case 13:return o.splice(0,9,"XXX-XXX-XXX-"),o.join("");case 14:return o.splice(0,10,"XXX-XXX-XXXX-"),o.join("");case 15:return o.splice(0,11,"XXX-XXXX-XXXX-"),o.join("");case 16:return o.splice(0,12,"XXXX-XXXX-XXXX-"),o.join("")}}return!1},checkMaskOccurance:function(e,t){var a=!1,n=[];if((n=e.match(/\b(((\d)+([-]|\s)*)+(\d)+)\b/g))&&n.length)for(var i=0;i<n.length;i++){var r=n[i].match(/\d+/g).join(""),s=r.length;if(!(s<13||16<s)){var o=Message.checkCardMask(r);o&&(a=!0,e=e.replace(n[i],o))}}return t?a:e}};var dext=".ls",CURCONID=-1,SUPPORT_REPS={};_SUBDOMAIN="zoho.com",_JOINED=!1;var _AGENT_ONLINE=!(_WMSACK=!1),MONITOR_TIMER=0,IGNORE_ENCODE=[CT_TXT_MSG];function print(e){try{var t=document.getElementById("debug");t.innerHTML=e+"<br>"+t.innerHTML}catch(e){}}function printtime(){print(new Date)}function LSgetPrd(){return LSMessanger.getPrd()}function LSgetAuthType(){return 0}function LSgetUserName(){return LSMessanger.getUserName()}function LSgetNickName(){return LSMessanger.getNickName()}function LSgetUserId(){return LSMessanger.getUserId()}function LSgetSid(){return LSMessanger.getSid()}var lpt,pmonInterval=15e3;function LSplive(){lpt=new Date}function LSMessanger(){}LSMessanger.init=function(){this.rchid=-1},LSMessanger.setRCHID=function(e){LSMessanger.rchid=e},LSMessanger.getRCHID=function(){return LSMessanger.rchid},LSMessanger.deleteSid=function(){delete LSMessanger.sid},LSMessanger.register=function(e,t){try{setTimeout(function(){LSDebugger.postDebugInfo("Visitor Side before registor : "+t,null,"",!0)},1)}catch(e){}if(e){if(!t)return!1;this.prd=e,this.uname=t,LSMessanger.init(),_WMSPUBLICDOMAIN&&WmsLite.enablePreconnectToWMS(_WMSPUBLICDOMAIN),WmsLite.setNoDomainChange(),WmsLite.setAuthType(0),WmsLite.setJSStaticDomain(_WMSJSSTATICDOMAIN),WmsLite.forceDomainChange();var s=_SCHEMA+"://"+_EMBEDSERVERURL;WmsLite.allowCrossOrigin(s),WmsLite.setWmsContext("salesiq"),WmsLite.setConfig(79),WmsLite.registerAnnon(e,this.uname,this.nname)}else $EmbedManger.UI.showProcess(LSResource.getRealValue("common.serverconnectingerror")+" <a href='javascript:void(0)' onclick='window.location.reload()'>"+LSResource.getRealValue("common.reload")+"</a>")},LSMessanger.getUserName=function(){return this.uname},LSMessanger.getNickName=function(){return this.nname},LSMessanger.setNickName=function(e){this.nname=e},LSMessanger.getUserId=function(){return this.uid},LSMessanger.getPrd=function(){return this.prd},LSMessanger.getSid=function(){return this.sid},LSMessanger.disable=function(){WmsLite.disablewms=!0},LSMessanger.isdisablewms=function(){return WmsLite.disablewms},LSMessanger.push=function(e,t,s){try{var n=parseInt(e.mtype);0<n&&-1===IGNORE_ENCODE.indexOf(n)&&e.msg&&(e.msg=getEncodedObject(e.msg))}catch(e){}var a=$EmbedManger;try{var i=JSON.parse(JSON.stringify(e));setTimeout(function(){SiqAVRouter.container.lsrouter.handleMessage(i)})}catch(e){}if(null!=e&&!_WMSDOWN)if(0==e.mtype){var r=null!=this.sid;(f=e.msg)&&(this.uid=f.uid,this.sid=f.sid),myMsgObj.sender=this.uname,myMsgObj.nname=this.nname,myMsgObj.dname=this.nname,SUPPORT_REPS={},_WMSACK=!0;var o=$Support.isChatExist(),d=($Support.getCookieValue("ZLD"+$Support.EmbedObj.livelsid)||{}).ongoingchats||"",p=a.getVisitorID();try{setTimeout(function(){LSDebugger.pushDebugInfo(WmsLite.getDebugInfo()),LSDebugger.postDebugInfo("Visitor Side after registor : "+myMsgObj.sender+" : "+myMsgObj.nname+p+" Join status-"+_JOINED,null,"",!0)},1)}catch(e){}if($Support.joinedchatkeys=[],o){var g=a.getWaitingCookie();if(!$NE&&g)return;$NE&&t&&$Support.removeCacheCookie(),g&&a.reJoin(),d&&$Support.makeJoinChat(t,s)}else-1!=p?($Support.joinedchatkeys=[],a.reJoin()):-1!=p||r||($Support.reopenobj?$Support.reOpenChat($Support.reopenobj):a.addVisitor());$Support.setTabOwner()}else if(-3==e.mtype||-4==e.mtype)$Support.joinedchatkeys=[],$Support.makeJoinChat(t,s);else if(10==e.mtype){var u=(f=e.msg).chid,c=$Support.chidmappinglist[u],m=ZSIQConversationManager.getChatWinObjById(c);LSMessanger.setRCHID(u);for(var S=SUPPORT_REPS[c]||{},l=0;l<f.users.length;l++){var h=f.users[l];S[h.uname]&&(S[h.uname].ismonitor=!1)}m.isBotChat&&1<Object.keys(S).length&&m.contentdiv.find(".zsiq_transferdiv").remove(),f.users.length&&a.UI.showAgentStatus(),LSMessanger.transcript(c,a.getvwmsid())}else if(e.mtype==CT_TXT_MSG){var f=e.msg,I=$Support.EmbedObj,v=$Support.chidmappinglist[f.chid];!(m=ZSIQConversationManager.getChatWinObjById(v)).reopenwaiting&&LSMessanger.joinchat(v,a.getvwmsid()),EmbedSound.isPlaying("endtimer")&&EmbedSound.stop();var M=f.sender;if(Message.isLocalUser(M))Message.isSameBrowser(f.sid)||Message.formatAndDisplay(f);else{var C=$BotImpl.isBotMessage(f),b=!1;try{b=SiqAVRouter.container.commonImpl.getActiveCallData()==f.chid}catch(e){}KeyHandler.isWindowFocused()||C||b||!m.isSoundOff()&&EmbedSound.play("smessage");var U=f.msg;if(f.nname&&M&&M.split("_")[2]==m.attender&&(m.attendername=f.nname),C){var E=(f.meta||{}).handoff_config||{};E&&$Support.storeHandoffConfig(E,f.enc_chid),$BotImpl.formatAndDisplay(f)}else Message.formatAndDisplay(f);U=U.replace(/<span[^>]*?>/gi,"").replace(/<\/span>/gi,"").replace(/<br>/gi,"\r\n");var O={visitid:m.VISITID,message:U,attendername:m.attendername,attenderemail:m.attenderemail};a.handleCallbacks("visitor.chatmessage",O),Self.status.clear(m),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||!ZSIQConversationManager.isChatUIFocusses(v)||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount(v)}Message.updateMessageTime(f),f.chid=$Support.chidmappinglist[f.chid]||f.chid,$Support.handleOnGoingchatActionsInConversation("newmsg",f)}else if(e.mtype==CT_NFY_USERSTATUS){f=e.msg,c=$Support.chidmappinglist[f.chid],S=SUPPORT_REPS[c]||{};try{S[f.uname]&&(f.ismonitor=0!=f.ismonitor,S[f.uname]=f),a.UI.showAgentStatus()}catch(e){}}else if(e.mtype==CT_NFY_USERADD){f=e.msg,c=$Support.chidmappinglist[f.chid],S=SUPPORT_REPS[c]||{};try{var L=f.users;for(l=0;l<L.length;l++)S[L[l].uname]=L[l];a.UI.showAgentStatus()}catch(e){}}else if(e.mtype===NFY_ENDLIVESUPPORT||e.mtype===CT_NFY_LEAVESUPPORT){f=e.msg,c=$Support.chidmappinglist[f.chid],m=ZSIQConversationManager.getChatWinObjById(c)||{};try{LSDebugger.postDebugInfo("Chat flow debug | End Chat notified to visitor session "+LSMessanger.getSid()+" | "+f.chid,null,null,!0)}catch(e){}parent.$ZSIQCookie.remove("isiframeenabled"),LSMessanger.disable();var y=$Support.joinedchatkeys,T=y.indexOf(c);if(-1!=T&&y.splice(T,1),m.callquitstatus)return;a.updateChatCookie(m.chatID);U=f.msg;if(m.isBotChat&&(ZSIQTranscript.removeTyping(!0),$Widget.removeComponent(m),U&&U.replies&&(U.sender=f.sender,$Support.showRepliesNow(U))),a.isNewEmbed)return a.handleChatEnded(f,m),f.currwinobj=m,void $Support.handleOnGoingchatActionsInConversation("endchat",f);a.setQuitStatus(!0),e.mtype===CT_NFY_LEAVESUPPORT?(Message.displayInfo(LSResource.getRealValue("visitorchat.supportchat.ended"),"chtend",m.chatID),a.UI.showFeedback(U)):(Message.displayInfo("","",m.chatID),a.UI.handleEndSupport(f)),a.handleChatEnded(f,m)}else if(e.mtype==NFY_LS_OPERATIONS){f=e.msg,c=$Support.chidmappinglist[f.chid];if("MEDIA"==(V=f.module)&&(f.msg=JSON.parse(f.msg)),f.msg&&"cannedarticle"===f.msg.mode)Message.formatAndDisplay(f.msg),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount($Support.chidmappinglist[f.chid]),$Support.isFAQEnabled()&&$FAQ.updateMessageCount("newmsg");else if(f.msg&&"bot_progress_info"===f.msg.module)$Support.handleBotProgressInfo(f.msg.info);else if("mailchimp"==V){(_=f.msg).name&&a.setVisitorName(_.name),_.email&&a.setVisitorEmail(_.email),a.UI.updateVisitorName(_),$Support.storeInCookie("mailchimp",JSON.stringify({email:_.email,name:_.name}),31e4)}else if("desktopsharing"==V||"MEDIA"==V||"VISITORNAMECHANGE"==V||"acceptforward"==V||"forwardsupport"==V||"acctranschat"==V||"addsupportrep"==V||"deletemember"==V||"transchat"==V||"updatechatparticipant"==V||"joinsupport"==V){if(("acctranschat"==V||"joinsupport"==V)&&$Support.checkAndRemoveBotattender(c),a.UI.formatAndDisplayInfo(c,f.msg,f.addinfo),a.updateChatCache({msg:f.msg},"",c),"joinsupport"==V&&$Support.handleJoinSupport(c),"VISITORNAMECHANGE"===V){var _=f.msg.VISITORDATA;"[object Object]"===Object.prototype.toString.call(_)&&(_.name&&a.setVisitorName(_.name),_.email&&a.setVisitorEmail(_.email),_.phone&&a.setVisitorPhone(_.phone),a.UI.updateVisitorName(_)),a.UI.hideVisitorInfo()}if("acctranschat"==V){a.UI.hideGroupIcon();O={visitid:a.getVisitID(),attendername:f.dname,department:f.deptname,attenderemail:f.attenderemail};a.handleCallbacks("agent.accepttransfer",O);document.querySelectorAll("#audio_callagain");$Support.EmbedObj.attenderemail=f.attenderemail;var R=SUPPORT_REPS[c][f.uname];SUPPORT_REPS[c]={},SUPPORT_REPS[c][f.uname]=R}if("addsupportrep"==V){var D=f.msg&&f.msg.userlist||{};(S=SUPPORT_REPS[c]||{})[D.uname]=D,a.UI.showGroupIcon()}if("deletemember"==V){L=f.uname;delete(S=SUPPORT_REPS[c]||{})[L],a.UI.showAgentStatus()}if("transchat"==V){var A=f.msg;O={visitid:a.getVisitID(),currentuser:A.opruser.dname,transfertype:A.type,transfername:A.transferdetails.transfername};a.handleCallbacks("agent.transferchat",O)}else if("updatechatparticipant"==V){var N=ZSIQConversationManager.getChatWinObjById(c);"CHATMONITOR_JOIN"==(A=f.msg).mode&&(SUPPORT_REPS[c][f.uname]={nnmae:f.nname},$Support.isBotChat&&N.contentdiv.find(".zsiq_transferdiv").remove())}else"forwardsupport"==V&&($Support.hideTransferOption(c),$Support.storeHideTransfer(c))}else if("blockip"==V)a.setIPBlockStatus(!0),"float"!=a.getType()&&"personal"!=a.getType()||(SiqAVRouter.container.detailsHandler.endCall(e.msg.chid),$(parent.document.body).find(".siq_media").remove(),a.quit(ZSIQConversationManager.getChatWinObjById(c)));else if("addsupportrep"==V){D=f.msg.userlist;(S=SUPPORT_REPS[c]||{})[D.uname]=D,a.UI.showAgentStatus()}else if("updatechatparticipant"==V){D=f.msg.userlist;(S=SUPPORT_REPS[c]||{})[D.uname]=D,a.UI.showAgentStatus()}else"bottransfer"===V?$Support.handleBotTransfer(e.msg,c):"content_moderation"===V&&(f.msg=f.msg&&f.msg.msg||"",Message.formatAndDisplay(f))}else if(e.mtype==NFY_USER_IDLE){(O=e.msg).msg="",Self.status.update(O),$Support.handleOnGoingchatActionsInConversation("typingstatus",O)}else if(e.mtype==NFY_USER_ENTERED){(O=e.msg).msg=a.isNewEmbed?"":LSResource.getRealValue("infomsg.enteredtext",O.dname),Self.status.update(O),$Support.handleOnGoingchatActionsInConversation("typingstatus",O)}else if(e.mtype==NFY_USER_TYPING){O=e.msg,c=$Support.chidmappinglist[O.chid],m=ZSIQConversationManager.getChatWinObjById(c);var P=a.isNewEmbed?"ne.infomsg.istyping":"infomsg.istyping";O.msg=LSResource.getRealValue(P,O.dname),Self.status.update(O),$Support.handleOnGoingchatActionsInConversation("typingstatus",O);I=$Support.EmbedObj;var j=O.sender?O.sender.split("_")[2]:"";if(m.attender==j&&$.trim(m.attendername)!=$.trim(O.nname)){var w=$Support.getParent().$ZSIQUtil.getAvuid();$Support.LSDB.storeInSession(w+"_conversation",""),$Support.convlistcontainer.find("#pastchatconv").html("");var W="";1==$Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody").length&&(W=$($Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody")[0]).attr("chid")),$Support.PopulateConversationList(function(e,t){if(e.length){var s="";e.forEach(function(e){W!=e.chid&&(e.question=getEscapedText(e.question),s+=$Temp.getConversationHistoryHTML(e))}),t?$Support.convlistcontainer.find("#pastchatconv").prepend($(s)):$Support.convlistcontainer.find("#pastchatconv").append(s)}}),m.attendername=O.nname,$("#attname").html(O.nname),$("#convchatattendername").html(O.nname),LSMessanger.transcript(c,LSMessanger.getUserId(),!0),$Support.removeCookie("ZLD"+I.livelsid)}}else if(e.mtype==CT_ATT_MSG){O=e.msg,I=$Support.EmbedObj,c=$Support.chidmappinglist[O.chid],m=ZSIQConversationManager.getChatWinObjById(c);if(O.msgid||(O.msgid=(new Date).getTime()),Message.formatAndDisplay(O),a.UI.clearProgress(),!Message.isLocalUser(O.sender)){KeyHandler.isWindowFocused()||!m.isSoundOff()&&EmbedSound.play("smessage");var F=O.msg,k={visitid:a.getVisitID(),message:LSResource.getRealValue("chatwindow.sharing_a_file_with_you",O.dname),filesize:getMemSize(F.size),filename:F.fName,sender:O.sender,dname:O.dname,content:F.content,attendername:I.attendername,attenderemail:I.attenderemail};a.handleCallbacks("visitor.chatmessage",k),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||!ZSIQConversationManager.isChatUIFocusses(c)||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount(c)}Message.updateMessageTime(O),O.chid=c,$Support.handleOnGoingchatActionsInConversation("newmsg",O)}else if(e.mtype==WM_CUSTOM){var B=e.msg,V=B.module,Q=$Support.chidmappinglist[B.rchid||B.chid]||B.chid;if("pickupsupport"===V){try{LSDebugger.postDebugInfo("Chat flow debug | Pickup chat notified to visitor session "+LSMessanger.getSid()+" | "+B.visitorid,null,null,!0)}catch(e){}LSMessanger.setRCHID(B.rchid),B.hand_off&&B.handoff_config&&$Support.storeHandoffConfig(B.handoff_config,Q),a.handlePickUp(B)}else if("audiovideo"===V)ZAudioVideo.handleStatus(B);else if("desktopsharing"===V)a.handleDesktopSharing(B),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount(Q);else if("actendsession"===V||"endsupport"==V)a.handleEndSession(B);else if("joinproactivechat"===V){e=B.data;Message.isSameBrowser(e.sid)||a.handleJoinProActive(e)}else"missed"===V?$Support.handleMissedVisitor(!0,"","","",ZSIQConversationManager.getChatWinObjById(Q)):"audiovideocall"===V||("skipoffline"===V?$Support.handleBotSkipOffline(Q):"botbusy"===V?$Support.handleBotBusy(Q):"bottransfermissed"===V?$Support.handleBotTransferMissed(Q):"vtranslanguage"===V?$Support.handleVTransLang(e.msg):"noagentsavailable"==V&&$Support.handleAgentsOfflineForTransfer(Q))}else if(e.mtype==CT_NFY_MSG){(O=e.msg).sender!=myMsgObj.sender&&Message.formatAndDisplay(O)}else if(e.mtype==NFY_PUSH_MSG)($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount();else if(e.mtype==CT_NFY_USERDELETE){for(L=(f=e.msg).users,c=$Support.chidmappinglist[f.chid],S=SUPPORT_REPS[c]||{},l=0;l<L.length;l++)delete S[L[l].uname];a.UI.showAgentStatus()}else if(e.mtype==CT_INF_MSG&&e.msg.msg&&"USER DELETED"==e.msg.msg.mode){var Z=Object.keys(e.msg.msg.userslist)[0],x=$Support.chidmappinglist[e.msg.chid];SUPPORT_REPS[x][Z]&&delete SUPPORT_REPS[x][Z],SiqAVRouter.container.detailsHandler.triggerIconCheck(e.msg.chid)}else if(e.mtype==WM_DNAME_UPDATE&&$Support.isChatExist()){var H=e.msg.dname;LSMessanger.setNickName(H),myMsgObj.dname=H,a.setVisitorName(H),a.setCookie()}else e.mtype==WM_WebRTC_MSG||e.mtype==WM_AV_MSG&&"AV_NRSCALLBACK"!=e.msg.module&&(e.msg.msg=JSON.parse(e.msg.msg),e.msg.msg.media=JSON.parse(e.msg.msg.media))},LSMessanger.getMediaObj=function(e){return avimpl.newflow?mediaAction:e.isConf?mediaAction:avaction},LSMessanger.joinchat=function(e,t,s,n){var a=ZSIQConversationManager.getChatWinObjById(e),i=a.visitorID,r=$Support.joinedchatkeys;if(e&&(!r||-1==r.indexOf(e))&&-1!=e){var o=$EmbedManger,d=lsnocachefix("json",!1);d.chid=e,d.sid=encodeURIComponent(LSMessanger.getSid()),o.getuvid()&&-1===i&&(d.uvid=o.getuvid()),t&&(d.wmsid=t),d.visitorid=encodeURIComponent(i),s&&(d.isntwrkreconnect=s),n&&(d.isserverupwithoutserverdown=n),a.proactive&&(d.isproactive=!0),$.ajax({url:$Support.getAjaxURL("joinchat",dext),type:"POST",data:d,dataType:"json",success:function(e){if(e){var t=e[0],s=t.objType,n=t.objString;if(n.chid&&!n.ERROR)return $Support.pushToJoinChat(n.chid),void(n.participantlist&&(SUPPORT_REPS[n.chid]=n.participantlist));if("object"==s&&"CHATENDED"==n.ERROR){var a=n.chid,i=ZSIQConversationManager.getChatWinObjById(a),r=n.CHATDETAILS;if(i.callquitstatus)return;if(LSMessanger.disable(),o.isNewEmbed)return i.showChatUI(),o.handleChatEnded(r,i),void o.updateChatCookie(a);o.setQuitStatus(!0),$("#waitingform").hide(),o.showChatUI("","",i),o.UI.handleEndSupport(r),o.handleChatEnded(r),o.updateChatCookie(a)}"error"===s&&(o.UI.resizequestion||o.UI.postMessage("size","shrink"),o.removeChatCookie(),document.location.reload())}}})}},LSMessanger.transcript=function(e,t,i){var s=ZSIQConversationManager.getChatWinObjById(e);if(-1!=e&&!$.isEmptyObject(s)){var r=$EmbedManger,n=r.getType();null!=n&&"null"!=n||(n="embed"),"personal"==n&&(n="float");var a="",o=s.visitorID;a+=-1!==o?"&visitorid="+o:"&uvid="+r.getuvid();var d=$Support.getAjaxURL("getvisitortranscript",dext);d+="?tzoffset="+_TZCOFFSET+"&uid="+t+"&type="+n+a+lsnocachefix(!0)+"&lang="+_LANG,_CCODE&&(d+="&ccode="+_CCODE);var p="";return r.isNewEmbed&&(p="json"),$.get(d,"",function(e){if($.trim(e)){$("#waitingform").hide();var t={},s=r.UI.embeddiv();if(-1!=e.indexOf("transcript.try.after.sometime"))return s.find("#embedcontainer").html(""),void r.UI.displayInfo(LSResource.getRealValue("transcript.try.after.sometime"));if(!$.isEmptyObject(e)){var n=e[0].chid;t=ZSIQConversationManager.getChatWinObjById(n)}if(t.proactive&&$Support.isSessionTranscriptEmpty(n)){r.updateChatCache(e,!0,n);var a=ZSIQConversationManager.getcurrchatwinobj();$Support.container.find('[proptype="siqform"]').remove(),$Support.container.find('[proptype="siqemptybg"]').remove(),a.contentdiv&&a.contentdiv.hide(),ZSIQConversationManager.resetLastViewd(),$Support.removeEndedChatInstanceAndElement(),$Support.Util.populateTriggerUI(t),t.chatstatus="connected"}else r.showChatUI(e,i,t),r.updateChatCache(e,!0,n);r.isautotrigger()||r.UI.showVisitorInfo(),SiqAVRouter.container.detailsHandler.triggerIconCheck(t.RCHID),$Support.EmbedObj.isreopenenabled&&$Support.isConversationUIFocussed()&&$Support.container.find("#showsiqchatui").show(),r.UI.resizeWindow(),LSMessanger.resendMessages(RESEND_AUTO,t.chatID),$Support.isFAQUIFocussed()&&$Support.incrementUnreadCount(t.chatID),$Support.handleOnGoingchatActionsInConversation("newchat",t)}},p),""}},LSMessanger.sendMessage=function(e,o,d,p,g){var t=ZSIQConversationManager.getChatWinObjById(e);if(_WMSDOWN||g&&-1==$Support.joinedchatkeys.indexOf(e))LSMessanger.handleResendFailed(e,o,d,p,g);else{var u=$EmbedManger;if(u.setCallbackargs(arguments),o&&$.trim(o)){o=o.replace(/[\n\r]/gi,"\n");var s={chid:e,sender:myMsgObj.sender,msg:o,sid:LSMessanger.getSid(),dname:getUnescapedText(LSMessanger.getNickName())};if(s.isbotchat=t.isBotChat,s.lang_embed=_LANG,s.ccode=_CCODE,s.visitorid=encodeURIComponent(t.visitorID),g&&(s.resendtype=parseInt(g)),d&&(s.style=d),$.extend(s,lsnocachefix("json")),$.extend(s,u.UI.getCaptchaValue()),p&&(s.msgid=p),$Widget.getMetaData()){var n=$Widget.getMetaData();n.value="object"==typeof n.value?JSON.stringify(n.value):""+n.value,s.meta=JSON.stringify(n),$Widget.clearMetaData()}var a=$Support.getParent().$UTSHandler.getUTSSID();a&&(s.uts_session_id=a),s.tzoffset=-1*(new Date).getTimezoneOffset()*6e4,$.ajax({url:$Support.getAjaxURL("sendmessage",dext),type:"POST",data:s,dataType:"json",success:function(e){var t=e[0],s=t.module,n=t.objString;if("error"==s&&n.digest)u.UI.showCaptcha(n.digest);else{if("object"==t.objType&&"CHATENDED"==n.ERROR){var a=n.chid,i=ZSIQConversationManager.getChatWinObjById(a),r=n.CHATDETAILS;if(i.callquitstatus)return;return i.showChatUI(),u.handleChatEnded(r,i),void u.updateChatCookie(a)}u.setCallbackargs(null),u.UI.hideCaptcha(),g&&(g==RESEND_AUTO?Message.displaySendMessage(a,o,d):g==RESEND_MANUAL&&($("#"+p).removeClass("resend"),$("#resendicon").hide(),$EmbedManger.UI.displayInfo(LSResource.getRealValue("infomsg.msgsent.success")),setTimeout(function(){$EmbedManger.UI.hideInfo()},2e3))),$Support.LSDB.getFromSession(a+"_failedmsg")&&LSMessanger.resendMessages(g,a)}},error:function(){LSMessanger.handleResendFailed(e,o,d,p,g)}})}}},LSMessanger.handleResendFailed=function(e,t,s,n,a){$("#"+n).addClass("resend");var i=!!a;LSMessanger.storeFailedMessages(e,t,s,n,i),a==RESEND_MANUAL&&($EmbedManger.UI.displayInfo(LSResource.getRealValue("embed.msg.resendfail")),setTimeout(function(){$EmbedManger.UI.hideInfo()},2e3))},LSMessanger.storeFailedMessages=function(e,t,s,n,a){var i=$("#"+n),r=$Support.LSDB.getFromSession(e+"_failedmsg"),o={chid:e,msg:t,properties:s,uniqueid:n};r&&0<r.length?a?r.splice(0,0,o):r.push(o):(r=new Array(o),i&&i.find(".msgbx").append($EmbedManger.UI.getResendIcon())),$Support.LSDB.storeInSession(e+"_failedmsg",r)},LSMessanger.sendPredictMessage=function(e,t){if(t&&-1!==t.vid&&0!=$.trim(e).length){var s={chid:t.chid,sender:myMsgObj.sender,msg:e,sid:LSMessanger.getSid(),dname:getUnescapedText(LSMessanger.getNickName())};$.extend(s,lsnocachefix("json")),$.ajax({url:$Support.getAjaxURL("sendprdctmsg",dext),type:"POST",data:s,dataType:"json",success:function(e){}})}},LSMessanger.setSubDomain=function(e){_SUBDOMAIN=e},LSMessanger.getSubDomain=function(){return _SUBDOMAIN},LSMessanger.resendMessages=function(e,t){var s=(t=t||ZSIQConversationManager.getcurrchatwinobj().chatID)+"_failedmsg",n=$Support.LSDB.getFromSession(s);if(n&&!(n.length<1)){var a=n.shift();$Support.LSDB.storeInSession(s,n),LSMessanger.sendMessage(a.chid,a.msg,a.properties,a.uniqueid,e)}};function DynamicMsg(){this.init()}DynamicMsg.init=function(){DynamicMsg.values={},DynamicMsg.labelsmap={"company.name":"clearbit_reveal_companyname","company.location":"clearbit_reveal_location","company.website":"clearbit_reveal_domain","company.employeecount":"clearbit_reveal_employees","company.annualrevenue":"clearbit_reveal_annualrevenue","company.marketcapital":"clearbit_reveal_marketcap","company.fundraised":"clearbit_reveal_raised","company.type":"clearbit_reveal_type","company.twitterfollowers":"clearbit_reveal_followers","company.facebooklikes":"clearbit_reveal_likes","company.industrytype":"clearbit_reveal_industry","company.sector":"clearbit_reveal_sector","employment.title":"clearbit_enrichment_title","employment.name":"clearbit_enrichment_name","employment.role":"clearbit_enrichment_role","employment.location":"clearbit_enrichment_location","employment.city":"clearbit_enrichment_city","employment.country":"clearbit_enrichment_country","employment.state":"clearbit_enrichment_state","employment.bio":"clearbit_enrichment_bio","attender.name":"attendername","attender.email":"attenderemail","visitor.name":"name","visitor.id":"visit_id","visitor.email":"email","visitor.phone":"phone","visitor.department":"department","visitor.question":"question","visitor.ip":"ip","visitor.country":"country","visitor.pagetitle":"title","visitor.pageurl":"currentpage","visitor.referrer":"referrer","visitor.timezone":"localtime","visitor.operating.system":"os","visitor.browser":"browser","visitor.browser.version":"browserversion","smart.timenow":"smart_timenow","screen.resolution":"screen","web.embed.name":"embed"},$EmbedManger.isNewEmbed&&(DynamicMsg.updateValues($EmbedManger.getAddinfo()),DynamicMsg.updateValues(Browser.getInfo()))},DynamicMsg.setValues=function(e){DynamicMsg.updateValues($EmbedManger.getAddinfo()),DynamicMsg.updateValues(Browser.getInfo()),DynamicMsg.updateValues(e),DynamicMsg.updateValues($.parseJSON(e.CUSTOMERINFO),"custom."),delete DynamicMsg.values.CUSTOMERINFO},DynamicMsg.updateValues=function(e,t){if(e){var a="";for(var i in e)a=t?t+i:i,DynamicMsg.values[a.toLowerCase()]=e[i]}else if("custom."==t)for(var n in DynamicMsg.values)""==n.split("custom.")[0]&&delete DynamicMsg.values[n]},DynamicMsg.getKeyFromMap=function(e){return"custom"===e.split(".")[0]?e.toLowerCase():DynamicMsg.labelsmap[e.toLowerCase()]},DynamicMsg.getValue=function(e){if(clientkey=DynamicMsg.getKeyFromMap(e),value=DynamicMsg.values[clientkey],"undefined"==typeof value)return"";if(!clientkey)return e;if("smart_timenow"===clientkey)return DynamicMsg.getSmartTimeNow();if("name"===clientkey){var t=value.split(" ");return"Visitor"===t[0]||/^\d+$/.test(t[0])?"":CommonUtil.wordCapitalize(value)}if("department"===clientkey){if("-1"==value)return"";for(var a=$EmbedManger.getDeptlist(),i=0;i<a.length;i++){var n=a[i];if(""+n.ID===value)return n.NAME}}return value},DynamicMsg.updateClearBitValues=function(e){if(e.Reveal)for(var t in e.Reveal)DynamicMsg.updateValue("clearbit_reveal_"+t,e.Reveal[t]);if(e.Enrichment)for(var t in e.Enrichment)DynamicMsg.updateValue("clearbit_enrichment_"+t,e.Enrichment[t])},DynamicMsg.updateValue=function(e,t){DynamicMsg.values[e.toLowerCase()]=t},DynamicMsg.getSmartTimeNow=function(){var e="",t=(new Date).getHours();return 5<=t&&t<12?e="morning":12<=t&&t<17?e="afternoon":17<=t&&t<21?e="evening":(21<=t||t<5)&&(e="night"),LSResource.getRealValue("smart.timenow."+e)},DynamicMsg.getSmartTimePeriod=function(e){var t=new Date;return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+" "+LSResource.getRealValue("common.time.hours")},DynamicMsg.fillValues=function(e){if(!e)return"";var t=new Array,a="",i="",n="",r=0;for(-1===e.indexOf("&#x25;")&&-1===e.indexOf("&lt;br&#x2f;&gt;")||(e=(e=e.replace(/&#x25;/g,"%")).replace(/&lt;br&#x2f;&gt;/g," "));-1!=e.indexOf("%")&&(a="",strt=e.indexOf("%",r),last=e.indexOf("%",strt+1),-1!==strt&&-1!==last);)n=i=e.substring(strt+1,last),-1!==i.indexOf("|")&&(n=(t=(i=n).split("|"))[0],a=t[1]),val=DynamicMsg.getValue(n),val===n?(i=e.substring(strt+1,last),value="%"+i+"%"):(value=val||a,e=e.replace("%"+i+"%",CommonUtil.escapeSpecialNotation(value))),r=strt+value.length-1;return e};function $SupportConfig(e){var t=e.einfo,s=e.pinfo,i=t.embedstatus;this.setEmbedProps(CommonUtil.parseToJSON(t.props)),t.props.fieldlist&&($Support.fieldlist=CommonUtil.parseToJSON(t.props.fieldlist)),this.setPortalProps(s.pinfo),this.setReopenStatus(t.reopen_enabled),this.setAdditionalParams(e.params),this.setLicenceProps(e.linfo);var o=e.name?e.name:e.params&&e.params.name?e.params.name:void 0;this.setVisitorName(o);var n=e.email?e.email:e.params&&e.params.email?e.params.email:void 0;this.setVisitorEmail(n),this.setVisitorID(-1),this.setChatID(-1),this.setPrevCHID(-1),this.setSelectedDept(i.DEPARTMENTID),this.mappeddept=this.department,this.setLiveSupportID(t.embedid),this.setEmbedType(e.params.type),this.setDepartmentList(i.DEPTLIST),this.setformRemovalStatus(i.formremoval),this.setEmbedName(e.einfo.uniquename),this.setWaitAction(),e.annonid&&this.setvwmsID(e.annonid),this.setEmbedWaitingTime(t.waitingtime),this.setPortalName(s.screenname),this.setSchema(e.schema),this.setProductCode(e.lsprdcode),this.setEmbedStatus(i.STATUS),this.setSoundConfig(!0),this.setCompanylogo(s.clogo_fkey),this.setCompanyWebsite(s.companywebsite),this.setConfigureMsg(t.props),this.setAddinfo(e.params),this.setBusnsHrStatus(i),this.setErrorFieldInfo(),this.setIntegId(s.integid),this.setIntegProps(e.integprops),this.isBetaPortal=s.isbetaportal,this.setUserDetails(t.userdetails)}$SupportConfig.prototype={booleanprops:["icphoto","icsound","icfile","isscreenshare","issiqscreenshare","ispopout","icmail","icprint","iclogo","isconversation","isaudiocall","showsmiley"],objprops:["isname","isemail","isphoneno","feedback","reaction","color","isbotenabled","agentname","question","formtype"],setEmbedProps:function(e){this.eprops={};for(var t=0;t<this.booleanprops.length;t++){var s=this.booleanprops[t];this.eprops[s]=this.getBooleanVal(JSON.parse(e[s])[0])}for(t=0;t<this.objprops.length;t++){s=this.objprops[t];this.getBooleanValuesForObject(e,s)}this.eprops.ischannelscreenshare=e.siq_channels_screen_share_enabled},setPortalProps:function(e){this.pprops=e},setAdditionalParams:function(e){this.eparams=e},setLicenceProps:function(e){this.linfo=e},setVisitorName:function(e){var t=this.visitorname;this.visitorname=isUndefined(e)?t:"Guest"===e?LSResource.getRealValue("common.you"):e},setVisitorEmail:function(e){this.visitoremail=!e||isUndefined(e)?this.visitoremail:e},setVisitorID:function(e){this.visitorID=isUndefined(e)?this.visitorID:e},setSelectedDept:function(e){this.department=isUndefined(e)?this.department:e},setChatID:function(e){this.chatID=isUndefined(e)?this.chatID:e},setPrevCHID:function(e){this.lchid=e},setLiveSupportID:function(e){this.livelsid=e},setvwmsID:function(e){this.vwmsid=isUndefined(e)?this.vwmsid:e},setEmbedType:function(e){this.type=e||"float"},setSchema:function(e){_SCHEMA=e},setPortalName:function(e){this.portalname=e},setDepartmentList:function(e){this.deptlist=e},setformRemovalStatus:function(e){this.isformremoval=e},setReopenStatus:function(e){!isUndefined(e)&&(this.isreopenenabled=e)},setEmbedWaitingTime:function(e){this.embedwaitingtime=e},setEmbedName:function(e){this.embedname=e},setWaitAction:function(e){this.waitaction="text"},setAttender:function(e){this.attender=e},setVisitID:function(e){this.VISITID=e},setProductCode:function(e){$Support.Util.productCode=e},setAttenderZUID:function(e){this.attenderZUID=e},setAttenderUserAgent:function(e){this.attenderuseragent=e},setVisitorPhone:function(e){this.visitorphone=isUndefined(e)?this.visitorphone:e},setEmbedStatus:function(e){this.status=JSON.parse(e)},setSoundConfig:function(e){this.soundval=e},setCompanylogo:function(e){this.clogo=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/clogo/"+e+"/photo.ls",this.clogo=$Support.getParent().$ZSIQUtil.getCompanyLogo(this.clogo)},setConfigureMsg:function(e){var t=function(e){return e=getEncodedText(e),e=Smiley.replace(e)};this.waitmsg=t(JSON.parse(e.waitingmsg)[1].msg)||LSResource.getRealValue("ne.waitmsg");var s=JSON.parse(e.offlinemsg)[1];this.offlinemessage=t(s.msg)||"",this.offlinerespmsg=t(s.resmsg)||LSResource.getRealValue("ne.offlinerespmsg");var i=JSON.parse(e.busymsg)[1];this.missedmessage=t(i.msg)||LSResource.getRealValue("embed.busymsg"),this.missedrespmsg=t(i.resmsg)||LSResource.getRealValue("ne.offlinerespmsg"),this.thanksmsg=t(JSON.parse(e.thanksmsg)[1].msg)||"";var o=JSON.parse(e.engagedmsg)[1];this.engagedmessage=t(o.msg)||"",this.engagedrespmsg=t(o.resmsg)||LSResource.getRealValue("ne.offlinerespmsg");var n=JSON.parse(e.deptmsg)[1];this.deptofflinemsg=t(n.msg)||"",this.deptofflinerespmsg=t(n.resmsg)||"",this.feedbackcomplete=t(JSON.parse(e.feedback)[1].msg)||"";var a=JSON.parse(e.reaction)[1];this.feedbackcompletesad=t(a.sad)||"",this.feedbackcompleteneutral=t(a.neutral)||"",this.feedbackcompletehappy=t(a.happy)||"",this.windowsize=JSON.parse(e.size)[1].val||2,this.faqaccess=t(JSON.parse(e.faqaccess))||""},setAddinfo:function(e){var t=this.addinfo||{};this.addinfo={name:e.name||t.name,email:e.email||t.email,question:e.question||t.question,autochat:e.autochat||t.autochat,deptname:e.deptname||t.deptname,phone:e.phone||t.phone,country:e.country||t.country,embed:e.embedname||t.embedname,forcefloatingwindow:e.forcefloatingwindow||null}},setBusnsHrStatus:function(e){this.bushrstatus=e.BUSINESSHOURSTATUS},setErrorFieldInfo:function(){this.errorinfo={visname:LSResource.getRealValue("ne.errorinfo.name"),visemail:LSResource.getRealValue("ne.errorinfo.email"),visphone:LSResource.getRealValue("ne.errorinfo.phone"),msgarea:LSResource.getRealValue("ne.errorinfo.question")}},setIntegId:function(e){this.integid=e},setIntegProps:function(e){this.integprops=e},setCompanyWebsite:function(e){e&&(this.companywebsite=-1==e.indexOf("http")?"http://"+e:e)},setUserDetails:function(e){e&&(this.userdetails=e)},getBooleanVal:function(e){return 1==e?"true":"false"},getBooleanValuesForObject:function(e,t){this.eprops[t]={};var s=JSON.parse(e[t]);if(this.eprops[t][0]=this.getBooleanVal(s[0]),"isname"==t||"isemail"==t||"isphoneno"==t){var i=s[1];i.ismandatory=this.getBooleanVal(i.ismandatory),this.eprops[t][1]=i}else if("color"==t){var o=s[1];o.code||(o.code="#0066cc"),this.eprops[t][1]=o}else-1!=["isbotenabled","question","agentname","formtype"].indexOf(t)&&(this.eprops[t][1]=s[1]);"reaction"==t?$Support.israting=JSON.parse(this.eprops.reaction[0]):"feedback"==t&&($Support.isfeedback=JSON.parse(this.eprops.feedback[0]))}};var ZSIQTranscript=function(){"use strict";var z="",i="",B=function(e){try{var i=e.meta.card_data;if("contact"!=i.type)return"";var a="string"==typeof i.value?JSON.parse(i.value):i.value,t="",s=0;for(var n in a){if(2==s)break;t+='<span class="txtelips">'+a[n]+"</span>",s++}return'<div class="vcard"><span class="sqico-user"></span><span class="vcard_dtl">'+t+'</span><span class="sqico-dwnld" documentclick="downloadvcard"></span></div>'}catch(e){return""}},D=function(e){try{return e.meta.display_card?e.meta.display_card.type:e.meta.input_card.type}catch(e){return""}},V=function(e){try{var i=["suggestions","relatedphrases"],a=e.meta[$Widget.display_card]||{},t=a.type;if(t||(e.meta.related_phrases?t="relatedphrases":a.actions&&(t="textwithaction")),-1!=["links","articles","video","multiple-product","single-product","textwithaction"].indexOf(t)||-1!=i.indexOf(t)){e.time=e.widgettime;var s=$Widget.getWidgetHTML(e);-1!=i.indexOf(t)?e.suggestionhtml=s:e.msg=s,e.is_ignoreformat=!0,e.bot_image="",e.widget_class={links:"",articles:"artcle-vw"}[t]||""}}catch(e){}return e},H=function(e){var i=$Support.EmbedObj,a=i?i.eprops:"";if(i&&!JSON.parse(a.showsmiley))return"";var t=document.createElement("DIV");return t.innerHTML=Smiley.replace(e),(t.textContent||t.innerText).trim()?"":" smily_msg"},A=function(e){return e=Message.format(e),Smiley.replace(e)},N=function(e){return(e.meta&&e.meta.msgid?e.meta.msgid:e.msgid)||""},n=function(e){if(e&&(e.typing_delay||0==e.typing_delay))return 1e3*parseInt(e.typing_delay)},W=function(e,i){var a=e.file,t=e.convvisitorid,s=e.convchid,n=-1!=e.msg.content.indexOf("image"),r=(e.time,$Support.EmbedObj),d=a.fName||a.name;d=getEscapedText(d);var l=$Support.getAjaxURL("download",".ls");l+="?fsize="+a.size+"&url="+escape(a.url)+"&fName="+encodeURIComponent(d),l+=t?"&visitorid="+t+"&chid="+s+"&isconversation=true":r?"&chid="+i+"&wmsid="+r.vwmsid:"&chid="+a.chatid;var m=a.purl||l,c=a.msgid?'msgid="'+a.msgid+'"':"",o=getMemSize(a.size),g=(a.progress,a.progress?" fprgs":""),p=$.trim(a.comment)?"<code>"+getEscapedText(a.comment)+"</code>":"",v=n?'documentclick="imagepreview"':"";return['<span class="fileattch siq-file-attach'+g+(p?" imgcmt":"")+'" '+c+' data-ftype="'+getEncodedText(e.msg.content)+'" data-filesize="'+o+'" data-bubble="true" '+v+">",n?'<img src="'+m+'" height="75" width="75" class="siq-attach-image" onload="$Support.handleUploadImageLoad( this )" style="display: none;">':'<span class="filedet" documentclick="imagepreview"><em class="txtelips">'+d+'</em><em class="size" size="'+o+'">( '+o+" )</em></span>",u(a,m),"</span>"+Smiley.replace(p)].join("")},u=function(e,i){return'<div class="file_alin"><div class="file_pmain"><div class="file_prgs" msgid="'+(e.msgid||"")+'"><div class="pie"></div><div class="pie fill"></div></div></div>'+(i='<a target="_blank" class="fdload" href="'+i+'"><span class="sqico-dwnld siq-file-progress"></span></a>')+"</div>"},J=function(e){return!(!e||-1==e.indexOf("$"))},F=function(e){return!!$Support.EmbedObj&&(!(e=e||$Support.EmbedObj.visitorname)||e&&(0===e.lastIndexOf("Visitor ",0)||0===e.lastIndexOf("Guest",0)))},l=function(e,i){var a=P(i),t=N(e);if(!t||!p(t,i)){var s,n=e.html,r=e.ispopulate,d=e.sender,l=$Support.Util.isMessageDIVScrolled(a.chatmaindiv);if(_()&&b())if(Q(d))y(!0);else{y(!d);var m=$("<div/>").html(n).contents();if(m&&0<m.length)n=m.find(".msgbx").prop("outerHTML"),s=!0}var c=a.chatdiv.find('span[msgid="'+t+'"]');if(c.length)c.find(".filedet").replaceWith($(n).find(".filedet")),c.find(".fdload").replaceWith($(n).find(".fdload"));else{var o=a.chatdiv.find(".zsiq_transferdiv");0<o.length?(s||$(n).insertBefore(o),o.is(":visible")||o.show()):s||a.chatdiv.append(n),s&&$("#msgmaindiv .agntmsg").last().append(n)}h(),g(e,a),l||r||v("",a.chatmaindiv),r||$Support.Util.handleUnReadChatUI(e,a.chatmaindiv),f(a.chatdiv.find(".ziq_msg").last(),e.callback)}},g=function(e,i){var a=-1!=i.chatID?i.chatID:i.winid,t=P(a)||{},s=e.handoff_config;t.isBotChat&&!t.hidetransfer&&s&&(i.contentdiv.find("#agenttransfer").remove(),$UI.appendTransferDiv(t,s.text,s.ack))},p=function(e,i){var a=P(i).chatdiv;return!a||!!a.find('[data-msgid="'+e+'"]').length},v=function(e,i){e=e||0;var a=i||P().chatmaindiv||$("#msgmaindiv");a=a&&a[0];$("#msgdiv > .ziq_msg").last();a&&!$("#unreadarrow").length&&$(a).animate({scrollTop:a.scrollHeight-a.offsetHeight},e)},f=function(e,i,a){if(e){var t=i?{right:"auro",left:"-20px",opacity:"0"}:{right:"0",left:"0",opacity:"1"};e.animate(t,300,function(){a&&a(e)})}},h=function(){var s=$Support.container.find(".ziq_msg");s.each(function(e){var i=$(this);i.removeClass("single_msg lst_msg"),r(i);var a=$(s[e-1]),t=$(s[e+1]);!t.length&&!a.length||!t.length&&i.hasClass("agntmsg")&&a.hasClass("vismsg")||!t.length&&i.hasClass("vismsg")&&a.hasClass("agntmsg")||i.hasClass("agntmsg")&&t.hasClass("vismsg")&&a.hasClass("vismsg")||i.hasClass("vismsg")&&t.hasClass("agntmsg")&&(a.hasClass("agntmsg")||!a.length)?i.addClass("single_msg"):(!t.length||i.hasClass("agntmsg")&&t.hasClass("vismsg")||i.hasClass("vismsg")&&t.hasClass("agntmsg"))&&i.addClass("lst_msg")})},r=function(e){var i=e.find(".hr").length;!i||i<=e.find("br").length||e.addClass("hr_line")},_=function(){return 0<$("#siq_bottype").length},b=function(){return $("#siq_bottype").parent().attr("frstmsg")},Q=function(e){return e==myMsgObj.sender},y=function(e){var i=$("#siq_bottype"),a=i.parent().prev().hasClass("agntmsg");if(i.length){if(e||a)return void i.parent().remove();i.remove()}},m=function(){return'<div class="type-loadr textC"><span></span><span></span><span></span></div>'},Z=function(e,i){var a=e?"vismsg":"agntmsg";return!(i=i||$("#msgdiv")).find(".ziq_msg").last().hasClass(a)},G=function(e){return e.isvisitor?i:i=!(!e.meta||!e.meta.hand_off)||!!e.hand_off},P=function(e){try{return e?ZSIQConversationManager.getChatWinObjById(e):ZSIQConversationManager.getcurrchatwinobj()}catch(e){return{chatdiv:$("#msgdiv"),contentdiv:$("body").find(".siq_content"),attendername:$Support.EmbedObj&&$Support.EmbedObj.attendername?$Support.EmbedObj.attendername:Bot?Bot.getBotOBJ().name:"",presender:Message.presender,presendername:z,waitTimer:$Support.waitTimer,chatmaindiv:$("#msgmaindiv"),composer:$("#msgarea"),checkAndFocusMessageArea:function(){$("#msgarea").focus()}}}};return{getTranscript:function(e,i,a){var t=e.isbotmessage,s=P(a)||{};e=i&&t?V(e):e;var n=$Support.EmbedObj,r=(n&&n.eprops,e.convvisitorid),d=Q(e.sender)||r&&("null"==e.sender||J(e.sender))||e.isvisitor,l=n&&d&&!r?n.visitorname||e.name:e.dname,m=(t=e.isbotmessage,e.meta&&e.meta.input_card&&e.meta.input_card.isuseredit),c=s.presendername&&s.presendername==l;m?c=!0:(s.presendername=l,z=l);var o="agntmsg siq-agntmsg",g="siq-user-name",p="siq-user-message",v="";(d||e.isques)&&(o="vismsg siq-visitmsg",g="siq-visitor-name",p="siq-visitor-message"),l=getEscapedText(l);var u=e.msg;if(e.mtype==CT_ATT_MSG&&(e.file=u),!e.file&&"object"==typeof u)return"";e.iscannedarticle&&(o+=" msg-card");var f="",h='purpose="name"';!F(l)&&l||t||(l=LSResource.getRealValue("common.you")),n&&-1<o.indexOf("vismsg")&&$Support.Util.CheckAllDefaultFieldsDisabled()&&!r&&(-1==s.chatID||s.waitTimer||ZSIQConversationForm.checkContextInitiated()||(f='<em class="sqico-edit" title="'+LSResource.getRealValue("ne.title.edit")+'"></em>',v='documentclick="userdetails"'));var _=m?"":e.time||"",b=e.uniqueid?e.uniqueid:e.msgid?e.msgid:"";b=e.file&&e.file.msgid?e.file.msgid:b;var y=H(u),w="",$="";e.file&&(w=" file_msg",$='isimage="'+(-1!=e.msg.content.indexOf("image"))+'"');var S=e.ratinghtml?e.ratinghtml:"",C=e.meta&&e.meta.card_data&&e.meta.card_data.value?e.meta.card_data.value.image:null,q=C?e.meta.card_data.value:null,x="";q&&q.lat&&(x=" lat="+q.lat+" lng="+q.lng+' documentclick="openmapfromimage" ');var E=e.bot_image||C,T=E?'<div class="cmpnt-sldimg mB10" documentclick="imagepreview"><img src="'+E+'" '+x+' onload="$Support.handleUploadImageLoad( this )" style="display: none;"> </div>':"",O=E?"msg-botimg":"",M=e.widget_class?" "+e.widget_class:"";o=i?o+" rm_anim":o,(c||d&&!r&&!Z(d,s.chatdiv))&&(o+=" mrgT2",l=f=h=""),o+=e.iswidget?" siq_widget":"";var I=D(e),k=I?"":' title="'+_+'"';I=I?'data-wtype="'+I+'"':"";var R=e.widget_cname?" widget_cname = "+e.widget_cname:"",j=e.suggestionhtml||"",L='data-msgid="'+N(e)+'"';d||(u=Markdown.apply(u)),u=e.is_ignoreformat?u:A(u);var U=B(e);return o+=U?" buble_bg":"",u=U||'<span class="'+p+'">'+u+"</span>",e.isvisitor=d,["<div "+(b?'id="'+b+'"':"")+'" '+$+' class="ziq_msg '+o+y+w+'" data-field="message" '+L+' hand-off="'+G(e)+'" '+I+R+">","<div "+h+' class="'+g+'" '+v+">"+l+f+"</div>",'<div class="msgbx '+O+M+'"'+k+">"+T,e.file?W(e,a):u+S,"</div>"+j,"</div>"].join("")},updateTranscript:l,removeTyping:y,showTyping:function(e){var i=e.chid||e.enc_chid,a=P(i)||{};if(!$.isEmptyObject(a)&&a.chatdiv.length&&0==a.contentdiv.find("#siq_bottype").length){var t=e.isuseredit,s=$Support.EmbedObj?e.dname||a.attendername:Bot.getBotOBJ().name,n=!Z("",a.chatdiv)||a.presender==e.sender&&!Q(a.presender)?"":s,r='<div frstmsg="true" class="ziq_msg agntmsg siq-agntmsg mrgT2 siq_widget" id="bottype_msg" data-msg-usrname-id="'+(e.msglist&&e.msglist[0]?e.msglist[0].msgid:"")+'"><div purpose="name" class="siq-user-name dib-mid mB5">'+(n?getEncodedText(n):" ")+'</div><div class="msgbx" id="siq_bottype">'+m()+"</div></div>",d=(e.meta||{}).handoff_config||{};l({html:r,sender:e.sender||" ",istyping:!0,handoff_config:d},i),t||(a.presendername=s,z=s)}},getCustomArticleCard:function(d){if(!d)return"";var e=d.owner_imgkey?'<img src="'+_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+d.owner_imgkey+'/photo.ls?nocache=1">':"";return'<div class="posrel"><div class="cmpnt-wrap">'+(d.image?'<div class="cmpnt-sldimg" documentclick="imagepreview"><img src="'+d.image+'" onload="$Support.handleUploadImageLoad( this )" style="display: none;"></div>':"")+'<div class="cmpnt-body-cont cmpnt-artl-cont"><div class="cmpnt-hdln">'+(d.title?getEncodedText(d.title):"")+'</div><div class="cmpnt-desc lH20">'+getEncodedText(d.description||"")+"</div>"+(d.owner_name?'<div class="mT15"><div class="dib-mid cmpnt-atrlimg">'+e+'</div><div class="dib-mid cmpnt-artl-desc">'+LSResource.getRealValue("article.by")+" <em>"+getEncodedText(d.owner_name)+"</em></div></div>":"")+(d.articles&&d.articles.length?function(e,i){var a="";for(var t in e){var s=Object.keys(e[t])[0],n=e[t][s]||"";a+='<nav class="cmpnt-art-list"><em class="sqico-faqarticle dib-mid"></em><div class="dib-mid"><span class="lH20" article-id="'+s+'" iscard="true" title="'+(n=getEncodedText(n.replace(/<br\s*\/?>/gi," ")))+'">'+n+"</span></div></nav>"}var r=i?"":'<div class="cmpnt-arthd sbold">'+LSResource.getRealValue("faq.relatedarticles")+" :</div>";return'<div class="mT10" id="rel-articles-'+d.id+'">'+r+a+"</div>"}(d.articles,d.hide_label):"")+"</div></div></div>"},getVideoCard:function(e){return e?'<div class="video-frame-container"><div class="video-frame"><div class="video-box"><iframe frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" class="video-iframe" auto="" src="'+e.url+'"></iframe></div></div></div>':""},reSetPreviousSender:function(e){e.presendername=""},scroll:v,setMessageClass:h,isMessageExist:p,getMessageID:N,getFormatedHTML:A,getImageURL:function(e){if(!e.sender||"-1"==e.sender)return"";var i=e.sender.split("_");return i=i[2]||i[0],_SCHEMA+"://"+_EMBEDSERVERURL+"/"+CommonUtil.getScreenName()+"/userimg/"+i.replace("b","")+"/photo.ls?nocache=1"},getMessageDelay:function(e){var i=n(e.meta);if(null==i){var a=e.msglist;if(a&&0<a.length){var t=a[0];i=n(t.meta)}}var s=(i=null!=i?i:2e3)-((new Date).getTime()-Message.getLastMessagePostTime());return 0<s?s:0},isLocalUser:Q,isInValidVisitorName:F,getChatWindowOBJ:P}}();$Support={LSDB:parent.$ZSIQLSDB?parent.$ZSIQLSDB:opener?opener.$ZSIQLSDB:void 0,convlistindex:0,convlistlimit:{1:5,2:6,3:7},isallconvlistfetched:!1,getParent:function(){return window.parent.$ZSIQWidget?window.parent:window.opener&&opener.$ZSIQWidget?window.opener:void 0},DEPT_ONLINESTATUES:"1",DEPT_OFFLINESTATUES:"2",DEPT_ENGAGESTATUES:"3",chidmappinglist:{},joinedchatkeys:[],init:function(e){try{$Support.EmbedObj=new $SupportConfig(e),this.setTheme(e),this.isscript="script"===e.params.src,$Support.Util.updateParentFontFamily(),this.Util.setBrowserValues(),DynamicMsg.init();try{Self.status.init()}catch(e){}if(this.cachearr={},ZSIQConversationForm&&this.EmbedObj.isformremoval&&(ZSIQConversationForm.isOldFormView()||$Support.Util.isPreview()))return void ZSIQConversationForm.fetchAllFields();this.handleChatWindowUI()}catch(e){}},handleChatWindowUI:function(){this.checkAndShowUI(),$Support.setLoadContentClass(),$Support.Util.isPreview()&&($Support.enableHeaderImage(),$CWPreview.init(),parent.parent&&parent.parent.onloadChatWindow&&parent.parent.onloadChatWindow()),window.parent.$ZSIQChatWindow.handleESCEvent(window),window.parent.$UTSHandler.getUTSCachedata()},setTheme:function(e){this.theme="theme"+e.theme},isFloat:function(){return"float"===$Support.type},checkAndShowUI:function(e,t){$Support.appendMetaTag();var i=$Support.EmbedObj;$UI.setContainer();var o=$Support.getParent().$ZSIQUtil.getAPIValues();(o.floatwindowfields||o.customfield)&&$Support.handleFieldVisibility(o.floatwindowfields,o.customfield),!$Support.Util.isPreview()&&$Support.initiateConversationDB(t);var n=this.getCookieValue("ZLD"+i.livelsid);if(this.getWaitingCookie(),this.getTriggerCookie(),window.parent.$ZSIQWidget.getWidgetObject().isshowcallbubble)return $Support.container.append($Support.contentdiv=CallUIHandler.getInitialHtml()),void handleDrag();if($Support.Util.updateViewAttribute("msgarea"),$Support.Util.isPreview())return i.status?$UI.init():$Support.showOfflineUI(),this.Util.setTextareaHeight(),void $Support.handleApiData(o);if(clearTimeout($Support.Util.jsdownloadtimer),n&&n.cid&&"-1"!=n.cid&&$Support.getParent().$ZSIQWidgetUI.getWidgetState()==$Support.getParent().$ZSIQWidgetUI.F_WINDOW?$Support.Util.downloadAdditionalFiles():$Support.Util.jsdownloadtimer=setTimeout($Support.Util.downloadAdditionalFiles,1e4),!$Support.isConversationAllowed()){var a=$Support.getParent().$ZSIQUtil.getAvuid();this.LSDB.removeSessionStore(a+"_conversation")}-1!=e&&$Support.handleApiData(o),this.Util.bindUtilEvents(),$Support.Util.calculateContentHeight()},showOfflineUI:function(){$Support.Util.isPreview()&&($Support.contentdiv="",ZSIQConversationManager.resetConvDb()),$UI.updateOfflineUI(),$Support.isFloat()||this.Util.showOfflineBanner()},initiateConversationDB:function(e){var t="",i=$Support.EmbedObj,o=$Support.LSDB.getFromSession("ZLD"+$Support.EmbedObj.livelsid+"lastview"),n=$Support.getCookieValue("ZLD"+i.livelsid)||{};!$.isEmptyObject(n)&&$Support.updateCommonKeys(n);var a=n.ongoingchats||{};t=a[o]||{},!e&&$Support.processChatCookie(a,"connected",o),!$.isEmptyObject(t)&&(t.status="connected");var r=$Support.getWaitingCookie()||{};!$.isEmptyObject(r)&&$Support.updateCommonKeys(r);var s=r.ongoingchats||{};!e&&$Support.processChatCookie(s,"waiting",o),s[o]&&((t=s[o]).status="waiting");var p=$Support.getTriggerCookie();if(p){var d=p.isbottrigger;e||d?$Support.Util.handleBotTriggers(p.message,!0,o):$Support.Util.handleChatTrigger(p,!0,o),$Support.handleCallbackForchatContinue(ZSIQConversationManager.getChatWinObjById(p.winid),"Chat triggered")}$Support.chidmappinglist[t.rcid]=t.cid||t.chid,$.isEmptyObject(t)?$Support.isConversationAllowed()&&$Support.container.find("#showsiqconv").click():ZSIQConversationManager.init(t,t.status,o),delete ZSIQConversationManager.chidbeforereload,($.isEmptyObject(a)&&$.isEmptyObject(s)&&$.isEmptyObject(p)||e)&&(ZSIQConversationManager.populateInitialScreen(),ZSIQConversationForm.checkAndGetFormTranscript())},processChatCookie:function(e,t,i){for(var o in e)if(e.hasOwnProperty(o)&&o!==i){var n=e[o];$Support.chidmappinglist[n.rcid]=n.cid||n.chid,ZSIQConversationManager.init(n,t,i)}},handleFieldVisibility:function(e,t){var i=$Support.EmbedObj,n=[];if(i.status&&e&&e.online?n=e.online.split(","):!i.status&&e&&e.offline&&(n=e.offline.split(",")),t&&0!=t.length)try{$.each(t,function(e,t){t.index=e;var i=t.name;if(n.length,/^_default./.test(i)){var o=i.replace("_default.","");0<=["name","email","phone"].indexOf(o)&&-1==n.indexOf(o)&&n.push(o)}})}catch(e){}if(n.length){i.eprops.isname[0]=!1,i.eprops.isemail[0]=!1,i.eprops.isphoneno[0]=!1;for(var o=0;o<n.length;o++){"contactnumber"!=n[o]&&"phone"!=n[o]||(n[o]="phoneno");var a="is"+n[o];i.eprops[a]&&(i.eprops[a][0]=!0)}}},setAttenderCookie:function(e,t){var i=$Support.EmbedObj,o=$Support.getCookieValue("ZLD"+i.livelsid)||{};((o.ongoingchats||{})[t]||{}).attender=e.attender,this.LSDB.setCookie("ZLD"+i.livelsid,o,31e4)},startChat:function(){ZSIQConversationManager.init({winid:(new Date).getTime()},"startchat")},getFormContainer:function(){return $("#siqform").length?$("#siqform"):$Support.container},updateInputValues:function(e){var o=e||{};$Support.getFormContainer().find("[purpose]").each(function(){var e=$(this),t=e.attr("purpose"),i=e.val()||e.attr("val");if(isUndefined(i)||""==i)return!0;"question"==t||"department"==t?o[t]=i:$Support.EmbedObj[t]=i}),$Support.updateVisitorName()},updateVisitorName:function(){var t=$Support.EmbedObj;if(!t.visitorname){var e=t.visitoremail;if(e)t.setVisitorName(e.split("@")[0]);else try{var i=$Support.getParent().$UTSHandler.getUTSName();i.name==i.token&&i.name.match(/^[0-9]/)?t.setVisitorName("Visitor "+i.name):i.name!=i.token&&i.name?t.setVisitorName(i.name):t.setVisitorName("Visitor "+Math.round(1e5*Math.random()))}catch(e){t.setVisitorName("Visitor "+Math.round(1e5*Math.random()))}}},storeInCookie:function(e,t,i){var o=parent.$ZSIQCookie?parent.$ZSIQCookie:opener?opener.$ZSIQCookie:void 0;e=_SCREENNAME+"-"+e,o.set(e,t,i)},populateChatKeysFromJSAPI:function(e){var t={referer:"referrer",cpage:"currentpage"},i=$Support.getParent()&&$Support.getParent().$zv;if(i)for(var o in e=e||{},t)i[o]&&(e[t[o]]=i[o])},addVisitor:function(){var d=this,c=d.EmbedObj,e=$Support.getParent(),t=e.$ZSIQUtil.getAPIValues(),i=ZSIQConversationManager.getChatWinObjById(c.curraddvistid);parent.$zohosq._directcall&&(i.question=LSResource.getRealValue("av.info.callquesmsg",c.visitorname),c.isaudiocall=!0);var o=lsnocachefix("json");$Support.populateChatKeysFromJSAPI(o),void 0===i.question&&(i.question=$.trim(i.composer.val())),i.getComposer().val(""),$.extend(o,Browser.getInfo(),{referrer:processInput("trimlength",o.referrer,3e3),currentpage:processInput("trimlength",o.currentpage,950),name:c.visitorname,lsid:c.livelsid,email:processInput("emailid",c.visitoremail),ques:i.question,deptid:i.department,annonid:c.vwmsid,platform:navigator.platform,embeduniquename:c.embedname,autotrigger:i.istrigmsg}),$.extend(o,$Support.getCaptcha),c.uvid&&(o.uvid=c.uvid),i.istrigmsg&&$Support.Util.handleCallbacks("visitor.triggerresponded",{});var n=i.attender||c.lastattender,a=this.LSDB.get("ZLDPERSONALIZE");null!=n&&""!=n?(o.attender=n,i.isbottrigmsg&&(i.isBotChat=!0)):$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&a&&(o.attender=a),c.visitorphone&&(o.phone=c.visitorphone);var r=i.attenderemail||c.lastattenderemail;!r&&t.agent&&(r=c.attenderemail),r&&(o.attenderemail=r);var s=e.$ZSIQUtil.getAvuid();s&&(o.avuid=s);var p=e.$ZSIQUtil.getAPIVisitorID();p&&(o.cvuid=p);var u=e.$ZSIQUtil.getZldp(c.embedname);u&&(o._zldp=u);var l=c.cinfo;if($Support.getParent().$ZSIQChat.getWidgetData().embedobj.ismailchimpenabled&&!$Support.getParent().$ZSIQChat.istrackedfrommailchimp){if(o.mc_cid=$Support.getParent().$ZSIQUtil.getURLParameterByName("mc_cid"),o.mc_eid=$Support.getParent().$ZSIQUtil.getURLParameterByName("mc_eid"),null!=o.mc_cid&&""!=o.mc_cid&&null!=o.mc_eid&&""!=o.mc_eid)$Support.storeInCookie("mc_cid",o.mc_cid,864e5),$Support.storeInCookie("mc_eid",o.mc_eid,864e5);else if(m=$Support.getCookieValue("mailchimp")){var g=m;"string"==typeof m&&(m=JSON.parse(g)),g.name&&(o.name=g.name),g.email&&(o.email=g.email)}else o.mc_cid=$Support.getCookieValue("mc_cid"),o.mc_eid=$Support.getCookieValue("mc_eid");null!=o.mc_cid&&""!=o.mc_cid&&null!=o.mc_eid&&""!=o.mc_eid||(o.mc_cid=void 0,o.mc_eid=void 0)}else{var m;(m=$Support.getCookieValue("mailchimp"))&&("string"==typeof(g=m)&&(m=JSON.parse(g)),g.name&&(o.name=g.name),g.email&&(o.email=g.email))}var v=c.exid;v&&(o.exid=v),l&&("object"==typeof l&&(l=JSON.stringify(l)),o.cinfo=l),$Support.Util.isCampaignEnabled()&&$Support.subscribe&&(o.subscribe="true");var h=$Support.getParent().$ZSIQUtil.getAPIValues();(h.mtrigger||h.triggermsg)&&i.pmsg&&(o.prevtrigg=i.pmsg),o.includebots=!0,h.waitime&&(o.custom_waitime=h.waitime);var S=$Support.getParent().$UTSHandler.getUTSSID();S&&(o.uts_session_id=S),ZSIQConversationForm.checkContextInitiated()&&ZSIQConversationForm.getFormType()==CLASSIC_VIEW&&(o.form_response=ZSIQConversationForm.getFormatedResponse()),parent.$zohosq._directcall&&(o.isaudiocall=!0,o.conversationtype=0),o.questionasmessage=!0,Message.updateLastMessagePostTime(),o.tzoffset=-1*(new Date).getTimezoneOffset()*6e4,this.handleAjax("addvist",o,function(e){var t=e.objString,i=ZSIQConversationManager.getChatWinObjById(c.curraddvistid||t.CHID);if("EMBED_NOT_ALLOWED"==t.exception)return $Support.getParent().$ZSIQUtil.preserveBlockIP(),void $Support.removeWidget();if(ZSIQConversationForm.clearSessionStorage(),t.CLEARBITINFO&&(DynamicMsg.updateClearBitValues(JSON.parse(t.CLEARBITINFO)),delete t.CLEARBITINFO),DynamicMsg.setValues(t),$Support.EmbedObj.feedbackcomplete=DynamicMsg.fillValues($Support.EmbedObj.feedbackcomplete),"object"!==e.objType||"EMBEDOFFLINE"!==t.ERROR){var o=t.ATTENDER;if(o&&i.attender!=o&&(i.attendername=i.attenderemail),$Support.chidmappinglist[t.RCHID]=t.CHID,i.attender=o,i.VISITID=t.VISIT_ID,i.RCHID=t.RCHID,i.chatID=t.CHID,i.visitorID=t.CU_ID,i.isBotChat=""+t.ISBOTCHAT=="true",c.curraddvistid&&i.updateChatInfoinInstanceDom(),delete $Support.EmbedObj.curraddvistid,c.isaudiocall||$UI.hideCaptcha(),d.deleteTriggerCookie(),d.handleTrigAddVist(t,i),i.istriggeredchat||"connected"===i.chatstatus)d.setCookie(i);else{var n=(new Date).getTime()-parseInt(t.DIFFTIME)-i.intime;i.latency=n/(i.remwaitingtime+n)*i.stepinterval,d.setWaitingCookie(i),LSDebugger.postDebugInfo("Waiting time latency - splitted the addvist delay into equal intervals chid: "+i.chatID+"; Latency:"+i.latency+"; currentwaittime:"+i.waitingtime,null,"",!0)}delete i.rating;var a={name:c.visitorname,email:c.visitoremail,question:i.question,visitid:i.VISITID};if(a.phone=i.visitorphone?i.visitorphone:"",a.customfields=c.cinfo?c.cinfo:"",i.istriggeredchat?d.Util.handleCallbacks("visitor.triggeredchat",a):d.Util.handleCallbacks("visitor.chat",a),c.isaudiocall||$Support.handleOnGoingchatActionsInConversation("newchat",i),t.media){var r=JSON.parse(t.media);for(var s in r){var p=r[s];SiqAVRouter.container.audioImpl.onDirectCallStarted(p),$Support.audioid=p.id}}!i.wait_div||i.wait_div.length||JSON.parse(t.ISBOTCHAT)||i.istriggeredchat||(i.handleWaitingDisplay(),$UI.populateVisitorQuestion()),delete c.isaudiocall}else d.handleAddVisitStatusChange(t,i.winid)},function(e){e=e||{},LSDebugger.postDebugInfo("Visitor Side add visitor failed - error status: "+e.status+" ; date: "+new Date+"; vwmsid:"+c.vwmsid,null,"",!0),d.addVisitErrorHandling(e),delete c.isaudiocall,ZSIQConversationForm.clearSessionStorage()},"",!0)},addVisitErrorHandling:function(e){if(/module/.test(e.responseText))try{var t=JSON.parse(e.responseText)[0].objString.digest;return void(t?setTimeout(function(){$UI.showCaptcha(t)},300):$UI.updateOfflineUI())}catch(e){}},updateAddVistObj:function(e){var t=this.EmbedObj,i=e.NAME;t.setVisitorName(i),t.setVisitorEmail(e.EMAIL),t.setVisitorID(e.CU_ID),LSMessanger.setNickName(i)},handleTrigAddVist:function(e,t){var i=e.ADDINFO;i&&(i=JSON.parse(i),t.istrigmsg&&i[ADDINFO_TRIGGER]&&(t.istriggeredchat=!0,delete t.istrigmsg,t.chatID=e.CHID,$Support.pushToJoinChat(t.chatID)),t.isBotChat&&($UI.appendTransferDiv(t),delete t.istriggeredchat))},isOfflineChat:function(e){var t=ZSIQConversationManager.getChatWinObjById(e);return-1==t.chatID&&-1!=t.visitorID&&t.isofflinechat},handlePickUp:function(e){var t=this.EmbedObj,i=$Support.isOfflineChat(e.visitorid);if(t.curraddvistid||i){var o=t.curraddvistid||e.visitorid,n=ZSIQConversationManager.getChatWinObjById(o);$Support.removeWtimeCookie(t.curraddvistid),n.chatID=e.chid,n.attender=e.attender,n.attendername=e.attendername,n.attenderzuid=e.attenderzuid,n.attenderimagefkey=e.image_fkey,n.isBotChat=1==e.isbotpickup,n.RCHID=e.rchid,n.visitorID=e.visitorid,$Support.chidmappinglist[e.rchid]=e.chid,n.updateChatInfoinInstanceDom(),delete t.curraddvistid}(n=ZSIQConversationManager.getChatWinObjById(e.chid)).isBotChat=""+e.isbotpickup=="true",""+e.isbotpickup=="true"&&(e.isBotChat=!0),n.botchatprops={status:"connected"},n.chatstatus="connected",n.attender=e.attender,delete n.reopenwaiting,n.isBotChat&&n.contentdiv.stop(!1,!1,!0),this.removeWaitingCookie(n.chatID),$Support.removeWtimeCookie(n.chatID),this.removeBroadCast(),n.composer&&n.composer.removeAttr("disabled"),$UI.removeCWaitHandler(),clearTimeout(n.waitTimer),n.handlePaste(),delete n.istriggeredchat,delete n.proactive,delete n.waitingtime,delete n.waitTimer,n.chatID=e.chid,n.visitorID=e.visitorid,n.attenderZUID=e.attenderzuid,n.attenderuseragent=e.attender_useragent,t.chatintime=$Support.intime;var a=CallImpl.isCallWithChat;!a&&n.hideBanner(),n.attenderimagefkey=e.image_fkey,!a&&$UI.setInnerHeader(e);try{SiqAVRouter.container.detailsHandler.triggerIconCheck(n.RCHID)}catch(e){}n.attendername=getUnescapedText(e.attendername),n.attenderemail=e.attenderemail,n.attenderaboutme=e.aboutme,DynamicMsg.updateValue("attendername",t.attendername),DynamicMsg.updateValue("attenderemail",t.attenderemail),LSMessanger.joinchat(e.chid,t.vwmsid,"","",n.visitorID),this.setCookie(n),!a&&$UI.populateUserAction(n),!a&&n.populateIcon();var r=parseInt(e.pickuptime)-parseInt(n.intime),s={attendername:n.attendername,attenderemail:n.attenderemail,visitid:n.VISITID,waitingduration:r};$Support.Util.handleCallbacks("visitor.attend",s),$Support.handleOnGoingchatActionsInConversation("pickupchat",n),$EmbedManger.setQuitStatus(!1)},sendMessage:function(e,t){var i=t.attr("txtarea-id"),o=ZSIQConversationManager.getChatWinObjById(i);if(!o.isbottrigmsg||!$Support.checkAndShowMandatoryFields(t,o)){o.isBotChat&&($Support.clearBotQuestionTimeout(),$Support.updateSIQFields({value:e})),this.EmbedObj;var n=o.chatID;if(-1!==o.visitorID)return t.val(""),o.checkAndFocusMessageArea(),Message.send(n,e),!1;-1===n||ZSIQConversationForm.checkContextInitiated()?o.isbottrigmsg&&this.handleBotTriggerReply(e,t):this.joinProactiveChat(e,o)}},handleBotTriggerReply:function(e,t,i){if($Support.EmbedObj,i=i,t){t.val(""),this.enableTextarea(t);var o=t.closest("section [data-id]").attr("data-id");i=ZSIQConversationManager.getChatWinObjById(o)}i&&(i.istriggeredchat=!0,i.question=e,$Support.updateVisitorName(),$Support.Util.removeSendClickAction(),i.getComposer().attr("dockeyup","sendmessage"),i.initiateChat())},handleSendMessage:function(e,t,i){try{var o=e&&e.attr("txtarea-id"),n=ZSIQConversationManager.getChatWinObjById(o);n.endtimer&&this.clearEndTimer(n),16!=t&&Self.status.active(i)}catch(i){}if(this.Util.handlePredictMsg(e),13==t&&i.shiftKey)return this.Util.calculateTextareaHeight(n),!0;if(this.toggleSendButton(e),13==t){if(!Smiley.handleInSertSmiley(null,i.target))return this.Util.calculateTextareaHeight(n),!1;this.triggerSendMessage(e),i.preventDefault()}var a=$Support.EmbedObj.eprops;JSON.parse(a.showsmiley)&&Smiley.checkAndTriggerSmiley(i,t),this.Util.calculateTextareaHeight(n)},toggleSendButton:function(e,t){var i=(e=e||$Support.getComposer()).attr("txtarea-id")||e.closest("section [fdbkarea-id]").attr("fdbkarea-id");if(i||e){var o=ZSIQConversationManager.getChatWinObjById(i);if(!t){var n=$.isEmptyObject(o)?$Support.contentdiv:o.contentdiv;if(!n)return;!(t=n.find('[proptype="sqico-send"]')).length&&(t=$Support.container.find("footer").find('[proptype="sqico-send"]'))}""===$.trim(e.val())?$Support.Util.removeSendClickAction():(t.attr("documentclick",e.attr("dockeyup")),!$Support.isNewHeader()&&t.attr("chatid",i),$Support.isNewHeader()&&$Temp.handleStartChatBTN(o),n&&n.find('[proptype="action_icons"]').addClass("show_send"))}},triggerSendMessage:function(e){var t=this.Util,i="undefined"!=e.attr("chatid")?e.attr("chatid"):"";i=i||e&&e.closest("section [data-id]").attr("data-id");var o=ZSIQConversationManager.getChatWinObjById(i);clearTimeout(t.prdcttimer),e=o&&o.getComposer();var n=$.trim(e.val());if(""!=n)if(Licence.verify("creditmask")&&Message.checkMaskOccurance(n,!0)){$UI.appendConsentDiv(!1,o),$Support.disableTextarea();var a=document.getElementById("msgmaindiv");Message.scroll(a)}else this.getUserConsent(0,o.winid)},getUserConsent:function(e,t){var i=ZSIQConversationManager.getChatWinObjById(t),o=1==e,n=this.Util;clearTimeout(n.prdcttimer);var a=i.composer||$Support.getComposer(),r=$.trim(a.val());o&&(r=Message.checkMaskOccurance(r,!1)),i.endtimer&&$Support.clearEndTimer(i),this.sendMessage(r,a),$Support.Util.removeSendClickAction(),$UI.removeConsentDiv(),$Support.enableTextarea(),$Support.Util.calculateTextareaHeight(i),n.enablepmsg=!1},getChatUserConsent:function(e,t,i,o){var n=ZSIQConversationManager.getChatWinObjById(o);if($UI.removeChatConsentDiv(),0==e)return ZSIQConversationForm.clearSessionStorage(),this.closeChatConsentCallBk(i,n),void this.checkAndPopulateLastMessage();if($Support.EmbedObj.status){if($Support.LSDB.storeInSession(_SCREENNAME+"_gdpr_chatconsent",!0),i&&n.proactivedata)return $UI.populateUserAction(n),n.populateIcon(),handlePaste(),void $Support.startProactiveChat(n);var a=n.attender;if(!a){var r=this.LSDB.get("ZLDPERSONALIZE");a=$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&r?r:void 0}var s=$Support.getBotUser(n.department),p=!s||a&&-1==s.indexOf(a);!n.istriggeredchat&&p?$Support.startWaitingTimer(n,!0):s&&!n.isbottrigmsg||$Support.showVisitorQuestion(n),"true"==t||LSMessanger.sid?$Support.addVisitor():this.EmbedObj.vwmsid?LSMessanger.register($Support.Util.productCode,this.EmbedObj.vwmsid):$Support.getAnnonID($Support.EmbedObj.visitorname),$TH.checkAndShowBotTyping&&$TH.checkAndShowBotTyping(n.department)}else $Support.handleLeaveMessage(n.question)},startWaitingTimer:function(e,t){e.showWaitingUI("",t),e.stepinterval||(e.stepinterval=500),e.waitTimer=setTimeout(function(){e.handleWaitingDisplay(!0,null)},e.stepinterval)},startProactiveChat:function(i){var e=i.proactivedata;this.EmbedObj,i.getComposer().val(""),Message.displaySendMessage(i.chatID,i.question),$Support.handleAjax("joinproactive",e,function(e){if($Support.Util.handleUpdateBTN(),"error"!=e.objType){var t=$Support.joinedchatkeys.indexOf(i.chatID);-1!=t&&$Support.joinedchatkeys.splice(t,1),$Support.handleJoinProActive(e.objString,i),LSMessanger.joinchat(i.chatID,$Support.EmbedObj.vwmsid,"","",i.visitorID),$Support.Util.handleCallbacks("visitor.triggerresponded",{})}}.bind(i))},closeChatConsentCallBk:function(e,t){if(e||t.istriggeredchat)return t.istriggeredchat&&t.getComposer().attr("dockeyup","triggermsg"),t.getComposer().val(""),$("#msgarea").val(""),void $Support.getParent().$ZSIQChatWindow.closeChatWindow();$Support.getParent().$ZSIQChatWindow.closeChatWindow(),setTimeout(function(){$Support.Util.closeEmbed(t)}.bind(t))},chatWindowUICallBk:function(e){if(e){var t=ZSIQConversationManager.getChatWinObjById(e),i=t.composer,o=$Support.getParent().$ZSIQUtil.getCookieValue("state");i.val(""),-1!=t.chatID&&t.chatID||t.isofflinechat||$UI.populateVisitorQuestion("",e),this.handleComposerEvents(t);var n=t.istrigmsg;if(t.proactive||n)return n||(t.updateTranscriptFromSession(),i.attr("dockeyup","sendmessage")),2==o&&$Support.getParent().$ZSIQChatWindow.expandChatWindow(),void(n&&!t.isbottrigmsg&&i.attr("dockeyup","triggermsg"));var a=this.EmbedObj.addinfo.autochat;a&&""+a=="true"&&$Support.getParent().$ZSIQChatWindow.expandChatWindow()}},handleComposerEvents:function(e){e&&e.composer.on("focus.blinktitle keyup.blinktitle click.blinktitle",function(){$Support.iscomposerfocus=!0,Message.stopBlinking()}),e&&e.composer.bind("blur.blinktitle",function(){$Support.iscomposerfocus=!1})},reJoin:function(){var e=($Support.getWaitingCookie()||{}).ongoingchats;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t],n=this,a=n.EmbedObj,o=(ZSIQConversationManager.getChatWinObjById(t),lsnocachefix("json"));o.visitorid=i.visitorID||i.vid,$.ajax({url:$Support.getAjaxURL("rejoinvisitor",dext),type:"POST",data:o,dataType:"json",success:function(e){if("error"!=e.objType){var t=e&&e[0]?e[0].objString:"",i=t.chid,o=ZSIQConversationManager.getChatWinObjById(i);o.chatID=i,t.visitid&&(o.VISITID=t.visitid),t.ispickup?($Support.getCookieValue("ZLD"+a.livelsid).ongoingchats||{})[i]||(n.handlePickUp(t),$Support.handleCallbackForchatContinue(o,"Ongoing")):(LSMessanger.joinchat(i,a.vwmsid),$Support.handleCallbackForchatContinue(o,"Waiting"))}}})}},handleMissed:function(e,t,i,o){$UI.removeCWaitHandler(),this.missedVisitorAction(e,t,i,o)},missedVisitorAction:function(t,e,i,o){var n={};n=lsnocachefix("json");var a=$Support.EmbedObj;if(-1!=o.visitorID){if(n={lsid:a.livelsid,visitorid:encodeURIComponent(o.visitorID),vwmsid:a.vwmsid,mode:"visitor",debuginfo:CommonUtil.toJSON({"Missed By":t}),actiontype:e},"CALLENDED"==t){var r=$Support.audioid;r&&(n.audioid=r)}this.handleAjax("missedvisitor",n,function(e){try{$Support.handleMissedVisitor("error"!=e.objType,t,"","",o)}catch(e){}}.bind(o),function(e){e=e||{},LSDebugger.postDebugInfo("Visitor Side missed visitor failed - error status : "+e.status+" ; date: "+new Date+"; visitorID:"+$Support.EmbedObj.visitorID,null,"",!0)})}else LSDebugger.postDebugInfo("Missed visitor not triggered - date: "+new Date+"; vwmsid:"+a.vwmsid+"; wmsstatus:"+_WMSACK+"; visitorname:"+a.visitorname+"; visitoremail:"+a.visitoremail,null,"",!0)},handleMissedVisitor:function(e,t,i,o,n){if(clearTimeout(n.waitTimer),e){if($Support.updateChatCookie(n.chatID),n.callquitstatus=!0,LSMessanger.disable(),t&&"ONHAS"==t)$Support.init($Support.getParent().$ZSIQWidget.getEmbedObject()),$Support.getParent().$ZSIQChatWindow.constructIframe();else if(!n.waitingtime||n.waitingtime<=0){var a=$Support.EmbedObj;if($Support.resetChatAndShowOfflineUI(o,"",n.chatID),!i){var r={name:a.visitorname,email:a.visitoremail,question:n.question,visitid:n.VISITID};r.phone=a.visitorphone?a.visitorphone:"",r.customfields=a.cinfo?a.cinfo:"",$Support.Util.handleCallbacks("visitor.missed",r)}}var s={};s.chid=n.lchid,$Support.handleOnGoingchatActionsInConversation("missedchat",s)}},handleBotBusy:function(e){var t=ZSIQConversationManager.getChatWinObjById(e);$UI.removeTransferDiv("",t),$Support.updateChatCookie(t.chatID),$Support.resetChatAndShowOfflineUI(!0,!0,e)},handleBotTransferMissed:function(e){var t=ZSIQConversationManager.getChatWinObjById(e);$UI.removeTransferDiv("",t),delete t.isforwardchat,$Support.handleMissedVisitor(!0,"AGENTS_REJECTED","","",t)},handleAgentsOfflineForTransfer:function(e){$Support.LSDB.set("ZLD"+e+"transfer_state",{state:"offline"}),$UI.showOperatorOffline(ZSIQConversationManager.getChatWinObjById(e))},resetChatAndShowOfflineUI:function(e,t,i){$Support.EmbedObj;var o=ZSIQConversationManager.getChatWinObjById(i);$Support.removeWaitingCookie(i),$Support.removeWtimeCookie(i),o.lchid=i,o.chatID=-1,delete o.chatstatus,$BotImpl.resetDisableComposerTimer(),$UI.showMissedVisitorBanner(e,t,o),$Support.isNewHeader()?$("#sqico-send").attr("title",LSResource.getRealValue("embed.submit")):o.composer&&o.composer.after($Temp.getSendIcon(!0).replace(/{SQICOSEND}/g,i))},transferMissedLeaveMessage:function(e){$Support.callquitstatus=!0,LSMessanger.disable(),$Support.removeChatCookie();var t=$Support.EmbedObj;t.setPrevCHID(t.chatID),t.setChatID(-1),$BotImpl.resetDisableComposerTimer();var i=!1;"offline"==e.attr("purpose")&&(i=!0),$TH.handleMissedStatus(i)},handleLeaveMessage:function(e,t){$Support.sendOfflineMsg(e,t)},getComposer:function(){return $Support.composer||$("#msgarea")},sendOfflineMsg:function(e,r){var t={},s=$Support,p=s.EmbedObj,d=s.getComposer(),c=$.trim(d.val())||e;if(!c){var i=ZSIQConversationManager.getcurrchatwinobj();c=i.composer&&i.composer.val()}$Support.populateChatKeysFromJSAPI(t),$.extend(t,Browser.getInfo(),{referrer:processInput("trimlength",t.referrer,3e3),currentpage:processInput("trimlength",t.currentpage,950),lsid:p.livelsid,email:processInput("emailid",p.visitoremail),name:p.visitorname,msg:c,deptid:p.offlinedeptid||p.department,isengaged:s.engaged||!1}),this.updateDynamicKeys(t),p.visitorphone&&(t.phone=p.visitorphone),p.uvid&&(t.uvid=p.uvid);var o=$Support.getParent().$ZSIQUtil.getAvuid();o&&(t.avuid=o);var n=$Support.getParent().$ZSIQUtil.getZldp(p.embedname);n&&(t._zldp=n);var a=$Support.getParent().$ZSIQUtil.getAPIVisitorID();a&&(t.cvuid=a);var u=p.exid;u&&(t.exid=u);var l=p.cinfo;l&&("object"==typeof l&&(l=JSON.stringify(l)),t.cinfo=l),$Support.Util.isCampaignEnabled()&&$Support.subscribe&&(t.subscribe="true");var g,m,v=this.LSDB.get("ZLDPERSONALIZE");if($Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&v){t.attender=v;var h=$Support.getParent().$ZSIQWidgetUI.getUserObj(v);g=h.name,m=h.image_fkey}var S=p.attenderemail;S&&(t.attenderemail=S),t.includebots=!0,$Support.LSDB.storeInSession(_SCREENNAME+"_gdpr_chatconsent",!0),$UI.removeOfflineConsentDiv(),s.handleAjax("leavemsg",t,function(e){if("EMBED_NOT_ALLOWED"==e.objString.exception)return ZSIQConversationForm.clearSessionStorage(),$Support.getParent().$ZSIQUtil.preserveBlockIP(),void $Support.removeWidget();if("error"!=e.objType&&"leavemsg"==e.module){var t=e.objString;if("object"===e.objType&&"EMBEDONLINE"===t.ERROR)return ZSIQConversationForm.clearSessionStorage(),void s.handleLeaveMessageStatusChange(t,r);$EmbedManger.setQuitStatus(!0);var i=$Support.getAggregateStatus(p.deptlist),o=s.engaged?p.engagedrespmsg:i[0]&&p.deptofflinerespmsg?p.deptofflinerespmsg:p.offlinerespmsg;DynamicMsg.updateValue("visit_id",t.visit_id),$Support.Util.removeSendClickAction(),$Support.bannertimeout=setTimeout(function(){$UI.showBanner(DynamicMsg.fillValues(o),!0,$Support.Util.handleMinimizeinBannerTimeout,5e3),$("#info_banr").removeClass("relate"),$Support.Util.setTextareaHeight()},700),d.val("");var n={name:p.visitorname,email:p.visitoremail,question:c,visitid:t.visit_id};n.phone=p.visitorphone?p.visitorphone:"",n.customfields=p.cinfo?p.cinfo:"",$Support.Util.handleCallbacks("visitor.offline",n);var a={};a.question=getEscapedText(c),a.endtime=t.servertime,a.name=t.name,a.visitorid=t.encvisitorid,a.department=t.deptid,g&&(a.attender=g,a.attender_imgkey=m),r&&$Support.convlistcontainer.find("[chid="+r+"]").remove(),$Support.handleOnGoingchatActionsInConversation("leavemsg",a)}},"","",!0)},setInfoCookie:function(e){var t=$Support.EmbedObj,i=$Support.container,o={question:e};CommonUtil.addIfExists(o,"name",i.find('[info = "name"]').val()),CommonUtil.addIfExists(o,"email",i.find('[info = "email"]').val()),CommonUtil.addIfExists(o,"phone",i.find('[info = "phone"]').val()),this.LSDB.set("ZLD"+t.livelsid+"VISITORINFO",o,6e4)},handleTriggerMsg:function(e,t,i){if(13==t&&i.shiftKey)return!0;$Support.toggleSendButton(e),13===t&&this.startTriggerChat(e)},checkAndShowMandatoryFields:function(e,t){return!(-1!=t.department&&!$Support.Util.IsMandatoryFieldsAvailable()||(t.disableTextarea(e),t.showUserEditUI("","","trigger"),ZSIQConversationForm.isOldFormView()&&$Support.container.find('[documentclick="updateuserdetails"]').attr("callback","trigger"),0))},startTriggerChat:function(e,t){if(e||t){var i=(e=e)?e.attr("txtarea-id")||e.attr("chatid"):"";if(e=(t=i?ZSIQConversationManager.getChatWinObjById(i):t).getComposer(),""===$.trim(e.val()))return!1;if(t.istriggeredchat=!0,!$Support.checkAndShowMandatoryFields(e,t)){var o=t.chatID;if(t.isbottrigmsg&&(!o||"-1"==o)){var n=$.trim(e.val());return e.val(""),t.question=n,ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({msg:n,sender:$Support.EmbedObj.vwmsid},"",i),ispopulate:!0},i),void $Support.handleBotTriggerReply(n)}$Support.enableTextarea(e),$Support.updateVisitorName(),$Support.Util.removeSendClickAction(),t.getComposer().attr("dockeyup","sendmessage"),t.initiateChat()}}},showVisitorQuestion:function(e){$Support.EmbedObj,void 0===e.question&&(e.question=$.trim(e.composer.val()),e.composer.attr("dockeyup","sendmessage").val("")),e.istrigmsg=!1,e.hideUserEditUI(),$UI.populateVisitorQuestion("",e.winid),e.istrigmsg=!0},disableTextarea:function(e){(e=e||$Support.getComposer()).attr("disabled","true")},enableTextarea:function(e){(e=e||$Support.getComposer()).removeAttr("disabled")},missedLeaveMsg:function(e){var t=$Support;t.ismissed=!0;var i=e.attr("txtarea-id")||e.attr("chatid"),o=ZSIQConversationManager.getChatWinObjById(i);e=o.composer,eobj=t.EmbedObj;var n=$.trim(e.val());if(Licence.verify("creditmask")&&Message.checkMaskOccurance(n,!0)){$UI.appendConsentDiv(!0,o),o.disableTextarea(e);var a=o.contentdiv.find('[proptype="msgmaindiv"]');Message.scroll(a)}else this.getMissedUserConsent(0,o.winid)},getMissedUserConsent:function(e,t){var i=ZSIQConversationManager.getChatWinObjById(t),o=1==e,n=i,a=i.composer||$("#msgarea"),r=$Support.EmbedObj,s=i.lchid,p=$.trim(a.val());i.lchid=-1,o&&(p=Message.checkMaskOccurance(p,!1)),Message.send(s,p),$UI.removeConsentDiv(),$Support.Util.calculateTextareaHeight(i),n.hideUserEditUI();var d={};(d=lsnocachefix("json")).lsid=r.livelsid,d.visitorid=i.visitorID,d.msg=p,d.dname=r.visitorname,d.email=r.visitoremail,d.vwmsid=r.vwmsid,r.visitorphone&&(d.phone=r.visitorphone),$Support.updateDynamicKeys(d),$Support.handleAjax("missedleavemsg",d,function(e){if("error"!=e.objType&&"unattleavemessage"==e.module){n.isBotChat&&ZSIQTranscript.removeTyping(!0),n.disableTextarea(a),a.val(""),delete $Support.ismissed,DynamicMsg.updateValue("visit_id",e.objString.VISITID),$Support.bannertimeout=setTimeout(function(){n.showBanner(DynamicMsg.fillValues($Support.EmbedObj.missedrespmsg),!0,function(){$Support.Util.closeEmbed(n)}),$("#info_banr").removeClass("relate"),$Support.Util.setTextareaHeight(i)},1e3);var t={};t.msg=p,t.currwinobj=n,$Support.handleOnGoingchatActionsInConversation("missedleave",t)}})},setCookie:function(e){var t=this.EmbedObj,i=$Support.getCookieValue("ZLD"+t.livelsid)||{},o=i.ongoingchats||{};if(clearTimeout($Support.timer),i.name=t.visitorname,i.email=t.visitoremail,i.phone=t.visitorphone,i.vwmsid=t.vwmsid,e){var n=e.visitorID;if(e.waitingtime||-1===e.chatID&&-1===n||"pastconv"==e.chatstatus)return;var a={cid:e.chatID,rcid:e.RCHID,did:e.department,vid:e.visitorID,vwmsid:t.vwmsid,attender:e.attender,attenderzuid:e.attenderZUID,attenderuseragent:e.attenderuseragent,uvid:t.uvid,ques:e.question,visitid:e.VISITID,imagefkey:e.attenderimagefkey},r=e.chatintime||e.intime;r&&(a.chatintime=r);var s=$Support.getCookieValue("ZLD"+t.livelsid),p=s&&s["aboutme_"+n],d=s&&s["attname_"+n];a["aboutme_"+n]=p||e.attenderaboutme,a["attname_"+n]=d||e.attendername,CommonUtil.addIfExists(a,"attenderemail",e.attenderemail),e.proactive&&(a.isproactive=!0),e.istriggeredchat&&(a.istriggeredchat=!0),e.isBotChat&&(a.isbotchat=!0,e.botchatprops&&(a.botchatprops=e.botchatprops)),o[e.chatID]=a,i.ongoingchats=o}this.LSDB.setCookie("ZLD"+t.livelsid,i,31e4),$Support.handleDomainStorage("updatecorsdata","localstorage"),$Support.timer=setTimeout(function(){$Support.setCookie()},3e5)},setWaitingCookie:function(e){var t=this.EmbedObj;if(t.type&&"embed"!=t.type){var i=$Support.getCookieValue("ZLD"+t.livelsid+"WAITING")||{},o=i.ongoingchats||{},n=t.embedwaitingtime;if(i.name=t.visitorname,i.email=t.visitoremail,i.phone=t.visitorphone,i.vwmsid=t.vwmsid,e){var a={vid:e.visitorID,waitinghandlerprops:{intime:e.intime,latency:e.latency},chatintime:e.intime,did:e.department,chid:e.chatID,rcid:e.RCHID,ques:e.question,visitid:e.VISITID};e.attender&&(a.attender=e.attender),o[e.winid||e.chatID]=a,i.ongoingchats=o}this.LSDB.setCookie("ZLD"+t.livelsid+"WAITING",i,1e3*n)}},updateChatCookie:function(e){clearTimeout($Support.timer);var t=this.EmbedObj,i=$Support.getCookieValue("ZLD"+t.livelsid)||{},o=i.ongoingchats||{},n=Object.keys(o).length;if(1==n&&o[e]){var a={name:t.visitorname,email:t.visitoremail,phone:t.visitorphone};return this.LSDB.setCookie("ZLD"+t.livelsid,a,31e4),void $Support.handleDomainStorage("updatecorsdata","localstorage")}1<n&&(delete o[e],i.ongoingchats=o,i.name=t.visitorname,i.email=t.visitoremail,i.phone=t.visitorphone,this.LSDB.setCookie("ZLD"+t.livelsid,i,31e4),$Support.handleDomainStorage("updatecorsdata","localstorage"),$Support.timer=setTimeout(function(){$Support.setCookie()},3e5))},removeCacheCookie:function(e){this.LSDB.removeSessionStore(e+"_transcript")},getCookieValue:function(e){return e?this.LSDB.get(e):""},isSessionTranscriptEmpty:function(e){var t=e||this.EmbedObj.chatID,i=$Support.getTranscriptFromSession(t);return!(i&&0<i.length)},getWaitingCookie:function(){var e=this.getCookieValue("ZLD"+this.EmbedObj.livelsid+"WAITING");try{if("window"==PersonalSupport.type)return""}catch(e){}return e},getWaitingHandlerCookie:function(e){var t="ZLD"+this.EmbedObj.livelsid+"WTIME",i=((this.LSDB.get(t)||{}).ongoingchats||{})[e.winid];if(e.latency||(e.latency=0),!i)return!1;var o=(new Date).getTime()-i.previouscalltime;return i.remwaitingtime=i.remwaitingtime+parseInt(e.latency)-o,i.previouscalltime=(new Date).getTime(),this.updateWaitingCookie(i,e.winid),i},removeWtimeCookie:function(e){var t=this.EmbedObj;if(e){var i="ZLD"+t.livelsid+"WTIME",o=this.LSDB.get(i);if(o){var n=o.ongoingchats||{};delete n[e],Object.keys(n).length?(o.ongoingchats=n,this.LSDB.setCookie("ZLD"+t.livelsid+"WTIME",o,12e4)):this.removeCookie("ZLD"+t.livelsid+"WTIME",!0)}}},removeWaitingCookie:function(e){var t=this.EmbedObj;if(e){var i="ZLD"+t.livelsid+"WAITING",o=this.LSDB.get(i);if(o){var n=o.ongoingchats||{};delete n[e],Object.keys(n).length?(o.ongoingchats=n,this.LSDB.setCookie("ZLD"+t.livelsid+"WAITING",o,12e4)):this.removeCookie("ZLD"+t.livelsid+"WAITING",!0)}}},updateWaitingCookie:function(e,t){var i=this.EmbedObj;e=e||{remwaitingtime:1e3*i.embedwaitingtime,previouscalltime:(new Date).getTime()},cookieobj=this.getCookieValue("ZLD"+this.EmbedObj.livelsid+"WTIME")||{};var o=cookieobj.ongoingchats||{};o[t]=e,cookieobj.ongoingchats=o,this.LSDB.setCookie("ZLD"+i.livelsid+"WTIME",cookieobj,12e4)},removeChatCookie:function(){clearTimeout($Support.timer),this.removeCookie("ZLD"+this.EmbedObj.livelsid)},getTriggerCookie:function(){if(this.isFloat())return this.getCookieValue("ZLDTRIGGER"+this.EmbedObj.livelsid)},setTriggerCookie:function(e,t){if(!$Support.getTriggerCookie()||t){var i=this,o=i.EmbedObj;clearTimeout(i.triggercookietimer);var n=o.visitorname,a=o.visitoremail,r=e.message,s={isbottrigger:e.isbottrigger,sendername:e.sendername,message:r,uvid:o.uvid,name:n,email:a,cinfo:o.cinfo};e.attenderdetails&&(s.attenderdetails=e.attenderdetails),e.departments&&(s.departments=e.departments),s.winid=e.winid||e.time,r&&(s.lsid=r.lsid),this.LSDB.setCookie("ZLDTRIGGER"+o.livelsid,s,31e4),i.triggercookietimer=setTimeout(function(){i.setTriggerCookie(e,!0)},3e5)}},deleteTriggerCookie:function(){clearTimeout(this.triggercookietimer),this.removeCookie("ZLDTRIGGER"+this.EmbedObj.livelsid)},removeCookie:function(e,t){this.LSDB.remove(e,t)},updateCommonKeys:function(e){var t=this.EmbedObj;t.setVisitorName(e.name),t.setVisitorEmail(e.email),t.setvwmsID(e.vwmsid),t.setVisitorPhone(e.phone)},quitChat:function(i){i.contentdiv.find("#conversationoption").remove();var e,t=this.EmbedObj,o=i.visitorID;-1!==o&&(lsnocachefix("json"),e={chid:i.chatID,lsid:t.livelsid,uname:LSMessanger.getUserId(),visitorid:encodeURIComponent(o),deptid:i.department,tzoffset:CommonUtil.TZOFFSET},ZSIQConversationManager.getChatWinObjById(i.chatID).RCHID,$BotImpl.resetMessageSequence(),$BotImpl.resetDisableComposerTimer(),this.handleAjax("leavesupport",e,function(e){var t=e.objString;$Support.handleChatEnded(t,i),i.convongoingchatobj&&(i.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype",i.convongoingchatobj.attr("status","end"))}.bind(i)))},getAnnonID:function(e){var t={},i=$Support.getParent().$ZSIQUtil.getAPIVisitorID();(t=lsnocachefix("json",!1)).name=e,i&&(t.cvuid=i),this.handleAjax("getannonid",t,function(e){if("getannonid"==e.module){var t=e.objString.ANNONID;$Support.EmbedObj.vwmsid=t;var i=$Support.getParent().$ZSIQChat.getWidgetData();i.embedobj.annonid=t,$Support.getParent().$ZSIQUtil.storeDetails(i),LSMessanger.register($Support.Util.productCode,t)}})},checkAndRegisterWms:function(){var e=$Support.EmbedObj;e.vwmsid?LSMessanger.register($Support.Util.productCode,e.vwmsid):$Support.getAnnonID(e.visitorname)},handleChatEnded:function(e,t){if(t){if(t.callquitstatus)return delete SUPPORT_REPS[t.chatID],void($Support.isipblocked&&($Support.getParent().$ZSIQUtil.preserveBlockIP(),setTimeout(function(){$Support.removeWidget()},3e3)));$Support.cacheCurrentChat(t),$Support.clearEndTimer(t),t.composer&&t.composer.off("paste"),delete t.chatstatus,$Widget.clearLastMessage(),$UI.updateChatEndMsg(t),$Support.Util.handleResize(t);var i={visitid:e.visitid,chatduration:e.chatduration,attendername:t.attendername,attenderid:t.attender};t.attenderemail&&(i.attenderemail=t.attenderemail),$Support.Util.handleCallbacks("visitor.chatcomplete",i);var o,n=this.EmbedObj,a=n.thanksmsg;a=a?DynamicMsg.fillValues(a):(o=$Support.israting&&$Support.isfeedback?"embed.thanksmsg.ratingandfeedback":$Support.israting?"embed.thanksmsg.rating":$Support.isfeedback?"embed.thanksmsg.feedback":"embed.thanksmsg.noratingandfeedback",LSResource.getRealValue(o)),t.showBanner(a,!0,null,2500),this.LSDB.remove(t.chatID+"_sound"),this.LSDB.remove(n.chatID+"_translate"),$Support.removeCookie("ZLD"+t.chatID+"transfer_state"),$Support.hidetranslatebanner(t),t.removeSmileyIcon(),t.populateFeedbackHTML(),Message.scroll(t.chatdiv[0]),$Support.storePrechatVal(t),Message.stopBlinking(),t.lchid=t.chatID,$Support.updateChatCookie(t.chatID),$Support.removeCacheCookie(t.chatID),t.chatID=-1,$BotImpl.resetDisableComposerTimer(),t.callquitstatus=!0,t.isBotChat&&(t.botchatprops&&t.botchatprops.status&&"waiting"==t.botchatprops.status&&($Support.removeWaitingCookie(chid),$UI.removeCWaitHandler(),clearTimeout(t.waitTimer),delete t.waitingtime),$UI.removeTransferDiv("",t)),delete $Support.ischatdisabled,t.isBotattendedchat=t.isBotChat,delete t.isBotChat,delete t.hidetransfer,delete t.botchatprops,delete t.pmsg,$Support.getWaitingCookie()&&$Support.removeWaitingCookie(t.chatID),$Support.isipblocked&&($Support.getParent().$ZSIQUtil.preserveBlockIP(),setTimeout(function(){$Support.removeWidget()},3e3));try{var r=ZSIQConversationManager.getChatWinObjById(t.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(r)}catch(e){}}},storePrechatVal:function(e){var t=$Support.EmbedObj;$Support.EmbedObj.isreopenenabled||(t.lastdeptid=e.department,t.lastattender=e.attender,t.lastattenderemail=e.attenderemail,t.lastattendername=e.attendername,t.lastattenderaboutme=e.attenderaboutme)},deletePrechatVal:function(e){var t=$Support.EmbedObj;delete t.lastattender,delete t.lastattenderemail,delete t.lastattendername,delete t.lastattenderaboutme},restartchat:function(e){if(!$Support.Util.isPreview()){var t=ZSIQConversationManager.getcurrchatwinobj();ZSIQConversationManager.removeFromConvDB(t.winid),ZSIQConversationManager.resetLastViewd(),ZSIQConversationManager.resetConvDb(),this.showPreFormPage(),$Support.getParent().$ZSIQChatWindow.showIframeLoading();var i=this.EmbedObj;$Support.callquitstatus=!1,i.setVisitorID(-1),i.setChatID(-1),i.setVisitID(-1),_JOINED=!1,Message.presender="",$BotImpl.resetDisableComposerTimer(),this.checkAndHandleTriggerOnRestart(e),$UI.setFooter(),$Support.toggleSendButton()}},checkAndHandleTriggerOnRestart:function(e){var t=$EmbedManger.getuvid();if(t&&!e){var i=$Support.getprefixURL()+"/visitor/v2/"+_SCREENNAME+"/visitors/"+t+"/trigger";$.ajax({url:i,type:"POST",success:function(e){var t=e.data||{};$.isEmptyObject(t)?$Support.showPreFormPage():$Support.handleTriggerOnRestart(t)},error:function(){$Support.showPreFormPage()}})}else this.showPreFormPage()},handleTriggerOnRestart:function(e){$($Support.getParent().$ZSIQChatWindow.getChatWindowDiv()).removeClass("siq_showload");var t=e.triggers,i=JSON.parse(t.type);if(-1!=[2,16].indexOf(i)){var o=$Support.EmbedObj,n=JSON.parse(t.value),a=(n.attenderdetails,$Support.getParent().$ZSIQUTSAction);return $Support.isfeedbacksent=!1,delete o.lastattender,delete o.lastattenderemail,delete o.lastattenderimagefkey,delete o.lastattendername,n.time="0 Seconds",t.value=JSON.stringify(n),a.rechattrigger=!0,void a.handle(t)}this.showPreFormPage()},showPreFormPage:function(){$($Support.getParent().$ZSIQChatWindow.getChatWindowDiv()).removeClass("siq_showload"),$Support.checkAndShowUI(),$Support.isConversationAllowed()&&$Support.container.find("#showsiqconv").click(),$Support.Util.showMessageAreaUI()},sendMail:function(e){var t=e.parent(),i=t.find("input"),o=i.val(),n=e.parents(".siq_content").attr("data-id");if(ZSIQConversationManager.getChatWinObjById(n),!i.attr("disabled")&&""!=o){if(!this.Util.validateFields(t))return!1;t.fadeOut(150,function(){t.remove()}),$UI.populateSendMailConfirm(o,n)}},sendMailConfirm:function(e){var t=e.parents(".siq_content").attr("data-id"),i=ZSIQConversationManager.getChatWinObjById(t),o=i.contentdiv,n=o.find("#consentbannerdiv"),a=!1;if(o.find(".infomsg.chtend").length&&(a=!0),e.hasClass("gltr-no"))$UI.hideUtilityDiv(n,!0,a,i);else{var r=e.attr("cattr");$UI.hideUtilityDiv(n,!0,a,i);var s=e.attr("chid")||t,p=i.visitorID,d={chid:s,fformat:"mail",toemail:$.trim(r),cmode:"live",visitorid:encodeURIComponent(p),oprname:"chat",user:$Support.EmbedObj.vwmsid,tzoffset:_TZCOFFSET};this.handleAjax("visdataexport",d,function(){i.showBanner(LSResource.getRealValue("infomsg.mailsended"),!0),$Support.Util.handleCallbacks("chat.mail",{})},function(){$UI.showBanner(LSResource.getRealValue("ne.sendmail.failed"),!0)},LSResource.getRealValue("ne.mail.progress"))}},updateTranslateCookie:function(){var e=ZSIQConversationManager.getcurrchatwinobj(),t=e.contentdiv.find("#consentbannerdiv"),i=($Support.EmbedObj,e.chatID+"_translate");this.LSDB.setCookie(i,!0),$UI.hideUtilityDiv(t,!0)},hidetranslatebanner:function(e){var t=e.contentdiv.find("#consentbannerdiv");$UI.hideUtilityDiv(t,!0)},printPreview:function(){var e=ZSIQConversationManager.getcurrchatwinobj(),t=($Support.EmbedObj,e.chatID),i=e.visitorID,o=_TZCOFFSET;if(-1!=t){if(null==t||null==t)return;var n=parseInt(80*screen.width/100),a=parseInt(77*screen.height/100),r=(screen.width-n)/2,s=(screen.height-a)/2,p=$Support.getAjaxURL("embedprintchat",".ls");p+="?chid="+encodeURIComponent(t)+"&visitorid="+encodeURIComponent(i)+"&tzoffset="+o+"&cross_domain=true",p+=lsnocachefix(),window.open(p,(new Date).getTime(),"height="+a+", width="+n+",status=yes,toolbar=no,top="+s+", left="+r+", menubar=no,location=no,scrollbars=yes,resizable=yes"),$Support.Util.handleCallbacks("chat.print",{})}$Support.Util.hideMoreActionDiv()},setRating:function(e,n){n.rating=e.attr("data-reaction");var t=n.visitorID,i={},o=$Support.getApiURl()+"/"+t+"/feedback";i.rating=n.rating,delete n.isBotattendedchat,$.ajax({url:o,type:"POST",data:JSON.stringify(i),beforeSend:function(e){e.setRequestHeader("X-SIQ-Channel","website")},dataType:"json",contentType:"application/json",success:function(e){var t=n.rating;if(CallImpl.isCallWithChat){avUIhandler&&avUIhandler.implementRatingFdbkUI(n);var i={visitid:n.VISITID,rating:n.rating,agent:n.attenderemail};return $Support.Util.handleCallbacks("visitor.rating",i),void n.contentdiv.find('[proptype = "fdbkarea"]').slideDown(250,function(){$(this).focus()})}var o=$Support.getReactionIndex(t);n.showBanner(o,!0,null,2500),i={visitid:n.VISITID,reaction:n.rating,agent:n.attenderemail},$Support.Util.handleCallbacks("visitor.rating",i),n.contentdiv.find('[proptype = "fdbkarea"]').slideDown(250,function(){$(this).focus()}),$("#sqico-send").show(),!(0<n.contentdiv.find('[proptype = "feedback_res"]').length&&n.contentdiv.find("#feedback_res").hasClass("lstmsg_strs"))&&n.isfeedbacksent&&$UI.showFdbkResponse(n)}.bind(n)})},handleAjax:function(o,e,t,n,i,a){if(!$Support["requestRunning_"+o]){$Support["requestRunning_"+o]=!0;var r=setTimeout(function(){i&&$UI.showBanner(i)},500),s=$Support.isSignature($Support.EmbedObj)?"emailsignature":"website";$.ajax({url:$Support.getAjaxURL(o,dext),type:"POST",data:e,dataType:"json",async:!0,beforeSend:function(e){a&&e.setRequestHeader("X-SIQ-Channel",s)},success:function(e){clearTimeout(r),t&&(t(e&&e[0]),delete $Support["requestRunning_"+o])},error:function(e,t,i){clearTimeout(r),n&&(n(e),delete $Support["requestRunning_"+o])}})}},sendFeedback:function(i,e,t){if(i){var o=i.closest("section [data-id]").attr("data-id")||i.attr("chatid")||CallImpl.isCallWithChat,n=ZSIQConversationManager.getChatWinObjById(o);i=t?i:n.contentdiv&&n.contentdiv.find("#fdbkarea");var a=$Support.isfeedback;if($Support.israting,!(a&&n.isfeedbacksent||a&&i.val().length<1)||e){var r=encodeURIComponent(n.visitorID),s={};if($Support.EmbedObj,a&&!e){var p=i.val();s.feedback=p}CallImpl.isCallWithChat&&avUIhandler&&avUIhandler.implementFdbkSuccessUI(n);var d=$Support.getApiURl()+"/"+r+"/feedback";$.ajax({url:d,type:"POST",data:JSON.stringify(s),beforeSend:function(e){e.setRequestHeader("X-SIQ-Channel","website")},dataType:"json",contentType:"application/json",success:function(e){if(CallImpl.isCallWithChat){var t={visitid:n.VISITID,rating:n.rating,agent:n.attenderemail};$Support.Util.handleCallbacks("visitor.rating",t)}else n.disableTextarea(i),n.isfeedbacksent=!0,$UI.showFdbkResponse(n),t={visitid:n.VISITID,feedback:p,agent:n.attenderemail},$Support.Util.handleCallbacks("visitor.feedback",t),delete n.isratingedit}.bind(n),error:function(e){n.hideMaskDiv(),$Support.container.find("footer .floatrg").remove()}.bind(n)})}}},handleEndSession:function(e,t,i){var o=i;if(clearTimeout(o.timervar),o.endtimer=!0,o.callquitstatus&&$Support.clearTimer(o),(n={}).timer=--e,n.isstart=t,n.currwinobj=i,$Support.handleOnGoingchatActionsInConversation("endtimerupdate",n),0<e){var n,a=$("#endtimer");a.length?(a.html(e+" sec"),(n={}).timer=e,n.currwinobj=i,$Support.handleOnGoingchatActionsInConversation("endtimerupdate",n)):Message.displayInfo(LSResource.getRealValue("ne.chatend.timer",""+e),"",i.chatID),o.timervar=setTimeout(function(){$Support.handleEndSession(e,!1,o)},1e3)}else $Support.clearEndTimer(o)},clearEndTimer:function(e){e&&(clearTimeout(e.timervar),e.endtimer&&(e.contentdiv&&e.contentdiv.find("#endtimer").parents(".infomsg").fadeOut(function(){$(this).remove()}),EmbedSound.stop(),$Support.handleOnGoingchatActionsInConversation("endtimerclear",e)))},updateVisitorInfo:function(o,n,a,r){if(o||n||a){var e=$Support.EmbedObj,t=ZSIQConversationManager.getChatWinObjById(e.curreditwinid),i=lsnocachefix("json");i.visitorid=t.visitorID,o&&(i.lastname=o),n&&(i.email=n),a&&(i.phone=a),i.isnamefromemail=!!t.isnamefromemail&&t.isnamefromemail,this.handleAjax("updatevistdata",i,function(e){var t=$Support.EmbedObj,i=ZSIQConversationManager.getChatWinObjById(t.curreditwinid);delete t.curreditwinid,$Support.Util.handleUpdateBTN(),"error"!=e.objType&&(t.visitoremail=n,t.visitorname=o,t.visitorphone=a,$UI.updateVisitorName({name:o}),"function"==typeof r&&r(),i.composer.removeAttr("disabled"),i.hideUserEditUI(),$Support.setCookie(i))})}},checkAndUpdateInfo:function(t){var i=$("#siqformsave"),o=ZSIQConversationManager.getcurrchatwinobj();$Support.EmbedObj.curreditwinid=o.chatID;var n={"missed-leave":$Support.missedLeaveMsg,trigger:$Support.startTriggerChat,proactive:$Support.joinProactiveChat},a=ZSIQConversationForm.isOldFormView()?o.contentdiv.find("div.editfields"):$("#siqform");if(!$Support.checkCustomFields(o.contentdiv)||!this.Util.validateFields(a))return e.preventDefault(),!1;if($Support.checkCustomFields(o.contentdiv),!this.Util.validateFields(a))return e.preventDefault(),!1;$Support.Util.handleUpdateBTN(!0);var r=a.find('input[purpose="visitorname"]'),s=a.find('input[purpose="visitoremail"]'),p=a.find('input[purpose="visitorphone"]'),d=$.trim(r.val()),c=$.trim(s.val()),u=$.trim(p.val()),l=t.attr("callback");!d&&c&&(d=c?c.split("@")[0]:d,$Support.EmbedObj.isnamefromemail=!0);var g=$Support.EmbedObj;if(c&&(g.visitoremail=c),d&&(g.visitorname=d),u&&(g.visitorphone=u),"proactive"===l)return n[l]("",o),o.hideUserEditUI(),void $Support.setCookie();if("trigger"!==l)$Support.updateVisitorInfo(d,c,u,n[l]);else{if($Support.updateInputValues(o),i.removeAttr("documentclick"),o.isbottrigmsg&&(!o.chatID||"-1"==o.chatID)){o.hideUserEditUI();var m=$Widget.getLastMessage()||o.getComposer().val();if(!m)return;return o.question=m,void $Support.handleBotTriggerReply(m,"",o)}n[l]("",o)}},joinProactiveChat:function(e,i,t){if($Support.Util.IsMandatoryFieldsAvailable())return i.disableTextarea(),i.showUserEditUI("","","proactive"),void(ZSIQConversationForm.isOldFormView()&&$('[documentclick="updateuserdetails"]').attr("callback","proactive"));var o=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj,n=$Support.EmbedObj,a=n.pprops,r=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent"),s=!(1!=o.isgdprenabled||!JSON.parse(a.isgdprenabled)||1!=JSON.parse(a.chatprivacyconfig)||r),p=a.chatcookiepolicyurl,d=Browser.getInfo();$Support.populateChatKeysFromJSAPI(d);var c=i.getComposer();$Support.enableTextarea(c),e=e||$.trim(c.val()),LSMessanger.setNickName(n.visitorname),$.extend(d,{referrer:processInput("trimlength",d.referrer,3e3),currentpage:processInput("trimlength",d.currentpage,950),chid:i.chatID,uvid:n.uvid,vwmsid:n.vwmsid,msg:e,sid:LSMessanger.getSid(),name:n.visitorname}),n.visitorphone&&(d.phone=n.visitorphone),n.visitoremail&&(d.email=processInput("emailid",n.visitoremail));var u=lsnocachefix("json");for(var l in u)d[l]=u[l];n.cinfo&&("object"==typeof n.cinfo&&(n.cinfo=JSON.stringify(n.cinfo)),d.cinfo=n.cinfo);var g=$Support.getParent().$ZSIQUtil.getAvuid();g&&(d.avuid=g);var m=$Support.getParent().$ZSIQUtil.getZldp(n.embedname);m&&(d._zldp=m);var v=$Support.getParent().$ZSIQUtil.getAPIVisitorID();if(v&&(d.cvuid=v),t&&(d.form_response=t),i.question=e,s)return i.proactivedata=d,void $UI.appendChatConsentDiv(!1,!0,p,i);c.val(""),$("#msgarea").val(""),!ZSIQConversationForm.checkContextInitiated()&&Message.displaySendMessage(i.chatID,e),$UI.populateUserAction(i),i.populateIcon(),handlePaste(),$Support.handleAjax("joinproactive",d,function(e){if(ZSIQConversationForm.clearSessionStorage(),$Support.Util.handleUpdateBTN(),"error"!=e.objType){var t=$Support.joinedchatkeys.indexOf(i.chatID);-1!=t&&$Support.joinedchatkeys.splice(t,1),$Support.handleJoinProActive(e.objString,i),LSMessanger.joinchat(i.chatID,$Support.EmbedObj.vwmsid,"","",i.visitorID),$Support.Util.handleCallbacks("visitor.triggerresponded",{})}}.bind(i))},handleJoinProActive:function(e,t){if(t){$Support.EmbedObj,t.visitorID=e.CUID,t.VISITID=e.VISITID;var i=e.ATTENDER;i&&t.attender!==i&&(t.attender=i),delete t.proactive,this.setCookie(t)}},handleApiData:function(e,t){var i=$Support.EmbedObj,o=ZSIQConversationManager.getcurrchatwinobj();if(e){if(i.setAddinfo(e),i.uvid=e.uvid||i.uvid,i.visitorname=e.name||i.visitorname,i.visitoremail=e.email||i.visitoremail,i.visitorphone=e.phone||i.visitorphone,i.question=e.question||i.question,i.attenderemail=e.agent||i.attenderemail,i.messagehint=e.messagehint||"",null!=e.department){var n=e.department;"online.department"!=e.department&&(e.department=[],e.defaultdepartment&&-1!=e.defaultdepartment&&-1==n.indexOf(e.defaultdepartment)&&n.push(e.defaultdepartment));for(var a=i.deptlist.length,r=0;r<a;r++)-1==n.indexOf(getDecodedText(i.deptlist[r].NAME))?i.deptlist[r].isClient=!1:"online.department"!=e.department&&e.department.push(i.deptlist[r].NAME);if(0!=e.department.length){var s=n;n=e.department,"personal"==$Support.type&&$Support.status?PersonalSupport.handleDeptChange(n):this.Util.handleDeptApiChange(n,s)}}e.agent&&$.validateField("email",e.agent)&&(i.attenderemail=e.agent),e.info&&(i.cinfo=e.info);var p=e.requestid;null==p||isNaN(p)||(i.exid=p),!e.defaultdepartment&&e.department&&1==e.department.length&&(e.defaultdepartment=e.department[0]);var d=e.defaultdepartment;if(d&&-1!=d){if($Support.status&&"personal"==$Support.type)PersonalSupport.defaultdept=d;else{var c=$("#sqico-drpdwn").find('li[uniname="'+d+'"]');c.length&&(c.trigger("click",[!0]),$Support.isFloat()||$Support.Util.showOfflineBanner())}d&&e.department&&1==e.department.length&&e.department[0]==d&&($Support.container.find("#sqico-drpdwn").hide(),$Support.Util.setTextareaHeight())}if(void 0!==e.forward&&($Support.nochatforward=e.forward),e["chat.waitinghandler"]&&!t&&($Support.isapiwaitinghandler=e["chat.waitinghandler"]),e.callback){var u=e.callback;if("chat.waitinghandler"in u){var l=u["chat.waitinghandler"];if("-1"==l&&(l=null),$Support.cwaitmsg=l,$Support.waitingtime&&$UI.populateCWaitHandler(),t)return}}e.chatstart&&!$Support.isChatExist()&&t&&!$Support.getTriggerCookie()&&($Support.getParent().$ZSIQWidgetUI.removeCallClass(),i.addinfo.autochat=!0,$Support.container.find("#showsiqchatui").click(),$Support.EmbedObj.status&&$Support.getParent().$ZSIQChatWindow.openChatWindow(),$Support.getComposer().trigger("keyup")),($Support.isChatExist()||$Support.getTriggerCookie()||$Support.proactive)&&e.chatstart&&$Support.getParent().$ZSIQChatWindow.openChatWindow(),e.showchatui&&($Support.getParent().$ZSIQChatWindow.openChatWindow(),($Support.isChatExist()||$Support.getTriggerCookie())&&$Support.convongoingchatobj&&$Support.convongoingchatobj.trigger("click")),e.chatend&&$Support.isChatExist()&&t&&$Support.quitConnetcedChats();var g=e.chatmessages;if(g&&"object"==typeof g){for(i.waitmsg=g.waiting||i.waitmsg,i.offlinemessage=g.offline||i.offlinemessage,i.missedmessage=g.busy||i.missedmessage,i.offlinerespmsg=g.offlinecomplete||i.offlinerespmsg,i.thanksmsg=g.complete||i.thanksmsg,i.missedrespmsg=g.busycomplete||i.missedrespmsg,i.engagedmessage=g.engaged||i.engagedmessage,i.engagedrespmsg=g.engagedcomplete||i.engagedrespmsg,i.feedbackcomplete=g.feedbackcomplete,i.ratingcomplete=g.ratingcomplete,i.ratingtitle=getEncodedText(g.ratingtitle),r=1;r<=5;r++)g["feedbackcomplete"+r]&&(i["feedbackcomplete"+r]=g["feedbackcomplete"+r]);g.chatend&&(i.chatendmessage=g.chatend)}var m=e.customfield,v=e.clearcustomfield||e.clearfield;if((m||v)&&(m&&(this.customobj=m,this.Util.handleCustomHTML()),v&&this.Util.checkAndRemoveCustomField(v),$Support.Util.setTextareaHeight()),e.chatprivacycontent&&ZSIQConversationForm.isOldFormView()){var h=$Support.container.find('[proptype="siqform"]');h.find('[proptype="chtprivacy"]').remove(),h.append('<div class="infomsg chtend siq-info-message" proptype="chtprivacy">'+e.chatprivacycontent+"</div>"),this.Util.setTextareaHeight()}e.title&&(document.title=e.title);var S=e["rating.visible"],f=e["feedback.visible"];if((S||f)&&(S&&($Support.israting="hide"!=S),f&&($Support.isfeedback="hide"!=f)),e.clogo){var b=$("#complogo"),C=$("#compurl"),I=e.cwebsite;b.length&&b.attr("src",e.clogo),I&&(I=-1==I.indexOf("http")?"http://"+I:I,C.length?C.attr("href",I):b.wrapAll("<a id='compurl' target='_blank' href='"+I+"'>"))}if($Support.EmbedObj.status&&e.floatwindowonlinetitle&&!o.attender&&!$Support.getTriggerCookie()&&$("#attname").text(e.floatwindowonlinetitle),$Support.EmbedObj.status||!e.floatwindowofflinetitle||o.attender||$("#attname").text(e.floatwindowofflinetitle),$Support.isConversationAllowed()&&e.defaultview&&"Classic"==e.defaultview&&this.openClassicUI(),e.callstart&&t){$Support.updateVisitorName();var D=LSResource.getRealValue("av.info.callquesmsg",i.visitorname);$Support.container.find('[info = "question"]').val(D),i.isaudiocall=!0,i.question=D,$Support.updateInputValues(),$Support.startChat()}e.waitime&&($Support.EmbedObj.embedwaitingtime=e.waitime),this.updateValuesFromVisitorInfoCookie(),this.Util.fillApiValues()}try{$Support.isChatExist()||1!=e.initiatecall||$Support.getParent().$zoho.salesiq.call.start()}catch(e){}},handleAPIFunctionalities:function(e,t){var i=$Support.EmbedObj;"chatstart"==e?(i.addinfo.autochat=!0,$Support.getComposer().trigger("keyup")):"chatend"==e&&$Support.isChatExist()&&$Support.quitChat()},updateValuesFromVisitorInfoCookie:function(){var e=$Support.EmbedObj,t=this.getCookieValue("ZLD"+e.livelsid+"VISITORINFO");t&&(e.setVisitorName(t.name),e.setVisitorEmail(t.email),e.setAddinfo(t),t.phone&&e.setVisitorPhone(t.phone),this.removeCookie("ZLD"+e.livelsid+"VISITORINFO"))},getOfflineMessage:function(){var e=$Support.EmbedObj;if(e.bushrstatus)return $UI.getBusinessHrInfo();var t=e.deptlist,i=$Support.getAggregateStatus(t),o=i[1],n=i[0];return o?(this.engaged=!0,e.engagedmessage?DynamicMsg.fillValues(e.engagedmessage):LSResource.getRealValue(1<t.length&&n?"ne.engagedmsg_multidept":"ne.engagedmsg")):1<t.length&&n?e.deptofflinemsg?DynamicMsg.fillValues(e.deptofflinemsg):LSResource.getRealValue("ne.offlinemsg_multidept"):e.offlinemessage?DynamicMsg.fillValues(e.offlinemessage):LSResource.getRealValue("ne.offlinemsg")},getAggregateStatus:function(e){for(var t=!1,i=!1,o=$Support.EmbedObj.department,n=0;n<e.length;n++){var a=e[n];""+a.STATUS=="true"&&(i=!0),"-1"!==o&&a.ID!==o||""+a.ENGAGED!="true"||(t=!0)}return[i,t]},updateDynamicKeys:function(e){e.phone&&DynamicMsg.updateValue("phone",e.phone);var t=e.name||e.dname;DynamicMsg.updateValue("name",t),DynamicMsg.updateValue("email",e.email),e.msg&&DynamicMsg.updateValue("question",e.msg),e.deptid&&DynamicMsg.updateValue("department",e.deptid)},updateChatCache:function(e,t,i){t?($.isEmptyObject(e[e.length-1])&&e.splice(e.length-1,1),$Support.cachearr[i]=e):($Support.cachearr[i]||($Support.cachearr[i]=[]),$Support.cachearr[i].push(e)),i=i||e.chid||e[0]&&e[0].chid,this.LSDB.storeInSession(i+"_transcript",$Support.cachearr[i])},isParentIframe:function(){return window.location!=window.parent.location},broadcastVisitor:function(e,n){$Support.EmbedObj;var t={};t.visitorid=n.visitorID,t.module=e||"addvisitor",$Support.LSDB.get("ZLD_ApiAVCall")&&(t.isaudiocall=$Support.LSDB.get("ZLD_ApiAVCall")),this.handleAjax("broadcastvisitor",t,function(e){if("broadcastvisitordata"==e.module&&e.objString.isagentsavailable){var t=n.attendername;t||(t=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.userdetails.find(function(e){return e.lsuid==n.attender}).name);var i=LSResource.getRealValue("chatwindow.personalchat.transfer",t),o=i||getUnescapedText(Support.waitmsg);o=DynamicMsg.fillValues(o),n.contentdiv.find("#info_banr span").first().text(o).show()}}.bind(n))},handleStatusCallback:function(){var e="chat.offline";$Support.EmbedObj.status&&(e="chat.online"),$Support.Util.handleCallbacks(e,{})},handleAudioCallback:function(){-1<window.location.protocol.indexOf("https")&&(-1<navigator.userAgent.indexOf("Chrome")||-1<navigator.userAgent.indexOf("Firefox"))&&$Support.Util.handleCallbacks("call.isavsupported",{})},checkCustomFields:function(e){if(!$Support.contentdiv&&!e)return!0;var t=e||$Support.contentdiv,l=$Support.EmbedObj,i=t.find('[purpose="custom"]');if(!i.length)return!0;var g=$Support.EmbedObj.cinfo||{};return $.each(i,function(e,t){var i=$(t),o=i.attr("type"),n="true"==i.attr("mandatory"),a=i.attr("custom"),r=i.attr("visibility");if(l.status&&"offline"==r)return!0;if(!l.status&&"online"==r)return!0;if(i.removeClass("errfield"),"radio"==o||"checkbox"==o){var s=i.find("input:checked");a=i.attr("name");var p=[];return $.each(s,function(e,t){p.push($(t).attr("id"))}),p.length?(i.removeAttr("data-validate"),g[a]=p.join(";")):n&&i.addClass("errfield"),!0}var d=i.val();if("selectbox"==o&&(d=i.find("#dropheader").attr("val")),!d)return!0;var c=i.attr("maxlength"),u=i.attr("minlength");if(d.length>c||d.length<u)return i.addClass("errfield"),!0;g[a]=d}),l.cinfo=g,0==t.find(".errfield").length},rejoinVisitorInUTS:function(e){var t=lsnocachefix("json");t.visitorid=e,this.handleAjax("utsrejoin",t,function(e){})},isSignature:function(e){return e.eparams&&e.eparams.signature},handleDesktopSharing:function(e){if(e.msg){var t=e.msg.opruser.dname,i=decodeURIComponent(e.link),o="",n="";n="request"==e.msg.opr?(o="chatwindow.requestdesktop","common.share"):(o="chatwindow.sharedesktop","common.join");var a=LSResource.getRealValue(o,t)+'&nbsp;&nbsp;<a href="'+i+'" target="_blank" documentclick=openmeeting>'+LSResource.getRealValue(n)+"</a>";this.Util.displayInfo(a)}$("#mraction").find("#sharedesktop").addClass("cmn_disable")},handleMeetingJoinCB:function(){this.Util.hideInfo(),$("#mraction").find("#sharedesktop").removeClass("cmn_disable")},shareDesktop:function(e){if(!$(e).hasClass("cmn_disable")){var t=lsnocachefix("json");t.chid=$EmbedManger.getChatID(),t.attender=$Support.EmbedObj.attender,this.handleAjax("authenticatesharedesktop",t,function(e){$Support.Util.hideMoreActionDiv()})}},isHandHeldDevice:function(){return!!$Support.Util.isSIQMobilePreview()||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent)},isMobileWidth:function(){return $Support.getParent().document.body.offsetWidth<555||this.isHandHeldDevice()},setUVID:function(e){$Support.EmbedObj.uvid=e},setTabOwner:function(){var e="ZLD"+$Support.getParent().$ZSIQUtil.getLiveLSID()+"tabowner";this.LSDB.setCookie(e,LSMessanger.getSid())},getTabOwner:function(){var e="ZLD"+$Support.getParent().$ZSIQUtil.getLiveLSID()+"tabowner";return this.LSDB.get(e)},incrementUnreadCount:function(e){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount",i=this.LSDB.get(t)||{},o=i[e];o?o+=1:o=1,i[e]=o,this.LSDB.set(t,i),$Support.getParent().$ZSIQWidgetUI.updateCount(this.getUnreadCountOnWidget(i))},getUnreadCountOnWidget:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&(t+=e[i]);return t},getUnreadCount:function(e){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount",i=this.LSDB.get(t)||{};return e?i[e]||"":this.getUnreadCountOnWidget(i)},removeUnreadCookie:function(e){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount";if(e){var i=this.LSDB.get(t)||{};delete i[e],Object.keys(i).length?this.LSDB.set(t,i):this.LSDB.remove(t)}else this.LSDB.remove(t)},isAllowFreeLogo:function(){return!$Support.Util.isPreview()&&!CommonUtil.isIntegratedPortal()&&(Licence.isFreePlan()||$Support.EmbedObj.isBetaPortal)},handleDeptBasedStatusChange:function(e,t){for(var i=$Support.EmbedObj.deptlist,o=i.length,n=0;n<o;n++)if(i[n].ID==e){i[n].STATUS=t;break}},getOnlineDeptCount:function(){for(var e=$Support.EmbedObj.deptlist,t=e.length,i=0,o=0;o<t;o++)1==e[o].STATUS&&i++;return i},handleAddVisitStatusChange:function(e,t){var i=ZSIQConversationManager.getChatWinObjById(t),o=$Support.EmbedObj;clearTimeout(i.waitTimer),delete i.waitingtime,i.hideBanner(),i.contentdiv.remove(),$Support.removeWaitingCookie(t),$Support.removeWtimeCookie(t),o.setDepartmentList(e.DEPTLIST),o.setEmbedStatus(e.STATUS),$Support.container.find(".msgbox textarea").stop(),ZSIQConversationManager.removeFromConvDB(t),$Support.container.empty(),$UI.updateOfflineUI(!0),$Support.Util.showMessageAreaUI("showsiqchatui"),i.contentdiv=void 0,i.composer=void 0,$Support.container.addClass("outerwin"),$Support.Util.showOfflineBanner(),$UI.setDepartment(i.department),i.question&&$("#sqico-send").attr("documentclick","leavemessage"),LSMessanger.sid=void 0;var n=$Support.getParent().$ZSIQWidget.getWidgetObject();n.status=e.STATUS,n.onlysticker=!0,$Support.getParent().$ZSIQWidgetUI.drawWidget(n),n.hideoffline&&1==n.hideoffline[0]&&($Support.disableTextarea($Support.getComposer()),setTimeout(function(){$Support.getParent().$ZSIQChatWindow.handleChatWindowVisible("hide"),$Support.getParent().$ZSIQWidgetUI.handleWidgetVisible("hide")},3e3)),$Support.Util.handleResize(i)},handleLeaveMessageStatusChange:function(e,t){var i=$Support.EmbedObj;i.setDepartmentList(e.DEPTLIST),i.setEmbedStatus(e.STATUS),$Support.container.find(".msgbox textarea").stop(),$Support.container.empty(),$Support.contentdiv=void 0,$Support.composer=void 0,ZSIQConversationManager.removeFromConvDB(t),$UI.updateOnlineUI(!0),$Support.Util.showMessageAreaUI("showsiqchatui"),$Support.container.addClass("outerwin"),$Support.Util.showOnlineBanner(),$UI.setDepartment(i.department),i.question&&$("#sqico-send").attr("documentclick","textarea"),LSMessanger.sid=void 0},getAjaxURL:function(e,t){return url=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/"+e+t},getApiURl:function(){return url=_SCHEMA+"://"+_EMBEDSERVERURL+"/visitor/v2/"+_SCREENNAME+"/conversations"},appendMetaTag:function(){$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">')},getValuesForDynamicMsg:function(){var e=$Support.EmbedObj,t={};CommonUtil.addIfExists(t,"name",e.visitorname),CommonUtil.addIfExists(t,"email",e.visitoremail),CommonUtil.addIfExists(t,"phone",e.visitorphone),CommonUtil.addIfExists(t,"department",e.department);var i=e.question?e.question:$Support.composer?$.trim($Support.composer.val()):"";return CommonUtil.addIfExists(t,"question",i),CommonUtil.addIfExists(t,"visit_id",e.VISITID),CommonUtil.addIfExists(t,"attendername",e.attendername),CommonUtil.addIfExists(t,"attenderemail",e.attenderemail),t},transferChat:function(e,t){var i=ZSIQConversationManager.getChatWinObjById(t);if($BotImpl.enableComposer("",t),$Support.areUsersAvailable(i.department)){delete $Support.SIQFieldname,$Support.clearBotQuestionTimeout(),i.contentdiv.find("#conversationoption").remove();var o=lsnocachefix("json");o.visitorid=i.visitorID,e&&e.msg&&"DEPARTMENT"!=e.msg.type&&e.msg.userid&&(o.userid=e.msg.userid),$Support.EmbedObj.uvid&&(o.uvid=$Support.EmbedObj.uvid),o.showalert=!0,i.contentdiv.find(".zsiq_transferdiv").remove(),this.handleAjax("transferchat",o,function(e){$Support.storeHideTransfer(t),e&&e.objString&&e.objString.do_not_route_enabled||($Support.deleteBotCookie(t),i.isforwardchat=!0,delete i.isBotChat)}.bind(i))}else $UI.showOperatorOffline(i)},deleteBotCookie:function(e){var t=$Support.EmbedObj,i=$Support.getCookieValue("ZLD"+t.livelsid),o=(i.ongoingchats||{})[e]||{};o.isforwardchat=!0,delete o.botchatprops,delete o.isbotchat,this.LSDB.setCookie("ZLD"+t.livelsid,i,31e4)},storeHandoffConfig:function(e,t){t||(t=$Support.EmbedObj.chatID),$Support.LSDB.storeInSession(t+"_handoffconfig",JSON.stringify(e))},getHandoffConfig:function(e){var t=$Support.LSDB.getFromSession(e+"_handoffconfig");return t?JSON.parse(t):{}},handleTransferMissed:function(e){var t=ZSIQConversationManager.getChatWinObjById(e.parents(".siq_content").attr("data-id"));$UI.removeTransferDiv(e,t);var i=lsnocachefix("json"),o=$Support.EmbedObj,n=!(i={lsid:o.livelsid,visitorid:encodeURIComponent(t.visitorID),vwmsid:o.vwmsid,mode:"visitor",actiontype:"2",isbottransfer:!0});"offline"==e.attr("purpose")&&(n=!0),$Support.LSDB.remove("ZLD"+t.chatID+"transfer_state"),this.handleAjax("missedvisitor",i,function(e){ZSIQConversationForm.clearSessionStorage(),$Support.handleMissedVisitor("error"!=e.objType,null,!0,n,t)})},hideTransferOption:function(e){$UI.removeTransferDiv("",ZSIQConversationManager.getChatWinObjById(e)),this.setCookie()},storeHideTransfer:function(e){$Support.LSDB.storeInSession(e+"_handoff",!0);var t=ZSIQConversationManager.getChatWinObjById(e);t.hidetransfer=!0,$UI.populateUserAction(t)},areUsersAvailable:function(e){var t=$Support.EmbedObj;for(var i in t.deptlist)if(t.deptlist[i].ID==e)return!t.deptlist[i].ONLYBOTSAVAILABLE;return!1},getDeptName:function(e){var t=$Support.EmbedObj;for(var i in t.deptlist)if(t.deptlist[i].ID==e)return t.deptlist[i].DNAME||t.deptlist[i].NAME},getBotUser:function(e){try{var t=$Support.EmbedObj;for(var i in e=e||t.department,t.deptlist)if(t.deptlist[i].ID==e)return t.deptlist[i].BOTUSER}catch(e){}return null},isConversationAllowed:function(){if($Support.Util.isPreview())return!1;var e=$Support.EmbedObj;return JSON.parse(e.eprops.isconversation)&&Licence.verify("conversationallowed")},bindScrollForConversationListContainer:function(){$Support.convlistcontainer.scroll(function(e){var t=e.target;if($Support.convongoingchatobj&&0==t.scrollTop&&$Support.removeConversationPopupMessage(),t.scrollHeight-t.scrollTop===t.clientHeight){if($Support.convlistindex<$Support.convlistlimit[$Support.EmbedObj.windowsize])return;$Support.PopulateConversationList(function(e,t){if(e.length){var i="";e.forEach(function(e){i+=$Temp.getConversationHistoryHTML(e)}),t?$Support.convlistcontainer.find("#pastchatconv").prepend($(i)):$Support.convlistcontainer.find("#pastchatconv").append(i),$Support.Util.showConversationListUI()}},$Support.convlistindex+1)}})},PopulateConversationList:function(o,n){var a,e={},r=$Support.getParent().$ZSIQUtil.getAvuid();if(e=lsnocachefix("json"),r){var t=this.LSDB.getFromSession(r+"_conversation");if(t&&t.length&&!n){o(t);var i=t[0];(a=i.endtime)&&(e.fromtime=a),$Support.convlistindex=t.length}e.avuid=r;var s=$Support.getParent().$ZSIQUtil.getAPIVisitorID();if(s&&(e.cvuid=s),e.limit=$Support.convlistlimit[$Support.EmbedObj.windowsize],n){if(0!=(e.index=n)){if(0!=$Support.convlistcontainer.find("#convlistloading").length||$Support.isallconvlistfetched)return;$Support.convlistcontainer.find("#pastchatconv").append($Temp.getConversationListLoadingHTML())}}else{var p=this.LSDB.get(r+"_accesstime");p&&(e.clientsynctime=p)}e.version=1;var d=$Support.getApiURl(),c=s?"&cvuid="+encodeURIComponent(s):"";d+="?avuid="+encodeURIComponent(r)+c,$.ajax({url:d,type:"GET",beforeSend:function(e){e.setRequestHeader("X-SIQ-Channel","website")},success:function(e){var t=$Support.formatConversationObject(e.data||[]);if(!t.length)return a||($Support.isallconvlistfetched=!0),void($Support.Util.checkToShowConversationEmptyPage()&&$Support.Util.showConversationEmptyPage());n||$Support.LSDB.setCookie(r+"_accesstime",t[0].endtime,864e5);var i=!!a;$Support.updateConversationCache(t,r,i),o(t,i),$Support.convlistindex+=t.length}.bind(),error:function(){}})}},formatConversationObject:function(e){for(var t=[],i=!1,o=0;o<e.length;o++){var n=e[o],a=n.attender||{},r=n.department||{},s=n.visitor||{},p=n.chat_status||{},d={};if(1!=p.state&&2!=p.state)d.attender=a.name,d.attenderid=a.id,d.attender_imgkey=a.image_key,d.chat_attended=4==p.state,d.chid=n.chat_id,d.departmentid=r.id,d.departmentname=r.name,d.endtime=n.end_time||n.missed_time||n.start_time,d.isbotattender=a.is_bot,d.name=s.name,d.question=n.question,d.visitorid=n.id,d.wms_chat_id=n.wms_chat_id,t.push(d);else{if(1==p.state)continue;!$Support.isChatExist()&&$Support.getParent().$ZSIQUtil.getAPIVisitorID()&&($Support.handleLiveChatsInStorage(n,p.state),i=!0)}}return i&&(delete $Support.convlistcontainer,$Support.checkAndShowUI()),t},handleLiveChatsInStorage:function(e,t){2!=t?$Support.setWaitingCookie($Support.getFormattedObjectForStorage(e)):$Support.setCookie($Support.getFormattedObjectForStorage(e))},getFormattedObjectForStorage:function(e){var t=e.attender||{},i=e.department||{},o=e.visitor||{},n={chatID:e.chat_id,visitorID:e.id,attender:t.id,attenderemail:t.email,attendername:t.name,question:e.question,attenderimagefkey:t.image_key,department:i.id,attenderuseragent:e.attenderuseragent,chatintime:e.start_time,VISITID:e.visitid,proactive:e.proactive||e.isproactive,istriggeredchat:e.istriggeredchat,isBotChat:t.is_bot,isbottrigmsg:e.isbottrigmsg,botchatprops:e.botchatprops,waitinghandlerprops:e.waitinghandlerprops,RCHID:e.wms_chat_id,isofflinechat:!(e.cid||e.chid||!e.vid),attenderaboutme:e.attenderaboutme};return $Support.EmbedObj.setVisitorName(o.name),n},updateConversationCache:function(e,t,i){if(e&&e.length){e=$Support.checkDuplicateInConversationList(e,t);var o=this.LSDB.getFromSession(t+"_conversation");o&&o.length&&(e=i?e.concat(o):o.concat(e)),this.LSDB.storeInSession(t+"_conversation",e)}},checkDuplicateInConversationList:function(e,t){try{var i=this.LSDB.getFromSession(t+"_conversation");if(!i||!i.length)return e;for(var o=e.length-1;0<=o;o--)for(var n=e[o],a=0;a<i.length;a++){var r=i[a];if(n.visitorid==r.visitorid){e.splice(o,1);break}}}catch(e){}return e},getConversationChatTranscript:function(t,i){var e=-1!==t?t:i,o=ZSIQConversationManager.getChatWinObjById(e),n=o.presender;$("#conversioncontainer").hide(),o.chatdiv.html($Temp.getLoadingHTML()).show();var a=$Support.getTranscriptFromSession(t);$Support.Util.showConversationTranscriptUI(i,t);var r,s=!1;if(a&&(r=a[0],s=$("#attname").html()==r.attendername),!t||-1===t){var p=$Support.getParent().$ZSIQUtil.getAvuid(),d=$Support.LSDB.getFromSession(p+"_conversation"),c={};for(var u in d){var l=d[u];if(l.visitorid==i){c=l;break}}var g={};g.question=getEscapedText(c.question),g.dname=c.name,g.mode="info",c.attender&&(g.attendername=c.attender,g.userimg=c.attender_imgkey);var m=[];return m.push(g),void $Support.Util.populateChatUI(m,i,t)}if(a&&a.length&&s)return $Support.Util.populateChatUI(a,i,t),void(o.presender=n);var v=$Support.getAjaxURL("getvisitortranscript",dext);v+="?tzoffset="+_TZCOFFSET+"&visitorid="+i+lsnocachefix(!0)+"&lang="+_LANG+"&conversation=true",_CCODE&&(v+="&ccode="+_CCODE),$.get(v,"",function(e){$.trim(e)&&-1==e.indexOf("transcript.try.after.sometime")&&($.isEmptyObject(e[e.length-1])&&e.splice(e.length-1,1),e.length&&($Support.storeConversationChatTranscriptInSession(t,e),$Support.Util.populateChatUI(e,i,t)))},"json")},storeConversationChatTranscriptInSession:function(e,t){this.LSDB.storeInSession(e+"_transcript",t)},isConversationUIFocussed:function(){try{return $Support.convlistcontainer.is(":visible")||$Support.convtranscontainer.is(":visible")}catch(e){}return!1},formatMessage:function(e,t,i){e=e?e.replace("<br>","\n"):e,e=t?e:getEscapedText(e);var o=Message.getDisplayContent(e);return i||(o=Markdown.apply(o,!0)),o=Message.format(o)},isConversationTransUIFocussed:function(){try{return $Support.convtranscontainer.is(":visible")}catch(e){}return!1},handleOnGoingchatActionsInConversation:function(e,t){var i=$Support.isConversationAllowed();!i&&$Support.container.find("#showsiqconv").hide(),(!$Support.isFAQEnabled()||($FAQ.updateMessageCount(e),"newchat"!==e&&"triggerchat"!==e||!$Support.isFAQUIFocussed()))&&i&&!CallImpl.isCallWithChat&&{newchat:function(){$Support.handleNewChatInConversation(t)},pickupchat:function(){$Support.handlePickupChatInConversation("",t)},wtime:function(){$Support.handleWaitingTimeUpdateInConversation(t)},newmsg:function(){$Support.handleNewMessageInConversation(t)},triggerchat:function(){$Support.handleTriggerChatInConversation(t)},typingstatus:function(){$Support.handleAgentTypingStatusInConversation(t)},missedchat:function(){$Support.handleMissedChatInConversation(t)},missedleave:function(){$Support.handleMissedLeaveInConversation(t)},endtimerupdate:function(){$Support.handleChatEndTimerUpdateInConversation(t)},endtimerclear:function(){$Support.handleChatEndTimerClearInConversation(t)},endchat:function(){$Support.handleChatEndInConversation(t)},leavemsg:function(){$Support.handleOfflineChatInConversation(t)},formchat:function(){$Support.handleOnGoingFormInConversation(t)}}[e]()},handleNewChatInConversation:function(e){try{var t=$Support.EmbedObj,i=LSResource.getRealValue("conversation.pleasewait.toconnect"),o=!1,n=!1;if(-1!=e.chatID){var a=$Support.getRecentMessageOfOngoingChat(e);i=a.recentmsg||e.pmsg,o=a.isattachment,n=a.isvisitormsg}if(e.convongoingchatobj){if(e.convongoingchatobj.attr("id")=="conv"+e.chatID){var r=$Support.formatMessage(i,o,n);return e.convongoingchatobj.find("#convmsg").html(r),e.convongoingchatobj.find("#convwtime").removeClass("dN"),e.convongoingchatobj.trigger("click"),e.convongoingchatobj.removeAttr("status"),void(e.istriggeredchat&&(e.convongoingchatobj.attr("id","conv"+e.chatID),e.convongoingchatobj.attr("visitorid",e.visitorID),e.convongoingchatobj.attr("chid",e.chatID),e.convongoingchatobj.find("#convchatattendername").text(e.attendername?e.attendername:LSResource.getRealValue("conversation.awaitingtoconnect"))))}e.proactive&&(i=t.pmsg),e.convongoingchatobj.find(".siqc_eletype").show().html(d)[0].className="siqc_eletype",e.convongoingchatobj.attr("documentclick","fetchconvtranscript"),e.applyOngoingChatClass("siqc_cntbody",e.convongoingchatobj),e.convongoingchatobj=void 0,i=e.proactive?i:LSResource.getRealValue("conversation.pleasewait.toconnect")}!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show(),!i&&e.proactive&&(i=t.pmsg,$Support.container.find("#showsiqchatui").hide()),r=$Support.formatMessage(i,o,n);var s="";$Support.isUserLogoEnabled("",e)&&e.attenderimagefkey&&(s=$Support.Util.getPhotoURL(e.attenderimagefkey,e.attender)),(!e.convongoingchatobj||e.convongoingchatobj&&!e.istriggeredchat)&&$Support.convlistcontainer.find("#currchatconv").prepend(e.convongoingchatobj=$($Temp.getchatWaitingUIinConversation({chatID:e.chatID,question:e.question,visitorID:e.visitorID}))),e.convongoingchatobj.find("#convchatattendername").text(e.attendername?e.attendername:LSResource.getRealValue("conversation.awaitingtoconnect")),e.convongoingchatobj.find("#convchatattenderimg").attr("src",s),e.attender||e.convongoingchatobj.find(".sqico-user").addClass("convrstn-wait"),e.convongoingchatobj.find("[propval='convmsg']").html(r);var p=e.intime||e.chatintime;e.convongoingchatobj.find("#convwtime").attr("convmtime",p).html(MyDate.timeDifference(p));var d=$Support.getUnreadCount(e.chatID),c="siqc_cntbody";d?(c+=" siqc_newchat",e.convongoingchatobj.find(".siqc_eletype").show().html(d)[0].className="siqc_eletype"):e.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(c,e.convongoingchatobj);var u=ZSIQConversationManager.isChatUIFocusses(e.winid);$Support.isConversationUIFocussed()||u||!e.proactive||$Support.isFAQUIFocussed()||($Support.isConversationTransUIFocussed()||!u||$Support.convlistcontainer.scrollTop()>e.convongoingchatobj.height())&&($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUpMessageInconversation(e.attendername,i,s,e.chatID)))}catch(e){}},handleOnGoingFormInConversation:function(e){if(e){var t=e.currwinobj;t.convongoingchatobj||($Support.convlistcontainer.find("#currchatconv").prepend(t.convongoingchatobj=$($Temp.getchatWaitingUIinConversation({chatID:t.winid,question:t.question,visitorID:t.visitorID}))),$Support.convlistcontainer.find("#currchatconv").find("#convwtime").addClass("dN"),t.convongoingchatobj.find("#convchatattendername").text(getDecodedText(ZSIQConversationForm.getOperatorName())),!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show()),t.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2";var i=e&&e.msglist?e.msglist.length:"",o=i?e.msglist[i-1]:e,n=o.meta||{},a=n.input_card?n.input_card.type:n.field_name,r="classic"==e.form_type?e.title||LSResource.getRealValue("ne.operator.question",""):o.msg;r=""==r?ZSIQConversationForm.getDefaultMessage(a.replace("_","")):getEncodedText(r),r=Markdown.apply(r,!0),r=Message.format(r),t.convongoingchatobj.find("#convmsg").html(r)}},handleTriggerChatInConversation:function(e){e.isbottrigger||e.isbottrigmsg,$Support.EmbedObj,$Support.convlistcontainer.find("#currchatconv").html(e.convongoingchatobj=$($Temp.getchatWaitingUIinConversation({chatID:e.winid,question:e.question,visitorID:e.visitorID}))),e.convongoingchatobj.find("#convchatattendername").text(e.triggername);var t="",i=$Support.getRecentMessageOfOngoingChat(e).recentmsg||e.pmsg;i=i.split("<br>").join(" "),i=getEscapedText(i),e.attenderimagefkey&&$Support.isUserLogoEnabled("",e)?t=$Support.Util.getPhotoURL(e.attenderimagefkey,e.attender):e.convongoingchatobj.find(".sqico-user").addClass("convrstn-wait"),e.convongoingchatobj.find("#convchatattenderimg").attr("src",t);var o=Markdown.apply(i,!0);e.convongoingchatobj.find("#convmsg").html(o);var n=e.time||(new Date).getTime();e.convongoingchatobj.find("#convwtime").attr("convmtime",n).html(MyDate.timeDifference(n)),$Support.container.find("#showsiqchatui").hide();var a=$Support.getUnreadCount(e.chatID),r="siqc_cntbody";a?(r+=" siqc_newchat",e.convongoingchatobj.find(".siqc_eletype").show().html(a)[0].className="siqc_eletype"):e.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(r,e.convongoingchatobj),!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show();var s=ZSIQConversationManager.isChatUIFocusses(e.winid);!$Support.isConversationUIFocussed()&&s||($Support.isConversationTransUIFocussed()||!s||$Support.convlistcontainer.scrollTop()>e.convongoingchatobj.height())&&($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUpMessageInconversation(e.triggername,i,t,e.winid)))},handleWaitingTimeUpdateInConversation:function(e){if(e){var t=ZSIQConversationManager.getChatWinObjById(e.winid);if(-1!=t.chatID&&t.convongoingchatobj){var i=e.wtime;$Support.applyOngoingChatClass("siqc_cntbody siqc_time",t.convongoingchatobj),t.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype sqico-timer",t.convongoingchatobj.find("[propval='convwtime']").html(i)}}},handleMissedChatInConversation:function(e){var t=ZSIQConversationManager.getChatWinObjById(e.chid);if(t.convongoingchatobj){$Support.applyOngoingChatClass("siqc_cntbody siqc_chatend",t.convongoingchatobj);var i=LSResource.getRealValue("conversation.missedmsg"),o=$Support.EmbedObj;t.convongoingchatobj.find("#convchatattendername").text(o.attendername?o.attendername:"Missed Chat"),t.convongoingchatobj.find("[propval='convmsg']").html(i);var n=t.intime||t.chatintime;t.convongoingchatobj.find("[propval='convwtime']").attr("convmtime",n).html(MyDate.timeDifference(n)),t.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype",t.convongoingchatobj.find(".sqico-user").removeClass("convrstn-wait"),t.convongoingchatobj.find(".siqc_usrimg").addClass("sqico-missed"),t.convongoingchatobj.attr("status","end");var a=ZSIQConversationManager.isChatUIFocusses(t.winid);$Support.isConversationUIFocussed()||a||($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUPInfoMessageInConversation(DynamicMsg.fillValues(getUnescapedText($Support.EmbedObj.missedmessage)),t.winid)))}},handleMissedLeaveInConversation:function(e){var t=e.currwinobj;t.convongoingchatobj&&(t.convongoingchatobj[0].className="siqc_cntbody",t.convongoingchatobj.find("[propval='convmsg']").html(getEscapedText(e.msg)))},handlePickupChatInConversation:function(e,t){if(t.convongoingchatobj){$Support.EmbedObj;var i="";$Support.isUserLogoEnabled("",t)&&t.attenderimagefkey&&(i=$Support.Util.getPhotoURL(t.attenderimagefkey,t.attender)),$Support.applyOngoingChatClass("siqc_cntbody",t.convongoingchatobj),e||t.convongoingchatobj.find("[propval='convmsg']").html(getEscapedText(t.question)),t.convongoingchatobj.find("#convchatattendername").text(t.attendername?t.attendername:"Awaiting agent"),t.convongoingchatobj.find("#convchatattenderimg").attr("src",i);var o=t.intime||t.chatintime;t.convongoingchatobj.find("#convwtime").attr("convmtime",o).html(MyDate.timeDifference(o)),t.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",t.convongoingchatobj.find(".sqico-user").removeClass("convrstn-wait")}},handleNewMessageInConversation:function(e){var t=ZSIQConversationManager.getChatWinObjById(e.chid);if(t.convongoingchatobj){$Support.EmbedObj;var i=e.filename,o=e.content;i||(i=e.msg,"object"==typeof e.msg&&(i=e.msg.fName,o=e.msg.content)),i=e.iscannedarticle?e.cardheader:i;var n=$Support.Util.isAnnonUser(e.sender),a=Message.getDisplayContent(i);n||(a=Markdown.apply(a,!0)),a=Message.format(a);var r=$Support.Util.getFileClassType(o);a=r?'<em class="'+r+'">'+a+"</em>":a;var s="siqc_cntbody";t.convongoingchatobj.find("[propval='convmsg']").html(a);var p=$Support.getUnreadCount(t.chatID);if(p){s+=" siqc_newchat",t.convongoingchatobj.add("#conv-tab").find(".siqc_eletype").show().html(p)[0].className="siqc_eletype",$("#conv-tab").addClass("count");var d=ZSIQConversationManager.isChatUIFocusses(t.winid);if(($Support.isConversationUIFocussed()||!d)&&!Message.isLocalUser(e.sender)&&!$Support.isFAQUIFocussed()){if(!$Support.isConversationUIFocussed()&&!d||$Support.convlistcontainer.scrollTop()>t.convongoingchatobj.height()){$Support.removeConversationPopupMessage();var c="";-1!=e.sender.indexOf(t.attender)&&$Support.isUserLogoEnabled("",t)&&(c=$Support.Util.getPhotoURL(t.attenderimagefkey,t.attender)),$Support.container.append($Temp.getPopUpMessageInconversation(e.dname,a,c,t.chatID))}if(!d){var u=$Support.container.find("#showsiqconv");0==u.find("#siqnoticon").length&&u.prepend("<em id='siqnoticon'chid='"+t.chatID+"' class='siqc_prochtcls' documentclick='showchatui'></em>")}}}else t.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2";$Support.applyOngoingChatClass(s,t.convongoingchatobj)}},removeConversationPopupMessage:function(){$Support.container.find("#convpopupmsg").remove(),$Support.container.find("#convpopupmsg").remove()},handleAgentTypingStatusInConversation:function(e){var t=$Support.chidmappinglist[e.chid],i=ZSIQConversationManager.getChatWinObjById(t);if(i.convongoingchatobj){$Support.EmbedObj;var o=e.msg,n=$Support.getUnreadCount(i.chatID),a="siqc_cntbody";if(o)a+=" siqc_type",i.convongoingchatobj.find("#convmsg").html(LSResource.getRealValue("conversation.agent.typing")),i.convongoingchatobj.find(".siqc_usrimg").addClass("sqico-typing");else{var r=$Support.getRecentMessageOfOngoingChat(i),s=r.recentmsg,p=Message.getDisplayContent(s);r.isvisitormsg||(p=Markdown.apply(p,!0)),p=Message.format(p),i.convongoingchatobj.find("#convmsg").html(p),i.convongoingchatobj.find(".siqc_usrimg").removeClass("sqico-typing")}n?(a+=" siqc_newchat",i.convongoingchatobj.find(".siqc_eletype").show().html(n)[0].className="siqc_eletype"):i.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(a,i.convongoingchatobj)}},handleChatEndTimerUpdateInConversation:function(e){var t=e.currwinobj;if(t.convongoingchatobj){var i=e.isstart,o=LSResource.getRealValue("conversation.endtimer.secs",""+e.timer);$Support.applyOngoingChatClass("siqc_cntbody siqc_goend",t.convongoingchatobj),t.convongoingchatobj.find("#convwtime").html(o).show();var n=LSResource.getRealValue("conversation.chat.goingtoend");t.convongoingchatobj.find("#convmsg").html(n),t.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype sqico-alert";var a=ZSIQConversationManager.isChatUIFocusses(t.winid);if(($Support.isConversationUIFocussed()||!a)&&($Support.isConversationTransUIFocussed()||$Support.convlistcontainer.scrollTop()>t.convongoingchatobj.height())){var r=$Support.Util.getPhotoURL(t.attenderimagefkey,t.attender);if(i)$Support.container.append($Temp.getPopUpAlertInconversation(t.attendername,LSResource.getRealValue("conversation.chatsess.goingtoend"),o,r));else{var s=$Support.container.find("#convpopupmsg");0!=s.length&&s.find("#alerttimer").html(o)}if($Support.isConversationTransUIFocussed()||!a){var p=$Support.container.find("#showsiqconv");p.find("#siqnoticon").remove(),p.prepend("<em id='siqnoticon' class='sqico-alert' documentclick='showchatui'></em>")}}}},handleChatEndTimerClearInConversation:function(e){if(e.convongoingchatobj){$Support.EmbedObj;var t=$Support.getRecentMessageOfOngoingChat(e),i=t.recentmsg,o=Message.getDisplayContent(i);t.isvisitormsg||(o=Markdown.apply(o,!0)),o=Message.format(o);var n="siqc_cntbody";e.convongoingchatobj.find("#convwtime").html(MyDate.timeDifference(e.intime||e.chatintime)),e.convongoingchatobj.find("#convmsg").html(o);var a=$Support.getUnreadCount(e.chatID);a?(n+=" siqc_newchat",e.convongoingchatobj.find(".siqc_eletype").show().html(a)[0].className="siqc_eletype"):e.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.container.find("#showsiqconv").find("#siqnoticon").remove(),$Support.applyOngoingChatClass(n,e.convongoingchatobj),$Support.removeConversationPopupMessage()}},handleChatEndInConversation:function(e){var t=e.currwinobj;if(t.convongoingchatobj){$Support.EmbedObj;var i=$Support.Util.isAnnonUser(e.sender)?"siqc_cntbody":"siqc_cntbody siqc_chatend";$Support.applyOngoingChatClass(i,t.convongoingchatobj);var o=LSResource.getRealValue("converation.chat.ended");t.convongoingchatobj.find("[propval='convmsg']").html(o);var n=t.intime||t.chatintime;t.convongoingchatobj.find("[propval='convwtime']").attr("convmtime",n).html(MyDate.timeDifference(n)),t.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype",t.convongoingchatobj.attr("status","end"),$Support.removeConversationPopupMessage();var a=ZSIQConversationManager.isChatUIFocusses(t.winid);if(!$Support.isConversationUIFocussed()&&!a){var r=e.msg&&e.msg.opruser&&e.msg.opruser.dname?LSResource.getRealValue("converation.agent.chat.ended","<b>"+e.msg.opruser.dname+"</b>"):LSResource.getRealValue("converation.chat.ended");$Support.container.append($Temp.getPopUPInfoMessageInConversation(r,t.winid))}$Support.handleDomainStorage("updatecorsdata","localstorage")}},handleOfflineChatInConversation:function(e){if($Support.isConversationAllowed()){var t=[];t.push(e);var i=$Support.getParent().$ZSIQUtil.getAvuid();$Support.updateConversationCache(t,i,!0);var o=$Temp.getConversationHistoryHTML(e);$Support.convlistcontainer.find("#pastchatconv").prepend(o),!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show()}},handleChatTransferInConversationListView:function(e){if(e.convongoingchatobj){$Support.EmbedObj;var t="";$Support.isUserLogoEnabled("",e)&&e.attenderimagefkey&&(t=$Support.Util.getPhotoURL(e.attenderimagefkey,e.attender)),e.convongoingchatobj.find("#convchatattenderimg").attr("src",t),e.convongoingchatobj.find("#convchatattendername").text(e.attendername)}},getRecentMessageOfOngoingChat:function(e){$Support.EmbedObj;var t=e.question,i=!1,o=!1,n=-1!=e.chatID?e.chatID:e.winid,a=$Support.cachearr[n]||[];if(a.length){var r=a[a.length-1];if(r.msg)if(o=$Support.Util.isAnnonUser(r.sender),"object"!=typeof r.msg)t=r.iscannedarticle?r.cardheader:r.msg;else if("object"==typeof r.msg)if(r.msg.fName){t=r.msg.fName;var s=$Support.Util.getFileClassType(r.msg.content);t=s?'<em class="'+s+'">'+t+"</em>":t,i=!0}else if("cannedarticle"===r.msg.mode)t=$FAQ.getHeaderMessage(r.msg.msg);else{var p=r.msg.msglist||[],d=p.length;r.msg.form_type&&p&&d&&(t=p[d-1].msg||"",o=!0)}}return{recentmsg:t,isattachment:i,isvisitormsg:o}},applyOngoingChatClass:function(e,t){t&&(t[0].className=e)},cacheCurrentChat:function(e){if($Support.isConversationAllowed()){$Support.EmbedObj;var t=[],i={};i.attender=e.attendername,i.attenderid=e.attender,i.attender_imgkey=e.attenderimagefkey,i.question=e.question,i.chid=e.chatID,i.visitorid=e.visitorID,i.endtime=(new Date).getTime(),i.isbotattender=e.isBotChat,i.department=e.department;var o=$Support.cachearr[e.chatID]||[],n=o[o.length-1];n&&(n.iscannedarticle&&(n.msg=n.cardheader),i.lastmsg=JSON.stringify(n)),t.push(i);var a=$Support.getParent().$ZSIQUtil.getAvuid();$Support.updateConversationCache(t,a,!0)}},handleNewsLetter:function(){$Support.Util.isPreview()&&$CWPreview.handleNewsLetter()},getEmbedSize:function(){var e=$Support.getParent().$ZSIQWidget.getEmbedSize();return 1==e?2:e},getEmbedSizeClass:function(){return $Support.isMobileWidth()?"":" zsiq_size"+$Support.getEmbedSize()},removeWidget:function(){try{$Support.getParent().$zoho.salesiq.tracking.off()}catch(e){}var e=$Support.getParent().$ZSIQChatWindow.getChatWindowDiv(),t=$Support.getParent().$ZSIQWidgetUI.getWidgetDiv();e&&e.remove(),t&&t.remove()},handleBotTransferAccept:function(e){var t=ZSIQConversationManager.getChatWinObjById(e);$Support.removeCookie("ZLD"+$Support.EmbedObj.livelsid+"WAITING"),$UI.removeCWaitHandler(),clearTimeout(t.waitTimer),$UI.removeTransferDiv("",t),delete t.waitTimer,delete t.waitingtime,delete t.isBotChat,delete t.botchatprops,$Support.handlePickupChatInConversation(!0,t);var i=$TH.getHeader();$Support.isUserLogoEnabled("",t)&&i.find(".cmplogo").attr("data-chttype","agent"),$UI.populateUserAction(t)},isChatExist:function(){var e=($Support.getCookieValue("ZLD"+$Support.EmbedObj.livelsid)||{}).ongoingchats||{},t=($Support.getWaitingCookie()||{}).ongoingchats||{};return 0<Object.keys(e).length||0<Object.keys(t).length},isOnlineChat:function(){return $Support.EmbedObj.status},isMacOS:function(){return!!navigator.platform.match(/Mac/i)},openClassicUI:function(){$Support.isChatExist()||0<$Support.convlistcontainer.find("#pastchatconv").find(".siqc_cntbody").length&&$Support.container.find("#showsiqchatui").click()},isFAQEnabled:function(){var e=$Support.EmbedObj.faqaccess;return!!Licence.verify("faqallowed")&&!!e.length&&1==$Support.EmbedObj.faqaccess[0]},getConversationData:function(){var e=$Support.getParent().$ZSIQUtil.getAvuid();return $Support.LSDB.getFromSession(e+"_conversation")},isShowConversationArrow:function(e){return $Support.getConversationData()||e.convongoingchatobj||$Support.isChatExist()},getRecentLiveChatid:function(){var e=($Support.getWaitingCookie()||{}).ongoingchats||{};if(Object.keys(e)[0])return Object.keys(e)[0];var t=($Support.getCookieValue("ZLD"+$Support.EmbedObj.livelsid)||{}).ongoingchats||{};if(Object.keys(t)[0])return Object.keys(t)[0];var i=$Support.getTriggerCookie()||{};return i?i.winid:void 0},showConversation:function(e){if(e.addClass("sel").next(".sel").removeClass("sel"),$("#conv-tab").removeClass("count").find(".siqc_eletype").hide(),!$Support.getConversationData()||$Support.isChatExist()||$Support.getTriggerCookie()){if(!$Support.Util.checkToShowConversationEmptyPage()){var t=ZSIQConversationManager.getcurrchatwinobj();t.contentdiv&&t.contentdiv.hide(),ZSIQConversationManager.resetLastViewd();var i=$Support.getRecentLiveChatid(),o=i?$("<div>",{chid:i}):"";return i?$Support.Util.showMessageAreaUI("","",o):$Support.Util.showMessageAreaUI("showsiqchatui"),void(i&&$Support.Util.calculateTextareaHeight(ZSIQConversationManager.getChatWinObjById(i)))}$Support.Util.showConversationEmptyPage(e)}else $Support.Util.showConversationListUI(e)},isFAQUIFocussed:function(){try{return"faqview"===$Support.container.attr("cwview")}catch(e){}return!1},handleVTransLang:function(e){var t=$Support.getParent(),i=t.$ZSIQChat.getWidgetData().widgetobj,o=t.$ZSIQWidget.getEmbedObject().pinfo,n=1==i.isgdprenabled,a=$Support.chidmappinglist[e.chid],r=ZSIQConversationManager.getChatWinObjById(a),s=!1;if(o&&o.pinfo){var p=o.pinfo;s=JSON.parse(p.isgdprenabled)}if(s){if(n||(2==e.GDPRStatus&&$Support.handleVTransLangStatus(1,e.lang,r),e.GDPRStatus=0),1==JSON.parse(e.GDPRStatus)){var d=$UI.getTranslateBannerHTML(getUnescapedText(r.attendername),o.pinfo.gtpolicyurl);r.contentdiv.find(".chtcont").after(d),$Support.Util.calculateTextareaHeight(r)}else 2==JSON.parse(e.GDPRStatus)&&$UI.appendGTConsentDiv(o.pinfo.gtpolicyurl,e.lang,r.chatdiv);ZSIQTranscript.scroll()}},handleVTransLangStatus:function(e,t,i){i=i||ZSIQConversationManager.getcurrchatwinobj(),$UI.removeGTConsentDiv();var o=$Support.getAjaxURL("setvtranslang",dext),n=lsnocachefix("json");n.chid=i.chatID,n.visitorid=i.visitorID,n.gdprstatus=e,n.attender=i.attender,n.lang=t,$.ajax({url:o,data:n,type:"POST"})},handleBotSkipOffline:function(e){var t=ZSIQConversationManager.getChatWinObjById(e);clearTimeout(t.waitTimer),delete t.waitingtime,$UI.hideBanner(),this.removeWaitingCookie(t.chatID),t.contentdiv.find(".msgbox textarea").stop(),$UI.updateOfflineUI(!0),$Support.container.addClass("outerwin"),$Support.Util.showOfflineBanner(),t.contentdiv.find(".zsiq_transferdiv").remove()},handleBotTrigger:function(e,t){var i=e.msg,o=i.lsid;if(!o||o==$Support.EmbedObj.livelsid){i.msglist;var n={isbottrigger:!0,attenderdetails:{attender:i.attender},message:i,sendername:i.dname,time:i.time},a=i.departments;a&&(n.departments=a),$Support.setTriggerCookie(n),!t.repopulate&&$Support.getParent().$ZSIQChatWindow.openChatWindow(!0),t.department=1==a.length?a[0]:t.department,t.pmsg=e.msg,$BotImpl.formatAndDisplay(e,t.winid),$Support.Util.updateHeader(e.msg),$Support.Util.updateViewAttribute("msgarea"),$('[data-chttype="agent"]').removeClass("sqico-chat"),$Support.container.find("#showsiqchatui").hide(),$Support.handleTriggerChatInConversation(t),!$Support.isConversationAllowed()&&$Support.container.find("#showsiqconv").hide()}},getOrderedDepartmentList:function(){var e=$Support.getApiDepartment(),t=$Support.EmbedObj.deptlist,i=[];if(!e.length)return t;for(var o in e)for(var n in t){var a=t[n];if(a.NAME==getEncodedText(e[o])){i.push(a);break}}return i},getEmbedDepartments:function(){var e=$Support.getOrderedDepartmentList(),t=ZSIQConversationManager.getcurrchatwinobj();if($Support.getParent().$ZSIQChat.isAgentSpcificSignatureChat()&&(e=$Support.convertDeptStatus(e)),!t.isbottrigmsg)return e;var i=$Support.getTriggerCookie();if(i&&i.departments){for(var o=i.departments,n=[],a=0;a<e.length;a++){var r=e[a],s=r.ID;-1!=o.indexOf(s)&&n.push(r)}return n}return e},convertDeptStatus:function(e){for(var t=e.length,i=$Support.EmbedObj.status,o=0;o<t;o++)e[o].STATUS=i;return e},updateSIQFields:function(e){var t=e.name;if(t){var i=t.split("_");"siq"===i[0]&&(i=i.splice(1),$Support.SIQFieldname=i.join("_"))}else if($Support.SIQFieldname&&e.value){var o=$Support.SIQFieldname;delete $Support.SIQFieldname,$Support.updateVisitorData(o,e.value)}},updateVisitorData:function(e,t){if(-1!=["name","email","phone"].indexOf(e)){var i={};i[e]=t;var o=$Support.EmbedObj,n=i.name||o.visitorname,a=i.email||o.visitoremail,r=i.phone||o.visitorphone;$Support.updateVisitorInfo(n,a,r)}},handleBotTransfer:function(e,t){$Support.transferChat(e,t)},handleBotProgressInfo:function(e){var t=$("#typgstatus");t.text(e.text),t.attr("title",e.text)},showRepliesNow:function(e){var t=e.replies;if(t&&0<t.length)for(var i in t){var o=t[i];Message.formatAndDisplay({sender:e.sender,time:e.time,dname:e.dname,msg:o.text,image:o.image})}},getBroadcastText:function(){return this.LSDB.get("ZSIQ"+$Support.EmbedObj.chatID+"BROATCAST")},removeBroadCast:function(){var e=$Support.EmbedObj;return delete $Support["broadcasted_"+e.visitorID],this.LSDB.remove("ZSIQ"+e.chatID+"BROATCAST")},getprefixURL:function(){return _SCHEMA+"://"+_EMBEDSERVERURL},handleBotContextTimeout:function(){$Widget.skipQuestion()},clearBotQuestionTimeout:function(){$Support.BOT_TIMER&&clearTimeout($Support.BOT_TIMER)},getSkipObj:function(){delete $Support.SIQFieldname;var e=$Support.EmbedObj;return{chatid:e.chatID,url:$Support.getprefixURL()+"/visitor/v2/"+_SCREENNAME+"/chat/"+e.chatID+"/skip?sender="+e.vwmsid+"&visitor_id="+e.visitorID,data:{sender:e.vwmsid,visitor_id:e.visitorID},bottimer:$Support.BOT_TIMER,vwmsid:e.vwmsid,visitorID:e.visitorID}},getZMapKeys:function(){var e=$Support.getParent().$ZSIQWidget.getWidgetObject();return{zmapapicss:e.zmapapicss,zmapstaticurl:e.zmapstaticurl,zmapapiurl:e.zmapapiurl,zmapapikey:e.zmapapikey,mapboxgl:$Support.getParent().mapboxgl}},getThemeID:function(){return parseInt($Support.theme.replace("theme",""))},isNewHeader:function(){return-1!=[4,8,9,10].indexOf($Support.getThemeID())},isUserLogoEnabled:function(e,t){t=t||{};var i=$Support.EmbedObj;return!(e||!t.isBotChat&&!t.isbotpickup)||!i||e&&e.isbotattender||JSON.parse(i.eprops.icphoto)},hideBotEditUICB:function(){$Support.isbottrigmsg&&($Support.chatWindowUICallBk(),$BotImpl.resetDisableComposerTimer(),$BotImpl.resetMessageSequence())},getDStorageIframe:function(){try{var e=document.getElementById("dstorageframe");return e.contentWindow||e.contentDocument.document||e.contentDocument}catch(e){return null}},dCookieCallbackHandler:function(e){if(e){var t=parseInt(e[$Support.zohopublickeys.cookie[0]]),i=e[$Support.zohopublickeys.cookie[1]];0!=t&&1!=t||$Support.getParent().$ZSIQUtil.updateCookieForTracking(t,i)}},dStorageCallbackHandler:function(e){for(var t in e)e[t]&&(t===$Support.zohopublickeys.localstorage[1]&&($Support.updateCommonKeys(e[t]),e[t].time=(new Date).getTime()),$Support.LSDB.storeInLocalStorage(t,e[t]));if(-1!=$Support.EmbedObj.chatID){var i=$Support.getParent();$Support.deleteTriggerCookie(),i.$ZSIQChat.init(),i.$ZSIQChatWindow.openChatWindow()}},setValueInDStorage:function(e,t,i,o,n){var a={};a.key=e,a.value=t,a.expiry=o,a.domain=n,a.operation={localstorage:"setvalue",cookie:"setcookie"}[i],$Support.getDStorageIframe().postMessage(CommonUtil.toJSON(a),$Support.postMesaageUrl)},getValueFromDStorage:function(e,t){var i={};i.keys=CommonUtil.toJSON(e),i.operation="get"+t+"values",e&&$Support.getDStorageIframe().postMessage(CommonUtil.toJSON(i),$Support.postMesaageUrl)},handleDomainStorage:function(e,t){var i={localstorage:$Support.LSDB.getFromLocalStorage,cookie:$Support.getParent().$ZSIQCookie.get};if($Support.verifyChatDomain())if($Support.getDStorageIframe())if("updatecorsdata"===e)for(var o in $Support.zohopublickeys[t]){var n=$Support.zohopublickeys[t][o];$Support.setValueInDStorage(n,i[t](n),t)}else"getcorsdata"===e&&("cookie"!=t||$Support.isCookieExists($Support.zohopublickeys[t])?"localstorage"==t&&$Support.getValueFromDStorage($Support.zohopublickeys[t],t):$Support.getValueFromDStorage($Support.zohopublickeys[t],t));else"updatecorsdata"==e&&"cookie"==t&&($Support.__queue__=!0)},verifyChatDomain:function(){return"true"==$Support.getParent().$zv.enablecrossdomain},synchronizeDomainStorage:function(){var e=$Support.EmbedObj.livelsid,t=$Support.getParent().$ZSIQUtil.getGDPRBannerCookieKey();$Support.zohopublickeys={localstorage:["ZLD"+e+"tabowner","ZLD"+e,"ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid"],cookie:[t+"__donottrack",t+"_trackingconfig"]},$Support.postMesaageUrl=_SCHEMA+"://"+_EMBEDSERVERURL+"/setsiqval.ls";var i=$Support.__queue__?"updatecorsdata":"getcorsdata";$Support.LSDB.get("ZLD"+e+"WTIME")||-1!=$Support.EmbedObj.chatID||(1==$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.isgdprenabled&&($Support.handleDomainStorage(i,"cookie"),delete $Support.__queue__),$Support.handleDomainStorage("getcorsdata","localstorage"))},isCookieExists:function(e){for(var t in e){var i=e[t];if($Support.getParent().$ZSIQCookie.get(i))return!0}return!1},reload:function(){setTimeout(function(){var e=$Support.EmbedObj;$Support.callquitstatus=!1,e.setVisitorID(-1),e.setChatID(-1),e.setVisitID(-1),e.setPrevCHID(-1),$BotImpl.resetDisableComposerTimer(),ZSIQConversationManager.resetLastViewd(),$Support.deletePrechatVal(),e.setAttender(""),e.setAttenderZUID(""),$Support.EmbedObj.attenderemail="",Message.presender="",$Support.checkAndShowUI()},500)},getChatID:function(){return ZSIQConversationManager.getcurrchatwinobj().chatID||-1},isSeasonalTheme:function(){return parent.$ZSIQChat.isSeasonalTheme()&&!$Support.Util.isPreview()},getApiDepartment:function(){return $Support.getParent().$zv.department||[]},getCustomFields:function(){return $Support.getParent().$ZSIQUtil.getAPIValues().customfield},setLoadContentClass:function(){parent.$ZSIQChatWindow.setLoadContentClass()},getFreeLogo:function(e){var t=e.parent().find("#siqfreelogo");return 0!=t.length&&t.parent().is(":visible")||(t=$("footer").find("#siqfreelogo")),t},isIframeContentLoaded:function(){return $("body").hasClass("loadframe")},enableHeaderImage:function(){var e=$("#complogo");e.attr("src")?e.removeAttr("data-src"):e.attr("src",e.attr("data-src")).removeAttr("data-src")},handlePostLoadScript:function(){!$Support.isMobileWidth()&&$(document).ztooltip&&$(document).ztooltip(),$Support.enableHeaderImage(),$Support.isConversationAllowed()?$Support.container.find("#showsiqconv").click():$Support.Util.checkToShowConversationEmptyPage()&&$Support.Util.showConversationEmptyPage()},handleJoinSupport:function(e){$Support.clearBotQuestionTimeout(),$Support.deleteBotCookie(e),delete $Support.isBotChat,ZSIQConversationManager.getChatWinObjById(e).contentdiv.find("#conversationoption").remove()},getTranscriptFromSession:function(e){var t=$Support.LSDB.getFromSession(e+"_transcript");try{t&&"string"==typeof t&&(t=JSON.parse(t))}catch(e){}return t},getChatWindowTitle:function(e,t){var i=$Support.EmbedObj,o=$Support.getParent().$ZSIQUtil.getAPIValues()||{};return(t?{1:!0,2:!1}[t]:-1==i.department||o.agent?i.status:ZSIQConversationForm.getSelectedDeptstatus())?e||o.floatwindowonlinetitle||LSResource.getRealValue("ne.chatwithus"):e||o.floatwindowofflinetitle||LSResource.getRealValue("ne.offlinemessage")},handleUploadImageLoad:function(e){var t=$(e);if("msgarea"==$Support.container.attr("cwview"))return $Support.Util.isMessageDIVScrolled()?void t.show():(t.show(),void ZSIQTranscript.scroll());t.show()},isBotAvailable:function(e){var t=$Support.getBotUser(e);return t&&t.length},handleCallbackForchatContinue:function(e,t){var i=$Support.EmbedObj;if(e&&"function"==typeof $Support.getParent().$zcb["chat.continue"]){t=e.proactive?"Operator initiated chat":t,t=e.istriggeredchat?"Waiting":t;var o={attendername:e.attendername,attenderemail:e.attenderemail,department:$Support.getDeptName(e.department),visitorname:i.visitorname,visitoremail:i.visitoremail,visitorphone:i.visitorphone,question:e.question,"start-time":e.intime||e.chatintime,visitid:e.VISITID||"-",chatstatus:t};$.each(o,function(e,t){null==t&&delete o[e]}),$Support.Util.handleCallbacks("chat.continue",o)}},checkAndPopulateLastMessage:function(){try{var e=$Support.getTriggerCookie().message;if(!$BotImpl.isBotMessage(e))return;e.message?e.message.msglist[0].meta.typing_delay=0:e.msglist[0].meta.typing_delay=0,$Support.chatdiv.html(""),$UI.populateVisitorQuestion(e)}catch(e){}},getJSAPIMessageHint:function(){var e=$Support.EmbedObj.messagehint;if(e)return e;var t=$Support.getParent().$ZSIQUtil.getAPIValues();return t?t.messagehint:""},getReactionIndex:function(e){return $Support.EmbedObj["feedbackcomplete"+e]||LSResource.getRealValue("ne.rating."+e)},toggleDirectCall:function(e){e?($("body").addClass("calltheme"),$($Support.getParent().document.body).find(".siqembed").addClass("siq-calthememin")):($("body").removeClass("calltheme"),$($Support.getParent().document.body).find(".siqembed").removeClass("siq-calthememin"))},checkAndRemoveBotattender:function(e){var t=ZSIQConversationManager.getChatWinObjById(e),i=$Support.getBotUser(t.department),o=SUPPORT_REPS[e]||{};i&&"object"==typeof i&&-1!=i.indexOf($Support.EmbedObj.attender)?delete o[LSMessanger.getPrd()+"_"+$Support.getParent().$ZSIQWidget.getEmbedObject().pinfo.soid+"_b"+t.attender]:delete o[LSMessanger.getPrd()+"_"+$Support.getParent().$ZSIQWidget.getEmbedObject().pinfo.soid+"_"+t.attender]},handleReopenWaitingUI:function(e,t){var i=e.val();if($Support.EmbedObj,t&&13!=t||""===$.trim(i))t?e.removeClass("errfield"):e.addClass("errfield");else{e.val("");var o=e.attr("txtarea-id"),n=ZSIQConversationManager.getChatWinObjById(o);if(n.composer.show(),n.composer.attr("disabled","true"),n.reopenques=getEscapedText(i),n.showReopenWaitingUI(),$TH.checkAndShowBotTyping&&$TH.checkAndShowBotTyping(n.department),!LSMessanger.sid)return $Support.updateVisitorName(),$Support.checkAndRegisterWms(),void($Support.reopenobj=n);$Support.Util.hideConversation(),$Support.Util.updateViewAttribute("msgarea"),$Support.reOpenChat(n)}},reOpenChat:function(r){delete $Support.reopenobj;var e={},t=r.visitorID,i=Browser.getInfo()||{};LSMessanger.setNickName($Support.EmbedObj.visitorname),r.reopenwaiting=!0,e.visitor={user_id:$Support.EmbedObj.vwmsid,avuid:$Support.getParent().$ZSIQUtil.getAvuid(),platform:navigator.platform,color_code:i.color,cookie_enabled:i.cookie,current_page:i.currentpage,java_enabled:i.java,js_version:i.jsversion,screen:i.screen,page_title:i.title,country_code:i.ccode,flash_version:i.flashversion,local_time_zone:i.localtime,referrer:i.referrer},e.visitor.cvuid=$Support.getParent().$ZSIQUtil.getAPIVisitorID(),e.message=r.reopenques,e.uvid=$EmbedManger.getuvid();var o=$Support.getApiURl()+"/"+t+"/reopen";$.ajax({url:o,type:"POST",data:JSON.stringify(e),beforeSend:function(e){e.setRequestHeader("X-SIQ-Channel","website")},contentType:"application/json",success:function(e){var t=e.data||{};if(3!=(t.chat_status||{}).state){var i=t.visitor||{},o=$Support.getParent().$ZSIQUtil.getAvuid();r.visitorname=i.name,r.visitoremail=i.email,r.visitorphone=i.phone,r.RCHID=t.wms_chat_id,r.chatID=t.chat_id,"pastconv"==r.chatstatus&&delete r.chatstatus,$Support.chidmappinglist[r.RCHID]=r.chatID,"connected"!==r.chatstatus&&$Support.setWaitingCookie(r),r.composer&&r.composer.removeAttr("disabled"),$Support.convlistcontainer.find("#pastchatconv").find("[chid = "+r.chatID+"]").remove();var n=$Support.LSDB.getFromSession(o+"_conversation"),a=n.map(function(e){return e.chid}).indexOf(t.chat_id);r.isofflinechat&&(a=n.map(function(e){return e.visitorid}).indexOf(t.id)),n.splice(a,1),$Support.LSDB.storeInSession(o+"_conversation",n),r.isofflinechat&&($Support.EmbedObj.setEmbedStatus(!0),-1==$Support.EmbedObj.department&&$Support.handleDeptBasedStatusChange(r.department,!0),r.updateChatInfoinInstanceDom(),$Support.convlistcontainer.find("[visitorid="+r.visitorID+"]").remove(),delete r.isofflinechat),$Support.handleOnGoingchatActionsInConversation("newchat",r),LSMessanger.joinchat(r.chatID,$Support.EmbedObj.vwmsid,"","",r.visitorID)}else $Support.handleReopenStatusChange(r)}.bind(r),error:function(){}})},handleReopenStatusChange:function(e){var t=$Support.EmbedObj;$Support.removeWaitingCookie(e.chatID),$Support.removeWtimeCookie(e.chatID),clearTimeout(e.waitTimer),(e.chatID=-1)==t.department&&$Support.handleDeptBasedStatusChange(e.department,!1);var i=!!$Support.getOnlineDeptCount();t.setEmbedStatus(i),clearTimeout(e.bnrtimer),delete e.waitingtime,e.contentdiv.find('[proptype="info_banr"]').remove(),e.hideMaskDiv(),e.chatmaindiv.after(e.chatendmsg=$($Temp.getChatEndHTML(!0))),e.composer.hide(),e.contentdiv.find("div.usrinpt").hide(),e.showBanner(LSResource.getRealValue("ne.offlinerespmsg"),!0),e.convongoingchatobj.find(".siqc_eletype").attr("class","siqc_eletype")},makeJoinChat:function(e,t){var i=($Support.getCookieValue("ZLD"+$Support.EmbedObj.livelsid)||{}).ongoingchats||{};for(var o in i)if(i.hasOwnProperty(o)){var n=i[o].cid;LSMessanger.joinchat(n,$EmbedManger.getvwmsid(),e,t),-1==$Support.joinedchatkeys.indexOf(n)&&$Support.handleCallbackForchatContinue(ZSIQConversationManager.getChatWinObjById(n),"Ongoing")}},removeEndedChatInstanceAndElement:function(){$Support.convlistcontainer&&$Support.convlistcontainer.find("#currchatconv").find('[status="end"]').each(function(){var e=$(this);ZSIQConversationManager.removeFromConvDB(e.attr("chid")),e.remove(),$Support.convlistcontainer.find("#pastchatconv").empty()})},handleWidgetCustomAction:function(e,t){var i=($Support.getParent().$zohosq||{}).clientactions||{};i[e]&&"function"==typeof i[e]&&i[e](t)},pushToJoinChat:function(e){-1==$Support.joinedchatkeys.indexOf(e)&&$Support.joinedchatkeys.push(e)},quitConnetcedChats:function(){var e=$Support.EmbedObj,t=($Support.getCookieValue("ZLD"+e.livelsid)||{}).ongoingchats||{},i=ZSIQConversationManager.getChatWinObjById(Object.keys(t)[0]);!$.isEmptyObject(i)&&$Support.quitChat(i)}};var ZSIQConversationManager=function(){var a={},n=-1,o=function(t){this.winid=t.winid||t.cid||t.chid||t.vid,this.chatID=t.cid||t.chid||-1,this.visitorID=t.vid||-1,this.attender=t.attender,this.attenderemail=t.attenderemail,this.attendername=t["attname_"+this.visitorID]||t.attendername,this.question=t.ques,this.attenderimagefkey=t.imagefkey||t.attender_imagefkey,this.department=t.did||$Support.EmbedObj.department||-1,this.attenderuseragent=t.attenderuseragent,this.chatintime=t.chatintime,this.VISITID=t.visitid,this.isforwardchat=t.isforwardchat,this.proactive=t.proactive||t.isproactive,this.istriggeredchat=t.istriggeredchat,this.isBotChat=t.isbotchat,this.isbottrigmsg=t.isbottrigmsg,this.botchatprops=t.botchatprops,this.waitinghandlerprops=t.waitinghandlerprops,this.RCHID=t.RCHID||t.rcid,this.isofflinechat=!(t.cid||t.chid||!t.vid),this.msglist=t.msglist,this.pmsg=t.pmsg,this.triggername=t.triggername,this.istrigmsg=t.istrigmsg,this.attenderaboutme=t["aboutme_"+this.visitorID]||t.attenderaboutme||t.aboutme,this.repopulate=t.repopulate};return o.prototype={populateChatArea:function(){var t=$Support.EmbedObj;$Support.updateVisitorName(),LSMessanger.setNickName(t.visitorname),$Support.checkAndRegisterWms(),$UI.setInnerHeader(this),this.isBotChat&&"-1"!=this.chatID&&(this.hidetransfer=$Support.LSDB.getFromSession(this.chatID+"_handoff")),this.chatstatus="connected",this.updateTranscriptFromSession(this),this.checkAndUpdateContentdivView(),this.proactive&&ZSIQConversationForm.checkAndGetFormTranscript(this);try{var i=ZSIQConversationManager.getChatWinObjById(this.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(i)}catch(t){}},updateTranscriptFromSession:function(){var i=$Support.EmbedObj;try{var t=$Support.getTranscriptFromSession(this.winid);t&&t.length&&(myMsgObj.sender=i.vwmsid,myMsgObj.dname=i.visitorname,this.showChatUI(t))}catch(t){throw LSDebugger.pushDebugInfo("Exception stack: "+t.stack||t.stacktrace||""),LSDebugger.postDebugInfo("Failed in updateTranscriptFromSession | Exception "+t+" | chid - "+this.winid+" | VISITID - "+this.VISITID+" | visitorID - "+this.visitorID+" | vwmsid - "+i.vwmsid+" | sid - "+LSMessanger.getSid(),null,null,!0),t}},showChatUI:function(t){this.contentdiv||(this.updateInnerBody(),$UI.setFooter(),n===this.winid&&$Support.Util.hideFooter(),$Support.Util.handleResize(this));try{$Support.Util.populateChatUI(t),SiqAVRouter.container.detailsHandler.triggerIconCheck(this.RCHID)}catch(t){var i=$Support.EmbedObj;LSDebugger.pushDebugInfo("Exception stack: "+t.stack||t.stacktrace||""),LSDebugger.postDebugInfo("Failed in populateChatUI | Exception "+t+" | chid - "+this.chatID+" | VISITID - "+this.VISITID+" | visitorID - "+this.visitorID+" | vwmsid - "+i.vwmsid+" | sid - "+LSMessanger.getSid(),null,null,!0)}},updateInnerBody:function(){$Support.container.append(this.contentdiv=$($Temp.getChatAreaHTML(this).replace(/{CONTENTDIV}/g,this.winid).replace(/{TXTAREAID}/g,this.winid))).append($Support.convlistcontainer?"":$Support.convlistcontainer=$($Temp.getConversationContainerHTML())).append($Support.convtranscontainer?"":$Support.convtranscontainer=$($Temp.getConversationTranscriptContainerHTML())),this.chatdiv=this.contentdiv.find('[proptype="msgdiv"]'),this.chatmaindiv=this.contentdiv.find('[proptype="msgmaindiv"]'),this.composer=this.contentdiv.find('[proptype="msgarea"]'),this.handlePaste(),$Support.bindScrollForConversationListContainer(),this.checkAndUpdateContentdivView()},updateWaitingTime:function(){var t=this.wait_div,i=MyDate.formatMS(1e3*this.waitingtime);t&&t.html(i);var e={};e.wtime=i,e.winid=this.winid,$Support.handleOnGoingchatActionsInConversation("wtime",e)},handleWaitingDisplay:function(t,i,e,n){if(!this.istriggeredchat){var s=$Support.getWaitingHandlerCookie(this);if(!s)return $Support.removeWaitingCookie(this.winid),$Support.removeWtimeCookie(this.winid),clearTimeout(this.waitTimer),void $Support.restartchat(!0);if(n)return this.waitingtime=$Support.EmbedObj.embedwaitingtime,void this.showWaitingUI(!0);clearTimeout(this.waitTimer);var o=this.remwaitingtime=s.remwaitingtime,a=Math.round(o/1e3),r=$Support.EmbedObj;this.waitingtime=a;var d=void 0===$Support.nochatforward||$Support.nochatforward;if(this.attender&&d&&this.waitingtime==Math.floor(r.embedwaitingtime/2)&&!i&&!this.reopenwaiting&&($Support["broadcasted_"+this.visitorID]||($Support.broadcastVisitor("",this),$Support["broadcasted_"+r.visitorID]=!0)),o<=0)if($Support.removeWtimeCookie(this.chatID),delete this.reopenwaiting,$Support.removeBroadCast(),i){this.botchatprops.status="missed",$Support.setCookie(),$UI.showTransferMissed(this);var p={};p.chid=this.chid,$Support.handleOnGoingchatActionsInConversation("missedchat",p)}else $Support.handleMissed("CWTOUT","2",!0,this);else{if($Support.Util.isApiWaitHandler())try{$Support.Util.handleCallbacks("chat.waitinghandler",{WTIME:r.embedwaitingtime,CURRENTTIME:a,waitingtime:r.embedwaitingtime,currenttime:a})}catch(t){}t?this.updateWaitingTime():this.showWaitingUI(e),this.stepinterval||(this.stepinterval=500),this.waitTimer=setTimeout(function(){this.handleWaitingDisplay(!0,i)}.bind(this),this.stepinterval)}}},initiateChat:function(t){var i=$Support.EmbedObj;i.curraddvistid=this.winid,!(i.isreopenenabled||!i.lastdeptid||this.department&&-1!=this.department)&&(this.department=i.lastdeptid),this.intime=(new Date).getTime(),$Support.removeBroadCast(),delete $Support.SIQFieldname;var e=$Support.getBotUser(this.department),n=this.attender;if(!n){var s=$Support.LSDB.get("ZLDPERSONALIZE");n=$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&s?s:void 0}var o=!e||n&&-1==e.indexOf(n),a=1==$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.isgdprenabled,r=$Support.EmbedObj.pprops,d=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent"),p=r.chatcookiepolicyurl,h=!(!a||!JSON.parse(r.isgdprenabled)||1!=JSON.parse(r.chatprivacyconfig)||d);if($Support.updateWaitingCookie("",this.winid),this.handleWaitingDisplay(null,null,!o,h),LSMessanger.setNickName($Support.EmbedObj.visitorname),h){var c=this.contentdiv;return c.find(".sqico-edit").remove(),c.find("div[purpose=name]").attr("documentclick",""),this.hideUserEditUI(),$UI.appendChatConsentDiv(t,!1,p,this),void ZSIQTranscript.scroll()}this.istriggeredchat&&!ZSIQConversationForm.checkContextInitiated()&&$Support.showVisitorQuestion(this),t||LSMessanger.sid?$Support.addVisitor():$Support.EmbedObj.vwmsid?LSMessanger.register($Support.Util.productCode,$Support.EmbedObj.vwmsid):$Support.getAnnonID($Support.EmbedObj.visitorname),$TH.checkAndShowBotTyping&&$TH.checkAndShowBotTyping(this.department)},updateFooter:function(){$Support.container.find("footer").remove().end().append($Temp.getFooterHTML()),$Support.isConversationUIFocussed()&&!$Support.isFAQEnabled()&&$Support.container.find("footer").hide(),$Support.container.append($Temp.getConversationCreateChatIConHTML()),$TH.populateSendBtn(),$Support.Util.handleResize(this),$Support.Util.isCampaignEnabled()&&($Support.subscribe=!1,$("#newsletter").on("change",function(){$Support.subscribe=$(this).is(":checked")}));var t=$("#chatconsent");$Support.Util.getChatConsentStatus()&&1==t.length&&$("#chatconsent").on("change",function(){1==$(this).is(":checked")?$Support.toggleSendButton($Support.getComposer()):$Support.Util.removeSendClickAction()})},showBanner:function(t,i,e,n,s,o){if(0!=t.length){var a=this.contentdiv,r=!1;a.find('[proptype="info_banr"]').length||(r=!0,a.prepend($Temp.getBannerHTML(t,i,s,o)),t=""),this.showInfoBanner(t,i,r,e,n)}},showInfoBanner:function(t,i,e,n,s){var o=this;clearTimeout(o.bnrtimer);var a=this.contentdiv.find('[proptype="info_banr"]');a.removeClass("dN"),$Support.container.hasClass("outerwin")?a.addClass("relate"):a.removeClass("relate"),$Support.EmbedObj.bushrstatus?a.addClass("bsnshrs"):a.removeClass("bsnshrs"),t?$Support.Util.handleBannerSlide(t,a):e&&a.hide().slideDown(500,function(){}),i&&(s=s&&5e3<=s?s:5e3,o.bnrtimer=setTimeout(function(){o.hideBanner(n)},s))},removeSmileyIcon:function(){this.contentdiv.find("#smiley").remove(),this.contentdiv.find('[proptype="action_icons"]').remove()},populateIcon:function(){this.removeSmileyIcon(),this.contentdiv.find('[proptype="smilelist"]').after($Temp.getIconHTML&&$Temp.getIconHTML().replace(/{SMILEY}/g,this.winid).replace(/{FILEUPLOAD}/g,this.winid).replace(/{SQICOSEND}/g,this.winid))},hideBanner:function(t){this.contentdiv.find('[proptype="info_banr"]').slideUp(500,function(){$(this).remove(),"function"==typeof t&&t()})},showWaitingUI:function(t,i){$Support.Util.removeSendClickAction(),!ZSIQConversationForm.isOldFormView()&&ZSIQConversationForm.checkContextInitiated()||this.showChatArea(t,i);var e=$Support.getBroadcastText();e?this.showBanner(DynamicMsg.fillValues(e)):t||this.showWaitingDialog()},handleWaitingCookie:function(){if(!$Support.isFloat())return!1;var t=$Support.EmbedObj;$Support.checkAndRegisterWms(),LSMessanger.setNickName(t.visitorname),$UI.setHeader(),$UI.setBody(!0),$UI.setFooter(),DynamicMsg.setValues($Support.getValuesForDynamicMsg()),this.handleWaitingDisplay(""),this.checkAndUpdateContentdivView(),this.chatID&&this.updateTranscriptFromSession()},showChatArea:function(t,i){var e=$Support,n=e.container,s=e.EmbedObj,o=n.find("[type="+this.winid+"msgdiv]").find(".siq-user-message"),a=$Support.getParent().$ZSIQUtil.getAPIValues();if(0!=o.length&&-1===this.chatID&&e.istrigmsg&&a.mtrigger){var r=o.html();if(r){var d=r.split("<br>");for(var p in d)d[p]=getEscapedText(d[p]);s.pmsg=d.join("<br>")+"<br>"+getEscapedText(s.pmsg);var h=$Support.getTriggerCookie();h.message=s.pmsg,$Support.setTriggerCookie(h,!0)}}else if(this.pmsg&&"BOT_MESSAGE"!=this.pmsg.mode){var c=s.pmsg?s.pmsg.split("<br>"):[];for(var p in c)c[p]=getEscapedText(c[p]);s.pmsg=c.join("<br>")}7==$Support.getThemeID()&&n.removeClass("outerwin"),this.contentdiv||(e.contentdiv?(e.contentdiv.replaceWith(this.contentdiv=$($Temp.getChatAreaHTML().replace(/{CONTENTDIV}/g,this.winid).replace(/{TXTAREAID}/g,this.winid))),e.contentdiv.hide()):this.contentdiv=$($Temp.getChatAreaHTML(this).replace(/{CONTENTDIV}/g,this.winid).replace(/{TXTAREAID}/g,this.winid)).insertAfter($Support.container.find("header")),this.chatdiv=this.contentdiv.find('[proptype="msgdiv"]'),this.chatmaindiv=this.contentdiv.find('[proptype="msgmaindiv"]'),this.composer=this.contentdiv.find('[proptype="msgarea"]'),e.Util.handleResize(this),this.contentdiv=e.container.find("[data-id="+this.winid+"]"),this.checkAndUpdateContentdivView()),!i&&e.chatWindowUICallBk(this.winid);var u=$Support.getBroadcastText();u?this.showBanner(DynamicMsg.fillValues(u)):t||this.showWaitingDialog()},showWaitingDialog:function(){if(!(!this.waitingtime||0<this.contentdiv.find("#wait_div").length||this.isBotChat||this.proactive&&-1!=this.winid)){clearTimeout($Support.Util.bnrtimer);var t=this;return{text:function(){t.contentdiv.prepend($Temp.getWaitingTextHTML(t.waitingtime)),t.wait_div=$("#wait_div")},video:function(){$(".content").prepend($Temp.getWaitingTextHTML()).animate({top:"auto"},400)}}[$Support.EmbedObj.waitaction]()}},hideUserEditUI:function(){this.composer.removeAttr("disabled"),this.hideMaskDiv()},hideMaskDiv:function(){var t=this.contentdiv.find(".maskdiv").addClass("hidemaskanim");$Support.Util.removeDiv(t),this.contentdiv.removeClass("siq_popup")},updateValAndStartChat:function(){$Support.updateInputValues(this),this.initiateChat()},getComposer:function(){return this.composer||$("#msgarea")},checkAndUpdateLastView:function(){ZSIQConversationManager.chidbeforereload||-1!=n&&n!=this.winid||$Support.isConversationUIFocussed()||ZSIQConversationManager.updateLastviewed(this.chatID)},updateChatInfoinInstanceDom:function(){function t(t){var i=t.ongoingchats||{};return i[this.chatID]=i[this.winid],delete i[this.winid],t.ongoingchats=i,t}var i=$Support.EmbedObj,e=this.contentdiv;e.attr("data-id",this.chatID),this.composer.attr("txtarea-id",this.chatID),e.find('[proptype="action_icons"]').find('[proptype="sqico-send"]').attr("txtarea-id",this.chatID);var n=a[this.winid];delete a[this.winid],a[this.chatID]=n;var s=$Support.getCookieValue("ZLD"+i.livelsid+"WTIME")||{};s=t.call(this,s),$Support.LSDB.setCookie("ZLD"+i.livelsid+"WTIME",s,12e4);var o=$Support.getCookieValue("ZLD"+i.livelsid+"WAITING");o=t.call(this,o),$Support.LSDB.setCookie("ZLD"+i.livelsid+"WAITING",o,1e3*i.embedwaitingtime),$Support.convlistcontainer&&$Support.convlistcontainer.find("#currchatconv").find('[chid="'+this.winid+'"]').attr("chid",this.chatID).attr("id","conv"+this.chatID),this.checkAndUpdateLastView(),this.winid=this.chatID},checkAndUpdateContentdivView:function(){ZSIQConversationManager.chidbeforereload?ZSIQConversationManager.chidbeforereload!=this.winid?this.contentdiv.hide():ZSIQConversationManager.updateLastviewed(this.winid):-1!=n&&n!=this.winid?this.contentdiv.hide():ZSIQConversationManager.updateLastviewed(this.winid)},isAllowMessageAreaFocus:function(){return!("true"==this.composer.attr("disabled")||$Support.isHandHeldDevice()&&this.isBotChat)},checkAndFocusMessageArea:function(){this.isAllowMessageAreaFocus()&&this.composer.focus()},handlePaste:function(){CommonUtil.isAllowPasteImage()&&this.composer.on("paste",function(t){PasteImage.onPaste(t,this),t.stopImmediatePropagation()})},disableTextarea:function(t){this.composer.attr("disabled","true")},hideReopenMaskDiv:function(){this.hideMaskDiv(),this.contentdiv&&this.contentdiv.find("div.usrinpt").hide();var t="msgarea"!=$Support.container.attr("cwview");!this.chatendmsg&&this.chatmaindiv.after(this.chatendmsg=$($Temp.getChatEndHTML(t)))},showUserEditUI:function(t,i,e){if(ZSIQConversationForm.isOldFormView()){var n="",s=$Support.getParent().$ZSIQUtil.getAPIValues(),o=this.contentdiv.find(".editfields");if(o.length&&!o.hasClass("hidemaskanim"))return;e&&s.chatprivacycontent&&(n='<div class="infomsg chtend siq-info-message" proptype="chtprivacy">'+s.chatprivacycontent+"</div>"),this.contentdiv.find(".maskdiv").remove().end().prepend($Temp.getUserEditHTML(t,this).replace(/{T&CBANNER}/g,n)),-1==this.department&&$UI.populateDropDown(),i||$Support.Util.handleCustomHTML(!0),$Support.Util.calculateTextareaHeight();var a=$("#edituserdetails");a.length&&a.find(".siq-input-text-box").first().focus()}else!ZSIQConversationForm.checkContextInitiated()&&ZSIQConversationForm.fetchFieldsToEdit(i,e,this)},updateVisitorNameinCW:function(t){var i=getEscapedText(t.name);if(i){var e=$Support.Util.CheckAllDefaultFieldsDisabled()?'<em class="sqico-edit" documentclick="userdetails" title="'+LSResource.getRealValue("ne.title.edit")+'"></em>':"";this.contentdiv.find('.vismsg div[purpose="name"]').html(i+e)}},populateFeedbackHTML:function(t){var i=this.contentdiv;i.find(".sqico-edit").remove();var e=JSON.parse($Support.EmbedObj.eprops.feedback[0]),n=$Support.israting,s=$Support.isfeedback;if(!(e||n||s)||0==n&&0==s)this.emptyFeedback();else{0==s&&(this.isfeedbacksent=!0),i.removeClass("siq_popup").addClass("siq_popup");var o=!1===$Support.israting?$Temp.getFeedbackOnlyHTML().replace(/{FDBKAREAID}/g,this.winid):$Temp.getFeedbackHTML(!s).replace(/{FDBKAREAID}/g,this.winid);i.find(".maskdiv").remove().end().prepend(o),this.emptyFeedback(),s&&this.handleFeedbackBtn()}},isAudioCallAllowed:function(){return"connected"==this.chatstatus&&!this.isBotChat&&!this.istriggeredchat&&!this.isforwardchat},handleFeedbackBtn:function(){$TH.populateSendBtn(LSResource.getRealValue("ne.submit"),this.winid),$("footer #sqico-send").before('<em documentclick="hidefeedback" class="hidemask" chatid='+this.winid+">"+LSResource.getRealValue("common.cancel")+"</em>")},emptyFeedback:function(){var t=this.contentdiv;t.find("div.usrinpt").hide(),$("footer #sqico-send").remove(),t.addClass("nofdbk"),$Support.container.find("footer").show(),$("#fdbkarea + .sqico-send").hide()},getConversationChatTranscript:function(){var t=$Support.EmbedObj.isreopenenabled;!this.contentdiv&&(this.contentdiv=$($Temp.getChatAreaHTML(this).replace(/{CONTENTDIV}/g,this.winid).replace(/{TXTAREAID}/g,this.winid)).insertAfter($Support.container.find("header"))),this.chatdiv=this.contentdiv.find('[proptype="msgdiv"]'),this.chatmaindiv=this.contentdiv.find('[proptype="msgmaindiv"]'),this.composer=this.contentdiv.find('[proptype="msgarea"]'),this.contentdiv.find("div.usrinpt").hide(),this.chatstatus="pastconv",this.contentdiv.show(),this.chatmaindiv&&this.chatmaindiv.attr("ctype","hstrycntnt"),$Support.getConversationChatTranscript(this.chatID,this.visitorID),$Support.EmbedObj.isreopenenabled&&(!this.chatendmsg&&this.chatmaindiv.after(this.chatendmsg=$($Temp.getChatEndHTML(!0)))),$Support.isFAQEnabled()&&$Support.container.find("footer").show(),t||($Support.container.find("footer").show(),$Support.container.find("footer").find("#sqico-send").hide(),this.chatdiv.addClass("convview"))},reOpenChatUI:function(){-1==this.chatID&&!this.isofflinechat&&(this.chatID=this.winid);var t=-1!=this.chatID?this.chatID:this.winid;this.chatendmsg.remove(),this.chatmaindiv.removeAttr("ctype"),this.contentdiv.find('[proptype="feedback_res"]').closest("div .fd_lastmsg").remove(),this.chatendmsg="";var i=this.contentdiv.find("div.usrinpt");i.show(),i.find("div.usractions").hide(),this.composer.removeAttr("disabled"),delete this.callquitstatus,this.contentdiv.find(".maskdiv").remove().end().prepend($Temp.getReOpenMsgArea().replace(/{TXTAREAID}/g,t)),this.contentdiv.find(".maskdiv").find(".fdbk_cnt > textarea").focus(),clearTimeout(this.bnrtimer),this.contentdiv.find('[proptype="info_banr"]').remove()},showReopenWaitingUI:function(){ZSIQTranscript.scroll("",this.chatmaindiv);var t={sender:$Support.EmbedObj.vwmsid,dname:$Support.EmbedObj.visitorname,msg:Message.getDisplayContent(getEscapedText(this.reopenques)),isques:!0};delete this.isfeedbacksent,delete this.isratingsent,$BotImpl.formatAndDisplay(t,this.winid),$Support.updateWaitingCookie("",this.winid);var i=$Support.getBotUser(this.department);this.handleWaitingDisplay(null,null,i),this.composer.attr("dockeyup","sendmessage"),$Support.Util.hideFooter(),this.hideMaskDiv()},handleBotTriggers:function(){this.checkPreviouslyInitiatedChat();$Support.EmbedObj,$Support.getParent().$ZSIQUtil.getAPIValues();delete this.waitingtime,delete this.question,$Support.Util.populateTriggerUI(this),$Support.handleBotTrigger({msg:this.pmsg},this)},checkPreviouslyInitiatedChat:function(){var t=$Support.EmbedObj.curraddvistid;if(t){var i=ZSIQConversationManager.getChatWinObjById(t).contentdiv;i&&i.remove(),ZSIQConversationManager.removeFromConvDB(t),delete $Support.EmbedObj.curraddvistid,delete $Support.requestRunning_addvist,ZSIQConversationManager.resetLastViewd()}},handleChatTrigger:function(){this.checkPreviouslyInitiatedChat(),delete this.question,delete this.waitingtime,$Support.Util.populateTriggerUI(this),$Support.handleOnGoingchatActionsInConversation("triggerchat",this),ZSIQConversationForm.checkAndGetFormTranscript(this)},populateFormChatArea:function(){$Support.updateInputValues(this),this.showChatArea(),!$Support.isNewHeader()&&$TH.populateSendBtn(LSResource.getRealValue("ne.send"),this.winid);var t=$Support.getParent().$ZSIQUtil.getAPIValues();$Support.handleApiData(t),t.floatwindowfields&&$Support.handleFieldVisibility(t.floatwindowfields),$Support.Util.setMessageClass(),$Support.Util.isPreview()||(ZSIQConversationForm.checkContextInitiated()?ZSIQConversationForm.checkAndGetFormTranscript(this):ZSIQConversationForm.fetchConfigurations(this))},setSoundConfig:function(){var t=$Support.getCookieValue(this.chatID+"_sound");this.soundval=t},isSoundOff:function(){return"-1"==this.soundval}},{init:function(t,i,e){var n=new o(t);a[n.winid]=n,ZSIQConversationManager.chidbeforereload=e;var s={connected:"populateChatArea",startchat:"updateValAndStartChat",waiting:"handleWaitingCookie",trigger:"handletrigger",pastconv:"getConversationChatTranscript",bottrigger:"handleBotTriggers",chattrigger:"handleChatTrigger",formview:"populateFormChatArea",bottrigger:"handleBotTriggers"}[i];s&&n[s](),$Support.contentdiv=""},resetLastViewd:function(){n=-1},resetConvDb:function(){a={}},populateInitialScreen:function(){$Support.EmbedObj.status?$UI.init():$Support.showOfflineUI()},getChatWinObjById:function(t){return a[t]||{}},getVisitorId:function(t){return(a[t]||{}).visitorID},getConvDB:function(){return a},removeFromConvDB:function(t){delete a[t],n==t&&(n=-1)},getcurrchatwinobj:function(){return a[n]||{}},getcurrchatwinChid:function(){return(a[n]||{}).winid||-1},updateLastviewed:function(t,i){if(!$Support.isFAQUIFocussed()&&(n=t,$Support.LSDB.storeInSession("ZLD"+$Support.EmbedObj.livelsid+"lastview",t),(!i||-1!=i.chatid||!i.chatendmsg)&&$Support.Util.hideFooter(),!$Support.isFAQEnabled()&&!$Support.isNewHeader())){var e=$Support.container.find("footer");e.show(),e.find("#sqico-send").show()}},isChatUIFocusses:function(t){return this.getcurrchatwinChid()==t},getConnectedCount:function(){Object.keys(a).length;var t=0;for(var i in a)a.hasOwnProperty(i)&&-1!=a[i].chatID&&"pastconv"!=a[i].chatstatus&&t++;return t}}}();$UI={init:function(e){this.populateUI(e)},populateUI:function(e){this.setHeader(),this.setBody(null,e),this.setFooter()},setContainer:function(){$TH=$Support.isNewHeader()?$ThemeHandler.theme:$ThemeHandler[$Support.theme],$TH.updateContainer(),$Support.Util.updateParentFontFamily()},setHeader:function(){$TH.updateHeader()},setInnerHeader:function(e){$TH.updateInnerHeader(e)},setBody:function(e,t){$TH.updateBody(e,t),(t||!e&&-1==$Support.EmbedObj.department)&&this.populateDropDown()},setFooter:function(){$TH.updateFooter()},populateDropDown:function(){$TH.updateDeptDropdown()},showBanner:function(e,t,n,o,i,a){$TH.showBanner(e,t,n,o,i,a)},hideBanner:function(e,t){$TH.hideBanner(e,t)},showTimerBanner:function(e){$TH.showTimerBanner()},populateSendMail:function(e){$Support.Util.isPreview()||$TH.populateSendMail(e)},populateSendMailConfirm:function(e,t){$TH.populateSendMailConfirm(e,t)},populateSmiley:function(e){$TH.populateSmiley(e)},showUserEditUI:function(e,t,n){$TH.showUserEditUI(e,t,n)},hideUserEditUI:function(){$TH.hideUserEditUI()},showCaptcha:function(e){$TH.showCaptcha(e)},hideCaptcha:function(){$TH.hideCaptcha()},showMissedVisitorBanner:function(e,t,n){$TH.handleMissedStatus(e,t,n)},populateVisitorQuestion:function(e,t){$TH.populateVisitorQuestion(e,t)},getInfoMsgHTML:function(e,t){return $TH.getInfoMsgHTML(e,t)},populateUserAction:function(e){$TH.populateUserAction(e)},setChatStatus:function(e,t){e=$.trim(e),JSON.parse($Support.EmbedObj.pprops.showtyping)&&(t.contentdiv&&t.contentdiv.find("#typgstatus").text(e),$Support.Util.toggleFreeLogo())},updateOfflineUI:function(e,t){$TH.handleOfflineStatus(e,t)},updateOnlineUI:function(e,t){$Support.Util.handleOnlineStatus(e,t)},showFeedback:function(){$TH.populateFeedbackHTML()},showFdbkResponse:function(e){$TH.showFdbkResponse(e)},hideUtilityDiv:function(e,t,n,o){$TH.hideUtilityDiv(e,t,n,o)},getInfoMsgContent:function(e,t,n,o){return $TH.getInfoMsgContent(e,t,n,o)},showDragDropUI:function(){$Support.Util.isDragNotAllowed()||$TH.showDragDropUI()},hideDragDrop:function(){$TH.hideDragDrop()},getPreviewHTML:function(){return $TH.getPreviewHTML()},getCustomHTML:function(e){return $TH.getCustomHTML(e)},showUploadProgress:function(e,t){return $TH.showUploadProgress(e,t)},hideUploadProgress:function(e){return $TH.hideUploadProgress(e)},updateCloseIcon:function(){$TH.updateCloseIcon()},updateParentFontFamily:function(){return $TH.updateParentFontFamily()},populateIcon:function(){$TH.populateIcon()},removeSmileyIcon:function(){$TH.removeSmileyIcon()},updateQuesArea:function(){$TH.updateQuesArea()},updateChatEndMsg:function(e){$TH.updateChatEndMsg(e)},updateVisitorName:function(e){$TH.updateVisitorName(e)},getBusinessHrInfo:function(){return $TH.getBusinessHrInfo()},getSoundHTML:function(e,t){return $TH.getSoundHTML(e,t)},setSoundConfig:function(){$TH.setSoundConfig()},addGroupIcon:function(){},removeGroupIcon:function(){},populateCWaitHandler:function(){$TH.populateCWaitHandler()},removeCWaitHandler:function(){$TH.removeCWaitHandler()},displayInfo:function(e){$TH.displayInfo(e)},setDepartment:function(e){$("#dropcontent").find("[val='"+e+"']").trigger("click")},showCloseAlert:function(){-1!=$Support.EmbedObj.chatID&&1==confirm(LSResource.getRealValue("ne.reload.alert"))&&retrun},focusComposer:function(){window.outerWidth<555||$Support.Util.isPreview()||$("#msgarea").focus()},appendTransferDiv:function(e,t,n){var o=$Support.LSDB.get("ZLD"+e.chatID+"transfer_state");if(o&&"offline"===o.state)$UI.showOperatorOffline(e);else{var i=e.chatdiv;if(!(0<i.find(".zsiq_transferdiv").length||e.hidetransfer||-1==e.chatID)){var a=$Support.getHandoffConfig(e.chatID);t=t||a.text,n=n||a.ack,t=t||LSResource.getRealValue("ne.agent.transfer"),n=n||LSResource.getRealValue("common.yes");var s='<div class="zsiq_transferdiv fnt13" id="agenttransfer">'+getEncodedText(t)+'<span documentclick="transferchat" class="bot_opt">'+getEncodedText(n)+"</span></div>";i.append(s)}}},appendConsentDiv:function(e,t){var n,o=e?"$Support.getMissedUserConsent":"$Support.getUserConsent",i=t.chatdiv||$("#msgdiv");t.composer||$Support.getComposer(),n='<div class="zsiq_transferdiv fnt13" id="creditcardconsent">'+LSResource.getRealValue("ne.agent.cardmask")+'<span onclick="'+o+"(1, '"+t.winid+'\')" class="bot_opt">'+LSResource.getRealValue("common.yes")+'</span><span onclick="'+o+"(0, '"+t.winid+'\')" class="bot_opt">'+LSResource.getRealValue("common.no")+"</span></div>",0==$(" #creditcardconsent ").length&&i.append(n)},appendChatConsentDiv:function(e,t,n,o){if(o){this.removeTransferDiv("",o);var i=o.chatdiv||$("msgdiv"),a=LSResource.getRealValue("common.gdpr.agent.chatconsent2");n&&(a="<a class='siq-lnmor sbold' target='_blank' href='"+(n=-1==n.indexOf("http")?"http://"+n:n)+"'>"+a+"</a>");var s=LSResource.getRealValue("common.gdpr.agent.chatconsent1")+" "+a+" "+LSResource.getRealValue("common.gdpr.agent.chatconsent3"),r=LSResource.getRealValue("common.gdpr.agent.accept"),c=LSResource.getRealValue("common.gdpr.agent.decline"),d=$Support.getParent().$ZSIQUtil.getAPIValues(),u=o.winid;if(d.textbannerobj&&d.textbannerobj.online){var l=d.textbannerobj.online;if(s=l.description&&0!=l.description.trim().length?l.description:s,r=l.acceptbutton&&0!=l.acceptbutton.trim().length?l.acceptbutton:r,c=l.declinebutton&&0!=l.declinebutton.trim().length?l.declinebutton:c,l.policytextandlink){var p=l.policytextandlink,f=p.text&&0!=p.text.trim().length?p.text:"",g=p.link&&0!=p.link.trim().length&&$Support.getParent().$ZSIQUtil.isValidURL(p.link)?p.link:"";s=$Support.getParent().$ZSIQUtil.hyperLinksSubString(s,f,g)}}chatconsenthtml='<div class="zsiq_transferdiv fnt13 chatconsent" id="chatconsentdiv">'+s+'<div class="mT10"><span type=1 isproactive ='+t+" skipregister="+e+" winid="+u+' documentclick="getChatUserConsent" class="bot_opt gltr-srno">'+r+"</span><span type=0 isproactive ="+t+" winid="+u+' documentclick="getChatUserConsent" class="bot_opt gltr-srno gltr-no">'+c+"</span></div></div>",0==i.find(" #chatconsentdiv ").length&&i.append(chatconsenthtml)}},removeTransferDiv:function(e,t){var n=(t=t||{}).contentdiv&&t.contentdiv.find(".zsiq_transferdiv");n.fadeOut("slow",function(){n.remove(),e&&"missed"==t.botchatprops.status&&"Continue with Bot"==e[0].innerHTML&&(t.botchatprops.status="connected",$Support.setCookie(t))})},removeConsentDiv:function(){var e=$("#creditcardconsent");e.fadeOut("slow",function(){e.remove()})},removeChatConsentDiv:function(){$("#chatconsentdiv").remove()},removeOfflineConsentDiv:function(){var e=$("#offlineconsent");e.fadeOut("slow",function(){e.remove(),$Support.Util.setTextareaHeight()})},appendGTConsentDiv:function(e,t,n){n=n||$("msgdiv");var o="<a class='siq-lnmor sbold' target='_blank' href='"+(e=-1==(e=e||_GT_ATTRIBUTIONLINK).indexOf("http")?"http://"+e:e)+"'> "+LSResource.getRealValue("helplink.learnmore")+"</a>",i=LSResource.getRealValue("common.gdpr.agent.translateinfo")+o,a=LSResource.getRealValue("common.gdpr.agent.accept"),s=LSResource.getRealValue("common.gdpr.agent.decline");gtconsenthtml='<div class="zsiq_transferdiv fnt13 chatconsent" id="gtconsentdiv">'+i+'<div class="mT10"><span onclick="$Support.handleVTransLangStatus(1,\''+t+'\')" class="bot_opt gltr-srno">'+a+"</span><span onclick=\"$Support.handleVTransLangStatus(0,'"+t+'\')" class="bot_opt gltr-srno gltr-no">'+s+"</span></div></div>",0==$(" #gtconsentdiv ").length&&n.append(gtconsenthtml)},removeGTConsentDiv:function(){var e=$("#gtconsentdiv");e.fadeOut("slow",function(){e.remove()})},showTransferMissed:function(e){e.contentdiv.find(".zsiq_transferdiv").remove();var t='<div class="zsiq_transferdiv zsiq_transmissed fnt13" id="transfermissed">'+LSResource.getRealValue("ne.agent.transfermissed")+'<div><span documentclick="removetransfer" class="bot_opt">'+LSResource.getRealValue("ne.chatwindow.continuewithbot")+'</span><span documentclick="transfermissed" class="bot_opt">'+LSResource.getRealValue("settings.embed.offline")+"</span></div></div>";(e.chatdiv||$("#msgdiv")).append(t);var n=e.chatmaindiv||document.getElementById("msgmaindiv");n.scrollHeight-n.scrollTop==n.clientHeight||n.scrollHeight<n.clientHeight||Message.scroll(n)},showOperatorOffline:function(e){(e=e||{}).contentdiv.find(".zsiq_transferdiv").remove();var t='<div class="zsiq_transferdiv fnt13" ><span documentclick="transfermissed" purpose="offline" class="bot_opt">'+LSResource.getRealValue("ne.chatwindow.dropmessage")+"</span></div>";(e.chatdiv||$("#msgdiv")).append(t);var n=e.chatmaindiv||$("#msgmaindiv");n.scrollHeight-n.scrollTop==n.clientHeight||n.scrollHeight<n.clientHeight||Message.scroll(n)},getTranslateBannerHTML:function(e,t){return $TH.getTranslateBannerHTML(e,t)},reSetHeaderClass:function(){$TH.reSetHeaderClass()}};var $NE=!1;$EmbedManger={isNewEmbed:$NE=!("undefined"==typeof $Support),setChatID:function(t){return $NE?$Support.EmbedObj.chatID=t:Support.setChatID(t)},getChatID:function(){return $NE?$Support.getChatID():Support.getChatID()},setPrevCHID:function(t){return $NE?$Support.EmbedObj.lchid=t:Support.setPrevCHID(t)},getPrevCHID:function(){return $NE?$Support.EmbedObj.lchid:Support.getPrevCHID()},getWaitingCookie:function(){return $NE?$Support.getWaitingCookie():SupportUI.getCookieValue("ZLD"+Support.getLiveSupportID()+"WAITING")},getVisitorID:function(){return $NE?$Support.EmbedObj.visitorID:Support.getVisitorID()},getLiveSupportID:function(){return $NE?$Support.EmbedObj.livelsid:Support.getLiveSupportID()},getAttenderID:function(){return $NE?$Support.EmbedObj.attender:Support.getAttender()},showChatUI:function(t,e,o){try{SiqAVRouter.container.detailsHandler.triggerIconCheck(o.RCHID)}catch(t){}if($NE&&t){var r=$Support.getTranscriptFromSession(o.chatID);if($.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1),e)return void o.showChatUI(t);if($Support.LSDB.isSessionStorageAvail()&&r&&r.length==t.length){var n=r.length;if(r[n-1].msg==t[n-1].msg)return}o.showChatUI(t)}else Support.showChatUI()},isautotrigger:function(){return $NE?$Support.istrigmsg:Support.isautotrigger},getAddinfo:function(){return $NE?$Support.EmbedObj.addinfo:Support.addinfo},getDeptlist:function(){return $NE?$Support.EmbedObj.deptlist:Support.deptlist},updateChatCookie:function(t){$NE?$Support.updateChatCookie(t):Support.updateChatCookie()},handleChatEnded:function(t,e){if(!$NE)return Support.handleChatEnded(t);$Support.handleChatEnded(t,e)},setVisitorName:function(t){$NE?$Support.EmbedObj.setVisitorName(t):Support.setVisitorName(t)},getVisitorName:function(){return $NE?$Support.EmbedObj.visitorname:Support.getVisitorName()},setVisitorEmail:function(t){$NE?$Support.EmbedObj.setVisitorEmail(t):Support.setVisitorEmail(t)},setVisitorPhone:function(t){$NE?$Support.EmbedObj.setVisitorPhone(t):Support.setVisitorPhone(t)},handleCallbacks:function(t,e){if(!$NE)return Support.handleCallbacks(t,e);$Support.Util.handleCallbacks(t,e)},handlePickUp:function(t){$NE?$Support.handlePickUp(t):Support.handlePickUp(t)},handleDesktopSharing:function(t){return $NE?$Support.handleDesktopSharing(t):Support.handleDesktopSharing(t)},handleEndSession:function(t){if($NE){EmbedSound.stop();var e=ZSIQConversationManager.getChatWinObjById($Support.chidmappinglist[t.chid]);return!e.isSoundOff()&&EmbedSound.play("endtimer",t.timer),void $Support.handleEndSession(t.timer,!0,e)}return Support.handleEndSession(t)},handleJoinProActive:function(t){$NE?$Support.handleJoinProActive(t):Support.handleJoinProActive(t)},reJoin:function(){$NE?$Support.reJoin():Support.reJoin()},addVisitor:function(){$NE?$Support.addVisitor():Support.addVisitor()},quit:function(t){if($NE)return $Support.quitChat(t);Support.quit()},setCookie:function(){$NE?$Support.setCookie():Support.setCookie()},removeChatCookie:function(){$NE?$Support.removeChatCookie():Support.removeChatCookie()},getType:function(){return $NE?$Support.type:Support.type},getuvid:function(){return $NE?$Support.EmbedObj.uvid:Support.uvid},getvwmsid:function(){return $NE?$Support.EmbedObj.vwmsid:Support.vwmsid},getWaitTimer:function(){return $NE?$Support.waitTimer:Support.waitTimer},setCallbackargs:function(t){$NE?$Support.callbackargs=t:Support.callbackargs=t},setQuitStatus:function(t){$NE?$Support.callquitstatus=t:Support.callquitstatus=t},getQuitStatus:function(){return $NE?$Support.callquitstatus:Support.callquitstatus},setIPBlockStatus:function(t){$NE?$Support.isipblocked=t:Support.isipblocked=t},getVisitID:function(){return $NE?$Support.EmbedObj.VISITID:Support.visitorinfo.VISITID},isComposerFocused:function(){return $NE?$Support.iscomposerfocus:Support.iscomposerfocus},iswindowfocused:function(){return $NE?$Support.iswindowfocused:Support.iswindowfocused},isSoundOff:function(){return $NE?"-1"==$Support.EmbedObj.soundval:!SupportUI.sound},updateChatCache:function(t,e,o){return $NE?$Support.updateChatCache(t,e,o):""},getChatStatus:function(){return $NE?$Support.ischatdisabled:SupportUI.ischatdisabled},getMessageLength:function(){return $NE?$.trim(" "+$("#msgarea").val()).length:$.trim(" "+$("#lstxteditor").val()).length},handleApiData:function(){return $NE?$Support.handleApiData():SupportUI.handleApiData()},isCrossDomainReq:function(){return!0}},$EmbedManger.UI={isNewEmbed:$EmbedManger.isNewEmbed,displayInfo:function(t,e){$NE?$UI.showBanner(t):SupportUI.displayInfo(t,e)},hideInfo:function(){$NE?$UI.hideBanner():SupportUI.hideInfo()},showProcess:function(t){$NE||SupportUI.showProcess(t)},showAgentStatus:function(){$NE||SupportUI.showAgentStatus()},resizequestion:function(){if(!$NE)return SupportUI.resizequestion},postMessage:function(t,e){$NE?$Support.postMessage(t,e):SupportUI.postMessage(t,e)},embeddiv:function(){return $NE?$Support.container:SupportUI.embeddiv},showVisitorInfo:function(){$NE||SupportUI.showVisitorInfo()},resizeWindow:function(){$NE||SupportUI.resizeWindow()},getCaptchaValue:function(){return $NE?$Support.Util.getCaptchaValue():SupportUI.getCaptchaValue()},showCaptcha:function(t){$NE?$UI.showCaptcha(t):SupportUI.showCaptcha(t)},hideCaptcha:function(){$NE?$UI.hideCaptcha():SupportUI.hideCaptcha()},showFeedback:function(t,e){$NE?$UI.showFeedback(t,e):SupportUI.showFeedback(t,e)},handleEndSupport:function(t){$NE||SupportUI.handleEndSupport(t)},hideVisitorInfo:function(){$NE||SupportUI.hideVisitorInfo()},clearProgress:function(){$NE||SupportUI.clearProgress()},getDragDropHtml:function(){if(!$NE)return SupportUI.getDragDropHtml()},setChatStatus:function(t,e){$NE?$UI.setChatStatus(t,e):SupportUI.setChatStatus(t)},formatAndDisplayInfo:function(t,e,o){if($NE){e.chid=t;var r=$UI.getInfoMsgContent(e);ZSIQTranscript.updateTranscript({html:r},t)}else Message.formatAndDisplayInfo(t,e,o)},getPrevHTML:function(){return $NE?$UI.getPreviewHTML():PasteImage.getEmbPrevHTML()},showPasteUI:function(){if($NE)return $Support.Util.showPasteUI();PasteImage.showEmbedUI()},hidePasteUI:function(){if($NE)return $Support.Util.hidePasteUI();PasteImage.hideUI()},updateVisitorName:function(t){$NE&&$UI.updateVisitorName(t)},showGroupIcon:function(){},hideGroupIcon:function(){},getResendIcon:function(){return $NE?'<em id="resendicon" class="sqico-resend" documentclick="resendmsg" title="'+LSResource.getRealValue("embed.msg.resend")+'" ></em>':'<em id="resendicon" class="sqico-resend spritebg" onclick="LSMessanger.resendMessages('+RESEND_MANUAL+')" title="'+LSResource.getRealValue("embed.msg.resend")+'" ></em>'}};$Support.Util={jsdownloadtimer:-1,ispostloaddone:!1,isbotconversation:!1,handleTextClear:function(e,t){e.parent().find('input[type="text"]').val("")},minimizeEmbed:function(){$Support.getParent().$ZSIQChatWindow.minimizeChatWindow()},handleMinimizeinBannerTimeout:function(){ZSIQConversationForm.clearSessionStorage(),ZSIQConversationForm.isOldFormView()?ZSIQConversationManager.getConnectedCount()||$Support.Util.minimizeEmbed():$Support.Util.closeEmbed(),$Support.convongoingchatobj&&$Support.convongoingchatobj.remove(),ConversationFormInput.resetMessageArea()},maximizeEmbed:function(){this.postMessage("newEmaximize",{width:"371",height:"460"})},closeEmbed:function(e,t){if(e=e||{},ZSIQConversationManager.getConnectedCount()){e.callquitstatus=!1,e.visitorID=-1,e.chatID=-1,e.VISITID=-1;var i=$Support.joinedchatkeys,n=i.indexOf(e.winid),a=e.contentdiv;return-1!=n&&i.splice(n,1),e.presender="",a&&(a.find('[proptype="action_icons"]').removeClass("show_send"),a.find("div.usrinpt").hide()),void(e.chatmaindiv&&e.chatmaindiv.after(e.chatendmsg=$($Temp.getChatEndHTML(!0))))}$Support.getParent().$ZSIQChatWindow.closeChatWindow(),$Support.enableTextarea(),$Support.contentdiv=null;var r=$Support.EmbedObj;$Support.callquitstatus=!1,r.setVisitorID(-1),r.setChatID(-1),$BotImpl.resetDisableComposerTimer(),r.setVisitID(-1),$Support.joinedchatkeys=[],Message.presender="",$Support.init($Support.getParent().$ZSIQWidget.getEmbedObject()),$Support.getParent().$ZSIQChatWindow.constructIframe(!0)},setThemeInFloat:function(e){this.postMessage("settheme",e)},triggerAdditionalFileDownload:function(){var e=$Support.Util;e.ispostloaddone||(clearTimeout(e.jsdownloadtimer),e.downloadAdditionalFiles())},downloadAdditionalFiles:function(){if(!$Support.Util.ispostloaddone){var e=$Support.getParent().$ZSIQWidget.getEmbedObject(),t=$Support.getParent().$ZSIQChat.getWidgetData().commondata,i=t.schema+"://"+e.embedserverurl,n=document.querySelectorAll("head");if(0==n.length&&((n=[])[0]=document.createElement("head"),document.insertBefore(document.body,n[0])),e.ucomp){var a=document.createElement("script"),r=$Support.getParent().$zohosq.nonce,o="/js/embedpostload.js",s=t.jsstaticserver+o;t.isCDNEnabled&&(s=t.jscdnstaticserver+$Support.getParent().cssjslist[o]),a.src=s,r&&a.setAttribute("nonce",r),n[0].appendChild(a);var d="/styles/embedpostload.css",p=$Support.getParent().$ZSIQWidget.getWidgetObject().cssstaticserver+d;t.isCDNEnabled&&(p=$Support.getParent().$ZSIQWidget.getWidgetObject().csscdnstaticserver+$Support.getParent().cssjslist[d]),(m=document.createElement("link")).type="text/css",m.rel="stylesheet",m.href=p,r&&m.setAttribute("nonce",r),n[0].appendChild(m)}else{for(var c=["/js/embed/new/chatwindow/jquery.ztooltip.js","/js/cw/lsdragdrop.js","/js/cw/pasteimage.js","/js/cw/validator.js","/js/cw/clickoutside.js"],l=0;l<c.length;l++){var u=document.createElement("script");u.src=i+c[l],n[0].appendChild(u)}var g=["/styles/cw/smiley.css","/styles/cw/ui.ztooltip.css"];for(l=0;l<g.length;l++){var m;(m=document.createElement("link")).type="text/css",m.rel="stylesheet",m.href=i+g[l],n[0].appendChild(m)}}$Support.Util.ispostloaddone=!0}},showMoreAction:function(e,t){var i=e.closest("section [data-id]").attr("data-id"),n=ZSIQConversationManager.getChatWinObjById(i);$Clickoutside.bindclick($Support.Util.hideMoreActionDiv,"mraction","moreaction");var a=e.parents(".usractions"),r=a.find(".mraction");r.addClass("shwact"),r.find('li[purpose="sound"]').replaceWith($UI.getSoundHTML("",n.soundval)),a.removeClass("showmore")},hideMoreActionDiv:function(){var e=ZSIQConversationManager.getcurrchatwinobj();e&&e.contentdiv.find("ul.mraction").removeClass("shwact").parents(".usractions").addClass("showmore")},getKeyCode:function(e){return(e=null==e?window.event:e).keyCode||e.which},handleBannerSlide:function(e,t){var i=t;i.removeClass("timer");var n=i.outerHeight();if(i.html(e),i.is(":animated"))i.css("height","auto");else{var a=i.outerHeight();i.css({height:n+"px"}).animate({height:a},"5000",function(){i.height("auto")})}},showInfoBanner:function(e,t,i,n,a){var r=this;clearTimeout(r.bnrtimer);var o=$Support.contentdiv||ZSIQConversationManager.getcurrchatwinobj().contentdiv,s=ZSIQConversationManager.getcurrchatwinChid(),d=o.find("#info_banr");d.removeClass("dN"),$Support.container.hasClass("outerwin")?d.addClass("relate"):d.removeClass("relate"),$Support.EmbedObj.bushrstatus?d.addClass("bsnshrs"):d.removeClass("bsnshrs"),e?r.handleBannerSlide(e,d):i&&d.hide().slideDown(500,function(){}),t&&(a=a&&5e3<=a?a:5e3,r.bnrtimer=setTimeout(function(){$UI.hideBanner(n,s)},a))},sendMail:function(e,t){if(e&&13==this.getKeyCode(e))return $Support.sendMail(t)},validateFields:function(e){if(!$Support.Util.isPreview()){var t,i=!0,n=0;return e.find("[data-validate]").each(function(){$(this).validateInput()||(i=!1,t=$(this),n++)}),this.showErrorInfo(n,t),i}},showErrorInfo:function(e,t){var i=t?ZSIQConversationManager.getChatWinObjById(t.parents(".siq_content").attr("data-id")):"";if(!(e<1||CallImpl.isCallWithChat)){var n=LSResource.getRealValue("ne.errorinfo.all");if(1===e){var a=t.attr("info");n=/^number|email|url|percentage|decimal|name|email|phone$/.exec(a)?LSResource.getRealValue("ne.errorinfo."+a):n}(ZSIQConversationForm.isOldFormView()||"smailbx"==t.parent().attr("id"))&&(i&&i.showBanner?i.showBanner(n,!0):$UI.showBanner(n,!0)),$("#info_banr").removeClass("relate")}},populateChatUI:function(e,t,i){var n=e.length;if(e&&n&&!CallImpl.isCallWithChat){var a=e[0]&&e[0].chid||t,r=ZSIQConversationManager.getChatWinObjById(a);delete r.waitTimer,e=CommonUtil.parseToJSON(e);var o=0,s="",d="",p="",c=$Support.getParent().$ZSIQUtil.getAvuid(),l=t?r.chatdiv:r.chatdiv||$("#msgmaindiv");for(l.html(""),ZSIQTranscript.reSetPreviousSender(r);o<n;o++){var u=e[o];if(o==n-1&&!getObjectSize(u))break;if(u.msg&&u.msg.form_type){var g={chattrasncript:e,fieldtranscript:("classic"==u.msg.form_type?ZSIQConversationForm.updateAndGetClassicFormData(u):u.msg.msglist)||[],currindex:o};return ZSIQConversationForm.formatAndPopulateTranscript(g,t,i),void(s="")}var m=u.sender,h={},v=u.dname,f=u.msg,S=u.time||u.intime||u.mtime||"",C=u.mode;if(S=S.toString(),"object"!=typeof f&&u.formattedmsg&&(f=u.formattedmsg),"ACCEPT_TRANSFER"==(C=C||("object"==typeof f?f.mode:C))&&(f.opruser.dname=e[0].attendername,f.opruser.attendername=e[0].attendername),"content_moderation_close"==C||"content_moderation_warning"==C||"content_moderation_block"==C){var b=u.msg||{};f=b.msg||"",m=b.sender_wmsid,v=b.operation_user&&b.operation_user.name}else"BOT_MESSAGE"==C&&(f=u);if(0!==o||(m=r.presender=m||$Support.EmbedObj.vwmsid,u.attendername&&(r.attendername=u.attendername),v=u.visitorname||u.dname,t||$Support.isConversationUIFocussed()||(u.isBotChat=r.isBotChat,$UI.setInnerHeader(u)),f=u.question||u.ques||u.msg,f=Message.getDisplayContent(f),t||ZSIQConversationForm.checkContextInitiated()||(r.waitingtime||-1===r.visitorID||r.istriggeredchat||!r.attender||$UI.populateUserAction(r),!r.waitingtime&&r.populateIcon()),!isUndefined(f)&&""!=f)){if("BOT_MESSAGE"!=C&&(f.chid=a,f.time=u.time,d=$UI.getInfoMsgContent(f,t,i,!0)),C)if("TRIGGER"==C)v=f.dname,f=f.msg;else if("att"===C)h.file=f;else if("cannedarticle"===C)f=$FAQ.getCustomCard(f.msg),h.iscannedarticle=!0;else if("BOT_MESSAGE"==C||"BOT_TRIGGER"==C){var I=(f=f.msg).msglist;if(I)for(var w in I){m=f.sender;var y=(U=(u=I[w]).meta)&&U[$Widget.display_card]&&!U[$Widget.input_card]?U[$Widget.display_card].image:"";s+=ZSIQTranscript.getTranscript($.extend(h,{dname:f.dname,msg:u.msg,time:f.time,sender:m,previoussender:p==m,convvisitorid:t,convchid:i,iscannedarticle:u.iscannedarticle,ratinghtml:u.ratinghtml,bot_image:y,isbotmessage:$BotImpl.isBotMessage(u),msgid:u.msgid,meta:U||{}}),!0,a),r.presender=m}}else if(f.mode&&!d)continue;S=S?-1!=S.indexOf(":")?S:MyDate.getHoursandMin(S,!0,"bclient"):"";var U;y=(U=u.meta)&&U[$Widget.display_card]&&!U[$Widget.input_card]?U[$Widget.display_card].image:"";m=!m&&u.msg&&"TRIGGER"==u.msg.mode?v:m,s+=d||ZSIQTranscript.getTranscript($.extend(h,{dname:v,msg:f,time:S,widgettime:u.time,sender:m,previoussender:p==m,convvisitorid:t,convchid:i,iscannedarticle:u.iscannedarticle,ratinghtml:u.ratinghtml,bot_image:y,isvisitor:u.isvisitor||c==u.sender,isques:u.isques,isbotmessage:$BotImpl.isBotMessage(u),msgid:u.msgid,meta:U||{}}),!0,a),p=r.presender=m}}t?(ZSIQTranscript.updateTranscript({html:s,ispopulate:!0},a),ZSIQTranscript.setMessageClass()):(ZSIQTranscript.updateTranscript({html:s,ispopulate:!0},a),ZSIQTranscript.scroll());var E=e[n-1],T=l.find(".msgbx").last(),q=r.botchatprops&&r.botchatprops.status;if(($BotImpl.iswidgetobj(E)||E.meta&&E.meta.suggestions)&&r.chatID==e[0].chid&&"connected"==q&&0===l.find("#cmpnt"+E.time).length){var _=T.parent();_[0]&&_[0].id==E.msgid&&_.remove(),2!==n&&E.dname===e[n-2].dname||ZSIQTranscript.reSetPreviousSender(r),E.chid=r.chatID,$Widget.showBotReply(E),E.meta&&E.meta[$Widget.input_card]&&$BotImpl.disableComposer("","",a)}if(r.showWaitingDialog(),r.isBotChat&&r.botchatprops){var k=r.botchatprops.status;"connected"==k?$UI.appendTransferDiv(r):"missed"==k&&$UI.showTransferMissed(r),$BotImpl.checkAndScheduleComposerDisable(a)}l&&l.length&&!i&&$(l).scrollTop(l[0].scrollHeight-l[0].offsetHeight);var x=r.chatmaindiv||$("#msgmaindiv");x[0]&&!t&&x.scrollTop(x[0].scrollHeight);var M=SUPPORT_REPS[a]||{};Object.keys(M).length;t||(r.showWaitingDialog(),$Support.setCookie(),delete r.waitTimer)}},getPhotoURL:function(e,t){$Support.EmbedObj;return e?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e+"/photo.ls?nocache=1":ZSIQTranscript.getImageURL({sender:t})},getUserImageWithNPS:function(e){return e&&-1==e.indexOf("nps=202")?e+(-1!=e.indexOf("?nocache")?"&nps=202":"?nps=202"):e},updateUserImage:function(e,t){$Support.Util.updateHeaderBotType("",t),$("#complogo").attr("src",$Support.Util.getUserImageWithNPS(e))},handleKeyDown:function(e,t,i){try{if(13==t&&i.shiftKey)return!0}catch(i){}0==e.parent().find(".smileli").length||-1==[39,37,38,40,13].indexOf(t)?13==t&&(i.preventDefault?i.preventDefault():i.returnValue=!1):i.preventDefault?i.preventDefault():i.returnValue=!1},handlePredictMsg:function(e){var t=e.attr("txtarea-id"),i=ZSIQConversationManager.getChatWinObjById(t);if(-1!=i.chatID&&"sendmessage"===e.attr("dockeyup")){var n=$.trim(e.val()),a=this;if(Licence.verify("creditmask")&&(n=Message.checkMaskOccurance(n,!1)),""!=n&&!a.enablepmsg){a.enablepmsg=!0;var r={chid:i.chatID,vid:i.visitorID};a.prdcttimer=setTimeout(function(){LSMessanger.sendPredictMessage(n,r),a.enablepmsg=!1},3e3)}}},handleRating:function(e){if(!$Support.Util.isPreview()&&!e.hasClass("sel")){var t=e.closest("section [data-id]").attr("data-id"),i=ZSIQConversationManager.getChatWinObjById(t);$(".sqico-star").removeClass("sel"),e.addClass("sel"),i.composer.focus(),i.feedbacksent||$Support.setRating(e,i)}},handleFeedback:function(e,t,i){var n=$("footer").find("#sqico-send");if(n=n.length?n:"",$Support.toggleSendButton(e,n),13===t){if(!this.validateFields(e.parent()))return i.preventDefault(),!1;$Support.sendFeedback(e)}},submitFile:function(e,t){try{var i=$(e)[0];if(0===i.files.length)return}catch(e){}this.hideMoreActionDiv();try{this.handleDropEvent(ZSIQConversationManager.getcurrchatwinChid(),t,i.files)}catch(e){}return!1},handleSendMail:function(e,t,i){var n=e.parent();1<=e.val().length?n.addClass("icoclr"):n.removeClass("icoclr"),13===t&&n.find('[documentclick="triggermail"]').trigger("click")},postMessage:function(e,t){if(null!=t){var i={type:$Support.type,operation:e,value:t};sendPostMessage(i)}},loadPostMessage:function(){window.addEventListener?addEventListener("message",$Support.Util.handlePostMessage):attachEvent("onmessage",$Support.Util.handlePostMessage)},handlePostMessage:function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}var i=t.operation,n=t.value;$Support.Util;if("apivalues"==i)$Support.handleApiData(n);else if("broadcast"==i)$Support.handleApiData(n,!0);else if("sound"==i)$UI.setSoundConfig();else{if("dstoragevalues"==i)return $Support.dStorageCallbackHandler(n);if("dcookievalues"==i)return $Support.dCookieCallbackHandler(n);if("initiframe"==i)return $Support.synchronizeDomainStorage()}},handleTriggers:function(e,t){var i=$Support.Util;if(e!==TRIGGER_SEND_MESSAGE||$Support.waitTimer)e===TRIGGER_PLAY_TUNE&&EmbedSound.play(t.tune);else{if($Support.isChatExist())return;EmbedSound.play("smessage"),i.handleChatTrigger(t),i.handleCallbacks("visitor.chattrigger",t)}},handleTrackChat:function(e){$Support.isChatExist()||($Support.Util.handleCallbacks("visitor.chattrigger",{}),$Support.Util.proactiveChat(e))},handleUTSConnect:function(e){var t=$Support.isChatExist();if(!t||e.isnewconnection){var i=$Support.getRecentLiveChatid(),n=ZSIQConversationManager.getChatWinObjById(i).visitorID;t&&n&&-1!==n&&e.isnewconnection&&$Support.rejoinVisitorInUTS(n)}},proactiveChat:function(e){var t=$Support.EmbedObj;if(!$Support.isChatExist()&&!$Support.getTriggerCookie()){delete $Support.istrigmsg,t.uvid=e.uvid,t.setVisitorEmail(e.email),t.setVisitorName(e.name),t.setVisitorPhone(e.phone),!$Support.getParent().$ZSIQUtil.getAPIVisitorID()&&t.setvwmsID(e.vwmsid),LSMessanger.setNickName(e.name),$EmbedManger.setQuitStatus(!1);var i={attender:e.attender,attenderuseragent:e.attender_useragent,attenderemail:e.attenderemail,attendername:getUnescapedText(e.attendername),chid:e.chid,did:e.department,imagefkey:e.image_fkey,pmsg:e.msg,RCHID:e.wms_chat_id,attenderaboutme:e.aboutme,chatintime:(new Date).getTime()-1e3,proactive:!0,triggername:getUnescapedText(e.attendername)};ZSIQConversationManager.init(i),$Support.chidmappinglist[e.wms_chat_id]=e.chid;var n=ZSIQConversationManager.getChatWinObjById(e.chid);$Support.setCookie(n),$Support.checkAndRegisterWms(),$Support.isFAQUIFocussed()&&$Support.handleNewChatInConversation(n)}},setBotStatus:function(e){$Support.isbottrigmsg=e,$Support.isBotChat=e},handleChatTrigger:function(e,t,i){var n=$Support.EmbedObj,a=$Support.getParent().$ZSIQUtil.getAPIValues();if((!$Support.isChatExist()||t)&&(a.triggermsg||!$Support.getTriggerCookie()||t||a.mtrigger)){var r=e.lsid;if(!r||r==n.livelsid){var o={aboutme:e.aboutme,attender:e.attenderdetails?e.attenderdetails.attender:"",attender_imagefkey:e.attenderdetails?e.attenderdetails.imagefkey:"",istrigmsg:!0,winid:e.winid||e.time,istrigmsg:!0,pmsg:e.message,triggername:e.sendername};$Support.setTriggerCookie(e),ZSIQConversationManager.init(o,"chattrigger",i)}}},handleBotTriggers:function(e,t,i){var n=$Support.EmbedObj,a=$Support.getParent().$ZSIQUtil.getAPIValues();if($Support.getParent().$ZSIQChatWindow.RemoveLoadingForTrigger(),!$Support.isChatExist()&&(a.triggermsg||!$Support.getTriggerCookie()||t)){$Support.EmbedObj.attender=e.attender,$Support.EmbedObj.attendername=e.dname,delete $Support.waitingtime,delete n.question;e.dname,ZSIQTranscript.getImageURL({sender:e.attender}),e.aboutme;e.options&&(e.options=JSON.parse(e.options));var r={aboutme:e.aboutme,attender:e.attender,attender_imagefkey:e.attender_imagefkey,istrigmsg:!0,isbottrigmsg:!0,isbotchat:!0,winid:e.time,attendername:e.sendername||e.dname,istrigmsg:!0,pmsg:e,triggername:e.dname,triggval:e,repopulate:t};ZSIQConversationManager.init(r,"bottrigger",i)}},populateTriggerWindow:function(e,t,i){var n=$Support.isFAQUIFocussed(),a=-1==ZSIQConversationManager.getcurrchatwinChid();if($Support.isConversationUIFocussed()||n||!a||$UI.setInnerHeader(e),$Support.contentdiv||(t.updateInnerBody(),n&&(t.contentdiv&&t.contentdiv.hide(),ZSIQConversationManager.resetLastViewd())),t.showWaitingUI(),$UI.setFooter(),n)return $Support.incrementUnreadCount(t.winid),$("#conv-tab").removeClass("sel"),void $("#faqtab").addClass("sel");$Support.Util.hideFooter(),$Support.contentdiv="";var r=ZSIQConversationManager.getcurrchatwinChid();a=-1==r||r==t.winid;var o=ZSIQConversationManager.chidbeforereload;a&&(o==t.winid||!o)&&$Support.Util.showMessageAreaUI("","","",t)},populateTriggerUI:function(e){var t={attendername:e.sendername||e.attendername,image_fkey:e.imagefkey||e.attenderimagefkey,aboutme:e.attenderaboutme,isbottrigger:e.isbottrigger,attender:e.attender,isBotchat:e.isBotChat};this.populateTriggerWindow(t,e)},toggleAudio:function(e){var t=ZSIQConversationManager.getcurrchatwinobj(),i=e.hasClass("sqico-mute")?-1:1;if($Support.LSDB.setCookie(t.chatID+"_sound",i),t.setSoundConfig(),this.handleUnmute(t),e.parent()[0]&&"UL"!==e.parent()[0].nodeName?shtml=$UI.getSoundHTML(!0,t.soundval):shtml=$UI.getSoundHTML("",t.soundval),e.replaceWith(shtml),-1==i)EmbedSound.stop();else if($Support.endtimer){var n=0;try{var a=$("#endtimer").text();n=parseInt(a.split(" ")[0])}catch(e){}0<n&&!t.isSoundOff()&&EmbedSound.play("endtimer",n)}},handleUnmute:function(e){if(e){var t=e.soundval;if(isUndefined(t)||-1!=t)e.contentdiv.find(".sqico-more").prev("span.sqico-unmute").remove();else{var i=$UI.getSoundHTML(!0,t);e.contentdiv.find(".sqico-more").before(i)}}},hideMaskAnim:function(){$Support.maskdiv.addClass("hidemaskanim")},setTextareaHeight:function(e){if(!window.parent.$ZSIQWidget.getWidgetObject().isshowcallbubble){var t=e&&e.contentdiv||$Support.contentdiv;if(t&&$Support.container.hasClass("outerwin")){var i=0;(e&&e.composer||$Support.getComposer()).removeAttr("style"),t.children('div:visible:not("#info_banr")').each(function(){i+=$(this).outerHeight(!0)});var n=t.height();if(n<i)t.find(".msgbox").addClass("posrel");else{var a=$Support.isNewHeader()?15:0;i=n-i-a;var r=e&&e.composer||$("#msgarea");r.css("height",r.innerHeight()+i+"px"),r.height()<70&&r.css("height","70px")}}}},removeDiv:function(e){setTimeout(function(){e.remove()},2e3)},handleCaptcha:function(){},getCaptchaValue:function(){},handleDropEvent:function(e,t,i){if(!$Support.Util.isDragNotAllowed())try{t.preventDefault(),LSDragDrop.onDropEvent(e,t,i)}catch(e){}},showPasteUI:function(){var e=PasteImage.getHTML();$("#pstimg-main").remove(),$Support.container.addClass("imgcmt").find("header").after(e),PasteImage.updateDetailes($Support.container)},openPushPage:function(e){$UI.hideBanner(),$Support.pushwinobj=window.open(e)},handleTextareaEnter:function(e,t,i,n,a){var r=$("#chatconsent");if(!$Support.Util.getChatConsentStatus()||1!=r.length||0!=r.is(":checked"))return $Support.toggleSendButton(e),!(13!=t||!i.shiftKey)||(!!a||void((13===t||isUndefined(t))&&this.handleStartChat(n,i)));$Support.Util.removeSendClickAction()},handleCallFdbEnter:function(e,t,i,n,a){if(13==t&&i.shiftKey)return!0;""!==$.trim(e.val())&&(13===t||isUndefined(t))&&$Support.sendFeedback(e,"",!0)},handleStartChat:function(e,t,i,n){$Support.EmbedObj;if(!$Support.Util.isPreview()){var a,r=$Support.container;if(t){var o=$(t.target).closest('section [proptype = "siqform"]');a=(a=o.length?o:$Support.contentdiv)&&a.length?a:$(t.target).closest('section [proptype="contentdiv"]')}i=a&&a.attr("data-id")||i;var s=ZSIQConversationManager.getChatWinObjById(i);if(!a&&(a=s.contentdiv),r.find(".hidemaskanim").remove(),!ZSIQConversationForm.checkContextInitiated()&&r.hasClass("outerwin")&&(!$Support.checkCustomFields()||!this.validateFields(a)))return t&&t.preventDefault(),!1;if(!$Support.isConversationAllowed()&&r.find("#showsiqconv").hide(),ZSIQConversationForm.checkFormContext()&&"leavemsg"!=n)return $Support.updateInputValues(s),void ZSIQConversationManager.init({winid:(new Date).getTime()},"formview");$Support.checkCustomFields(),i?!$.isEmptyObject(s)&&s.hideBanner():$UI.hideBanner(),$Support.updateInputValues(s),"function"==typeof e&&e()}},hidePasteUI:function(){$("#pstimg-main").addClass("hidemaskanim"),$("section.imgcmt").removeClass("imgcmt")},bindUtilEvents:function(){bindDragDropEvents(),handlePaste()},handleDrpdwnEvent:function(e,t,i){if(!$Support.Util.isPreview()){var n=e.find("ul"),a=e.find("li.atsel"),r=n.find("li:first-child");if(13==t){if(a.length)return a.trigger("click"),void i.preventDefault();e.find("a").trigger("click"),i.preventDefault()}a=n.find("li.atsel").removeClass("atsel");if(40==t){if(n.is(":hidden"))return e.find("a").trigger("click"),void i.preventDefault();var o=a.next();a=o.length?o:r,i.preventDefault()}else if(38==t){var s=a.prev();a=s.length?s:n.find("li:last-child"),i.preventDefault()}a.addClass("atsel"),a.length&&n.stop(!0,!0).animate({scrollTop:a[0].offsetTop}),i.stopImmediatePropagation()}},fillApiValues:function(){var e=$Support.EmbedObj,i=e.addinfo;getUnescapedText(i.question),getUnescapedText(e.visitorname),e.visitorphone,e.visitoremail;DynamicMsg.updateValues(i),$Support.container.find("[info]").each(function(){var e=$(this),t=i[e.attr("info")];isUndefined(t)||e.val(t)}),$Support.toggleSendButton();var t=i?i.forcefloatingwindow:null,n=$("body");n.removeClass("siq_mprv"),($Support.Util.isSIQMobilePreview()||(t||$Support.Util.isHandHeldDevice())&&$Support.isFloat()&&window.outerWidth<555)&&(n.addClass("siq_mprv"),$Support.contentdiv.parent().removeClass("siq_mscreen").addClass("siq_mscreen"),this.setTextareaHeight())},handleCustomHTML:function(m){var e=$Support.customobj,h=$Support.EmbedObj.isformremoval;if(e){(!h||ZSIQConversationForm.isOldFormView())&&this.checkAndRemoveCustomField([]);try{$.each(e,function(e,t){t.index=t.index||e;var i=t.name;if(/^_default./.test(i)){var n=i.replace("_default.",""),a=$Support.container.find("[purpose=visitor"+n+"]"),r="true"==t.required||1==t.required,o=t.maxlength,s=t.minlength;if(/^department$/.test(n)&&(a=$Support.container.find("[purpose=department]")).text(getEscapedText(t.hint)),/^question$/.test(n))(a=$Support.container.find("[purpose=question]")).attr("placeholder",getEscapedText(t.hint));else if(t.hint){if(a.length<1)return"";if(r)var d=a.attr("data-validate").replace("optional","required");else d=a.attr("data-validate").replace("required","optional");a.attr("data-validate",d),a.attr("placeholder",getEscapedText(t.hint))}if(o||s){if(a.length<1)return"";o&&a.attr("maxlength",o);var p=a.attr("data-validate");s&&(p=p.concat(" minlimit "+s)),a.attr("data-validate",p)}return""}if(!h||ZSIQConversationForm.isOldFormView()){var c=$($UI.getCustomHTML(t));if(!c.length)return!0;var l=t.before||t.after||"";l?(insertelem=$Support.container.find('[custom = "'+l+'"]'),insertelem[t.before?"before":"after"](c)):m?c.insertBefore($("#usereditactionbtn")):c.insertBefore("div.msgbox")}if("selectbox"==t.type&&($("#sqico-cdrpdwn"+t.index).dropdown({options:t.options,purpose:"customdrpdwn",defaultval:t.hint||t.name||"Custom"}),t.defaultvalue)){var u=$("#sqico-cdrpdwn"+t.index).find('li[val="'+t.defaultvalue+'"]');u.length&&u.trigger("click")}if(t.errorinfo){var g=$Support.EmbedObj;i=t.name;g.errorinfo[i]=t.errorinfo}}),this.handleCustomVisibility(),this.setTextareaHeight()}catch(e){}}},handleCustomVisibility:function(){var r=$Support.EmbedObj,t=$Support.contentdiv.find('[purpose="custom"]'),i=this;$.each(t,function(e,t){var i=$(t),n="undefined"!=i.attr("visibility")?i.attr("visibility"):"both";i.hide();var a=i.prev(".subtitle").hide();"both"==n||r.status&&"online"==n||!r.status&&"offline"==n?(i.show(),a.show()):(i.remove(),a.remove())}),t.find("input[type=radio],input[type=checkbox]").off().on("change",function(){var e=$(this).attr("name");i.handleInputChange(e,t.find("input[name='"+e+"']:checked").map(function(){return this.id}).get())})},removeSendClickAction:function(){$("#sqico-send").removeAttr("documentclick"),$("#action_icons").removeClass("show_send")},getFileURL:function(e,t){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.readAsDataURL(e)},handleDeptChange:function(e,t){var i=!t,n=e.find("span").attr("status"),a=$Support.EmbedObj;if("1"!=n)a.offlinedeptid=e.attr("val"),$Support.Util.UpdateDeptforFormInstance(e.attr("val")),$Support.Util.setHeaderforDeptChange(n),$UI.updateOfflineUI(null,i);else{if(!this.prevstatus||"1"==this.prevstatus)return;$Support.isFAQEnabled()&&$("#msgarea").parent().find("#sqico-send").remove(),$Support.Util.setHeaderforDeptChange(n),$Support.Util.UpdateDeptforFormInstance(e.attr("val")),$UI.updateOnlineUI(null,i),a.question&&($Support.composer=$("#msgarea"),$Support.composer.text(a.question),$Support.toggleSendButton()),this.setTextareaHeight()}this.prevstatus=n},UpdateDeptforFormInstance:function(e){ZSIQConversationForm.isOldFormView()||e&&(ZSIQConversationManager.getcurrchatwinobj().department=e)},setHeaderforDeptChange:function(e){var t=this.prevstatus;t&&t==e||$Support.container.find("#attname").text(getEscapedText($Support.getChatWindowTitle("",e)))},handleResize:function(e){if($Support.Util.calculateContentHeight(e),$Support.Util.setTextareaHeight(e),$Support.Util.calculateTextareaHeight(e),!$Support.isParentIframe()||"embed"===$Support.type){var t=$Support.container,i=$("body").children('#cmpylogo:not(".nologo")'),n=0!=i.length?i.outerHeight():0,a=$Support.container.find("header").outerHeight()+n;t.css("height",$(window).height()-n);var r=e?e.contentdiv:$Support.contentdiv;e?e.chatdiv:$Support.chatdiv;r.css("height",t.find("footer").offset().top-a-8),$Support.chatdiv&&$Support.chatdiv.css("height",r.outerHeight()-(r.find(".usrinpt").outerHeight()+r.find(".chtend").outerHeight(!0))),$Support.Util.setTextareaHeight(e)}},isInValidVisitorName:function(e){return!(e=e||$Support.EmbedObj.visitorname)||e&&(0===e.lastIndexOf("Visitor ",0)||0===e.lastIndexOf("Guest",0))},handleInputChange:function(e,t){var i={val:t,name:e};this.handleCallbacks("custom.field",i)},handleCallbacks:function(e,t){if(e&&t){var i={};i[e]=t,$Support.getParent().$ZSIQWidget.handleCallBacks(i)}},handleGroupIcon:function(e){var t=e.participants;t&&1<getObjectSize(t)&&$UI.addGroupIcon()},IsMandatoryFieldsAvailable:function(){var e=$Support.EmbedObj,t=e.eprops,i=$Support.customobj,n=$Support.Util.isInValidVisitorName()&&this.checkToShowField("isname","siq_name")&&JSON.parse(t.isname[1].ismandatory)||!e.visitoremail&&this.checkToShowField("isemail","siq_email")&&JSON.parse(t.isemail[1].ismandatory)||!e.visitorphone&&this.checkToShowField("isphoneno","siq_phone")&&JSON.parse(t.isphoneno[1].ismandatory),a=!1;try{for(var r=0;r<i.length;r++){var o=i[r];if(""+o.required=="true"&&(!o.visibility||"offline"!=o.visibility))if(/^_default./.test(o.name)){var s=o.name.replace("_default.","");if(/^department$/.test(s))continue;if("name"==s&&this.checkToShowField("isname","siq_name")&&$Support.Util.isInValidVisitorName()){a=!0;break}if("email"==s&&this.checkToShowField("isemail","siq_email")&&!e.visitoremail){a=!0;break}if("phone"==s&&this.checkToShowField("isphoneno","siq_phone")&&!e.visitorphone){a=!0;break}}else if(!e.cinfo||!e.cinfo[o.name]){a=!0;break}}}catch(e){}return n||a},CheckAllDefaultFieldsDisabled:function(){var e=$Support.Util;return e.checkToShowField("isname","siq_name")||e.checkToShowField("isemail","siq_email")||e.checkToShowField("isphoneno","siq_phone")},checkToShowField:function(e,t){var i="clearfield",n=$Support.EmbedObj.eprops,a=$Support.getParent().$ZSIQUtil.getAPIValues()||{},r=!(!a[i]||!a[i].includes(t));return n[e]&&JSON.parse(n[e][0])&&!r},checkAndRemoveCustomField:function(e){var t=$Support.contentdiv;if($.isEmptyObject(e))t&&t.find("div[custombx]").remove();else for(var i=0;i<e.length;i++)t.find("[customid='"+e[i]+"']").remove()},isApiWaitHandler:function(e){return isPostMessageSupported()&&$Support.isscript&&$Support.isapiwaitinghandler},setBrowserValues:function(){var e=document.referrer;e=-1!=navigator.userAgent.indexOf("MSIE")||-1!=navigator.userAgent.indexOf("Trident")?window.btoa?window.btoa(e):_ZLDReq.btoa(e):window.btoa(e);var t=$Support.EmbedObj.eparams;t.referrer=e,t.cpage=document.location.href||e,Browser.setReferer(e),Browser.setCurrentPage(t.cpage),Browser.setPageTitle(t.pagetitle)},handleDeptApiChange:function(t,i){if(null!=t&&-1!=t)if($.isArray(t)){$("#sqico-drpdwn").find("li").each(function(){var e=$(this);-1==$.inArray(getEncodedText(e.attr("uniname")),t)&&$(this).hide()});var e=$("#sqico-drpdwn").find("li");e.sort(function(e,t){return i.indexOf($(t).attr("uniname"))<i.indexOf($(e).attr("uniname"))?1:-1}),$("#sqico-drpdwn").find("ul").empty().append(e)}else"online.department"===t&&$Support.EmbedObj.status&&$("#sqico-drpdwn").find("li").each(function(){var e=$(this);$(e).children("span").attr("status")===$Support.DEPT_OFFLINESTATUES&&$(this).hide()})},isCampaignEnabled:function(){try{var e,t=$Support.EmbedObj.integprops.integinfo;if(!t)return!1;for(var i in t){e=$Support.enabledCampaignID=i;break}if(e&&"0"==t[e].status)return!1;var n=t[e].listname;return n&&""!==n}catch(e){return!1}},hideFeedback:function(e){$Support.Util.isPreview()||(e.hideMaskDiv(),$Support.container.find("footer .floatrg").remove(),e.isfeedbacksent=!0,e.isratingsent=!0,$Support.Util.handleFeedbackSubmit(e),e.contentdiv.find('[proptype="sqico-send"]').parent().remove())},displayInfo:function(e){$UI.displayInfo(e)},hideInfo:function(){$UI.hideBanner()},showOfflineBanner:function(){var e=$Support.EmbedObj;if(!$Support.proactive&&!$Support.isChatExist()&&!(e.status&&this.isOnline(e.department)||$Support.getCookieValue("ZLD"+e.livelsid+"OFFLINEBANNER"))){$UI.showBanner($Support.getOfflineMessage(),!0,null,3e3);setTimeout(function(){$Support.LSDB.set("ZLD"+e.livelsid+"OFFLINEBANNER",!0,31e4)})}},showOnlineBanner:function(){var e=$Support.EmbedObj;if(!$Support.proactive&&!$Support.isChatExist()&&((e.status||this.isOnline(e.department))&&!$Support.getCookieValue("ZLD"+e.livelsid+"ONLINEBANNER"))){$UI.showBanner(LSResource.getRealValue("ne.onlinemsg"),!0,null,3e3);setTimeout(function(){$Support.LSDB.set("ZLD"+e.livelsid+"ONLINEBANNER",!0,31e4)})}},isOnline:function(e){if(""+e=="-1")return!0;for(var t=$Support.EmbedObj.deptlist,i=0;i<t.length;i++){var n=t[i];if(n.ID==e)return""+n.STATUS=="true"}},updateParentFontFamily:function(){var e=$Support.getParent().$ZSIQUtil.getWebFontFamily();$Support.font=e,$("body").css("font-family",e)},isSIQMobilePreview:function(){return $Support.Util.isPreview()&&"mobile"==parent._WIDGETPREV_MODE},isPreview:function(){return $Support.getParent().$ZSIQChat.isPreview()},isHandHeldDevice:function(){return!!$Support.Util.isSIQMobilePreview()||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent)},handleShowConversation:function(s,d){if($Support.isConversationAllowed()||!$Support.Util.checkToShowConversationEmptyPage(!0)){var p="";$Support.Util.updateViewAttribute("msgarea"),0<$Support.convlistcontainer.find("#pastchatconv").find(".siqc_cntbody").length?$Support.Util.showConversationListUI():(0<$Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody").length&&(p=$($Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody")[0]).attr("chid"),$Support.Util.showConversationListUI()),$Support.PopulateConversationList(function(e,t){if(e.length){var i="";if(1==e.length){var n=e[0]||{},a="conv"+n.chid,r=$Support.convlistcontainer.find("#currchatconv").find("#"+a);"end"==r.attr("status")&&p!=n.chid&&r.remove()}if(e.forEach(function(e){p!=e.chid&&(e.question=getEscapedText(e.question),i+=$Temp.getConversationHistoryHTML(e))}),t?$Support.convlistcontainer.find("#pastchatconv").prepend($(i)):$Support.convlistcontainer.find("#pastchatconv").append(i),d||!s&&$Support.isChatExist()){var o=$Support.container.find("#showsiqconv");o.find("#siqnoticon").hide(),o.show()}else $Support.Util.showConversationListUI();$Support.Util.calculateContentHeight()}},s))}else $Support.Util.showConversationEmptyPage()},hideConversation:function(){$Support.convlistcontainer&&$Support.convlistcontainer.hide(),$Support.convtranscontainer&&$Support.convtranscontainer.hide(),$Support.container.find("#showsiqchatui").hide()},checkAndFocusComposer:function(){ZSIQConversationForm.isOldFormView()||$("#msgarea").focus()},showConvBackArrow:function(e){!ZSIQConversationForm.isOldFormView()&&$Support.isFAQEnabled()&&$Support.isNewHeader()&&!$Support.Util.isPreview()&&($Support.getParent().$ZSIQChatWindow.isChatExist()||ZSIQConversationForm.checkContextInitiated()||$Support.container.find("#showsiqconv").show())},showMessageAreaUI:function(e,t,i,n){var a=i&&i.attr("chid"),r=a?ZSIQConversationManager.getChatWinObjById(a):n||{};this.hideConversation(),this.showConvBackArrow();var o=$Support.EmbedObj,s="showsiqchatui"==e||"faqchtnow"==e;if(s&&$Support.deletePrechatVal(),!s||$Support.contentdiv&&0!=$Support.contentdiv.find("[custom=question]").length){o=$Support.EmbedObj;var d=r&&r.visitorID,p=$Support.getCookieValue("ZLD"+o.livelsid),c=p&&p["aboutme_"+d]||r.attenderaboutme||o.lastattenderaboutme,l=p&&p["attname_"+d]||r.attendername||o.lastattendername;!l&&r.istrigmsg&&(l=r.triggername),$Support.Util.updateViewAttribute("msgarea");var u=getEscapedText($Support.getChatWindowTitle(l)),g=$("body"),m=g.find('[prop="header"]');g.find("#attname").text(u);var h='<div class="txtelips siq-about-me" id="attabtme" title="'+(c=c?CommonUtil.decodeHTML(c):"")+'">'+Smiley.replace(c)+"</div>";g.find("#attabtme").replaceWith(h),g.find("#siqconvchaticon").remove();var v=$Support.getParent().$ZSIQUtil.getAPIValues(),f=JSON.parse(o.eprops.iclogo)?o.clogo:"";v.clogo&&(f=v.clogo);var S=$Support.isUserLogoEnabled("",r)&&r.attenderimagefkey?$Support.Util.getPhotoURL(r.attenderimagefkey,r.attender):"";f=(f=l?S:f)||!r.isBotChat&&!r.isBotattendedchat?f:ZSIQTranscript.getImageURL({sender:r.attender}),m.find(".cmplogo").removeAttr("style"),$Support.Util.updateUserImage(f,r),m.find(".cmplogo"),$Support.Util.updateHeaderBotType("",r),$Support.isUserLogoEnabled("",r)&&m.find(".cmplogo").attr("data-chttype","agent");var C=m.find('[prop="clogo"]'),b=l?"sqico-user":"sqico-chat";C.removeClass("sqico-chat sqico-user wincustom_bg").addClass(b),m.removeClass("nologo category siq-usr conv_headview"),f||(m.addClass("nologo"),C.addClass("wincustom_bg")),r.attendername&&!r.isBotChat&&m.addClass("conv_headview"),$Support.Util.reSetHeaderClass();var I=$Support.container.find("#showsiqconv");I.find("#siqnoticon").hide(),$Support.isShowConversationArrow(r)&&I.show(),$.isEmptyObject(r)||-1!=ZSIQConversationManager.getcurrchatwinChid()?$Support.contentdiv&&$.isEmptyObject(ZSIQConversationManager.getcurrchatwinobj())&&($Support.container.addClass("outerwin"),$Support.contentdiv.show(),$Support.container.find("footer").show()):($Support.container.removeClass("outerwin"),r.contentdiv.show(),-1!=r.chatID&&$Support.Util.hideFooter(),ZSIQConversationManager.updateLastviewed(r.winid,{chatid:r.chatID,chatendmsg:r.chatendmsg})),$Support.removeConversationPopupMessage(),$Support.applyOngoingChatClass("siqc_cntbody",r.convongoingchatobj);var w=$Support.getUnreadCount(r.chatID),y=r.chatmaindiv;if(w&&!$.isEmptyObject(r)){$Support.removeUnreadCookie(r.chatID),$Support.getParent().$ZSIQWidgetUI.removeUnreadCount();var U=I.find(".siqc_prochtcls");0!=U.length&&U.remove(),y.length&&Message.scroll(y[0]),r.composer.focus()}var E=SUPPORT_REPS[r.chatID]||{};Object.keys(E).length;r.convongoingchatobj&&(r.convongoingchatobj.find(".siqc_eletype").html("")[0].className=-1!=r.chatID||r.istrigmsg||ZSIQConversationForm.checkContextInitiated()?"siqc_eletype sqico-chat2":"siqc_eletype"),t&&r.composer.val(t),$Support.isFAQEnabled()&&($("#conv-tab").addClass("sel"),$("#faqtab").removeClass("sel")),$Support.Util.handleResize(r);try{T=ZSIQConversationManager.getChatWinObjById(r.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(T)}catch(e){}}else{$Support.contentdiv=$($Temp.getBodyHTML()).insertAfter($Support.container.find("header")),-1==$Support.EmbedObj.department&&$UI.populateDropDown(),$TH.updateFooter(),ZSIQConversationForm.isOldFormView()&&$Support.handleApiData($Support.getParent().$ZSIQUtil.getAPIValues()),$Support.container.addClass("outerwin"),$Support.contentdiv.show(),ZSIQConversationManager.resetLastViewd(),$Support.isConversationAllowed()&&($Support.removeEndedChatInstanceAndElement(),$Support.container.find("#showsiqconv").click()),$Support.Util.showMessageAreaUI();try{var T=ZSIQConversationManager.getChatWinObjById(r.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(T)}catch(e){}}},toggleAudioCallIcon:function(e,t){},showConversationListUI:function(){var e=ZSIQConversationManager.getcurrchatwinobj();ZSIQConversationManager.resetLastViewd(),$Support.container.find("footer").show();var t=$Support.convlistcontainer.find("#convwtime");0!=t.length&&t.html(MyDate.timeDifference(t.attr("convmtime"))),$Support.convlistcontainer.find("#pastchatconv").find("[convmtime]").each(function(){var e=$(this),t=e.attr("convmtime");t&&e.html(MyDate.timeDifference(t))}),!$.isEmptyObject(e)&&0<e.contentdiv.find("#edituserdetails").length&&(e.contentdiv.find("#edituserdetails").remove(),$Support.enableTextarea($Support.getComposer())),$Support.convtranscontainer.hide(),$Support.isFAQEnabled()||($Support.container.find("footer").hide(),$Support.Util.checkAndAddFreeLogo($Support.convlistcontainer));var i=$Support.container.find("#showsiqconv");i.find("#siqnoticon").hide(),i.hide(),$Support.Util.updateViewAttribute("convlist");var n=$("body");n.find("#attname").text(LSResource.getRealValue("converation.withus")),n.find("#attabtme").text(""),n.find("#complogo").attr("src","");var a=n.find('[prop="header"]');a.find(".cmplogo").removeAttr("style"),a.addClass("nologo"),a.find(".cmplogo").attr("data-chttype","conv"),a.removeClass("siq-usr").removeClass("conv_headview"),$Support.Util.removeHeaderType(),a.find('[prop="clogo"]').removeClass("sqico-user wincustom_bg").addClass("sqico-chat wincustom_bg "),$Support.convlistcontainer.show(),this.showSiqChatUI(e),$Support.Util.reSetHeaderClass();try{var r=ZSIQConversationManager.getChatWinObjById(e.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(r)}catch(e){}},showConversationTranscriptUI:function(e,t){var i=-1!==t?t:e,n=ZSIQConversationManager.getChatWinObjById(i);$Support.convlistcontainer.hide(),$Support.isFAQEnabled()||$Support.container.find("footer").hide();var a,r=$Support.getParent().$ZSIQUtil.getAvuid(),o=$Support.LSDB.getFromSession(r+"_conversation"),s="",d="",p="";for(var c in o)if(o.hasOwnProperty(c)){var l=o[c];if(l.visitorid!=e)continue;l.chid||l.attender?l.attender?(s=l.attender,p=l.attender_imgkey?$Support.isUserLogoEnabled(l,n)||l.isbotattender?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+l.attender_imgkey+"/photo.ls?nocache=1":"":ZSIQTranscript.getImageURL(JSON.parse(l.lastmsg))):s=LSResource.getRealValue("conversation.missedchat"):s=LSResource.getRealValue("conversation.offlinechat"),l.designation&&(d=l.designation),a=l.isbotattender}$Support.Util.isbotconversation=a,$Support.Util.updateViewAttribute("convchat");var u=$("body");u.find("#attname").text(s),u.find("#attabtme").text(d),u.find("#siqconvchaticon").remove(),$Support.Util.updateUserImage(p,n);var g=u.find('[prop="header"]');g.removeClass("nologo").addClass("conv_headview"),g.find(".cmplogo").removeAttr("style");var m=g.find('[prop="clogo"]'),h=s?"sqico-user":"sqico-chat";m.removeClass("sqico-chat sqico-user wincustom_bg").addClass(h),g.find(".cmplogo").attr("data-chttype","agent"),$Support.Util.updateHeaderBotType("",n),p||(g.addClass("siq-usr").addClass("nologo"),m.addClass("wincustom_bg")),this.showSiqChatUI(n),n.contentdiv.show(),ZSIQConversationManager.updateLastviewed(i);var v=$Support.container.find("#showsiqconv"),f=$Support.getUnreadCount(),S=v.find("#siqnoticon");f&&0==S.length&&v.prepend("<em id='siqnoticon' class='siqc_prochtcls' documentclick='showchatui'></em>"),v.find("#siqnoticon").show(),v.show(),$Support.Util.reSetHeaderClass();try{var C=ZSIQConversationManager.getChatWinObjById(n.chatID).RCHID;SiqAVRouter.container.detailsHandler.triggerIconCheck(C)}catch(e){}},showSiqChatUI:function(e){var t=$Support.EmbedObj,i=e&&$Support.isfeedback&&e.isfeedbacksent,n=e&&$Support.israting&&e.isratingsent,a=e&&!$Support.isfeedback&&!e.israting;e&&!$.isEmptyObject(e)?e.contentdiv.hide():$Support.contentdiv&&$Support.contentdiv.hide(),$Support.isFAQEnabled()||$Support.container.find("footer").hide(),t.isreopenenabled&&(!$Support.isChatExist()||$Support.isChatExist()&&_WMSACK)&&!t.curraddvistid&&!ZSIQConversationForm.checkContextInitiated()?$Support.container.find("#showsiqchatui").show():$Support.isChatExist()||!(i||n||a||!e.lchid||$.isEmptyObject(e)||-1==e.lchid)||e.proactive||$Support.getTriggerCookie()||ZSIQConversationForm.checkContextInitiated()||$Support.container.find("#showsiqchatui").show(),$Support.removeConversationPopupMessage(),$Support.Util.calculateContentHeight()},isAnnonUser:function(e){try{if(-1!=e.indexOf("$"))return!0}catch(e){}return!1},getFileClassType:function(e){var t="";return e?t=-1!=e.indexOf("image")?"sqico-camera":-1!=e.indexOf("audio")?"sqico-audio":-1!=e.indexOf("video")?"sqico-video":"sqico-file-min":t},hexToRGBA:function(e,t){return e+=4==e.length?e.slice(1,4):"","rgba("+parseInt(e.slice(1,3),16)+", "+parseInt(e.slice(3,5),16)+", "+parseInt(e.slice(5,7),16)+", "+(t||1)+")"},handleCompanyLogo:function(e){var t=$("#complogo");t.on("load",function(){t.parent().removeClass("sqico-clogo")}),t.on("error",function(){var e=ZSIQConversationManager.getcurrchatwinobj();$("#blur_userbg").hide().parent().removeClass("hide_fontico"),""!=t.attr("src")&&(t.attr("src",""),$Support.Util.isBotTranscript(e)?t.parents(".cmplogo").addClass("siq_botimg"):t.parent().addClass("sqico-clogo"))})},lastMessageTemplate:function(e){if(e)return'<div class="ziq_msg agntmsg siq-agntmsg fd_lastmsg" data-field="message"><div purpose="name" class="siq-user-name"></div><div class="msgbx"><span class="siq-user-message">'+($Support.EmbedObj.ratingcomplete||LSResource.getRealValue("ne.rating.message")+"<br>"+LSResource.getRealValue("ne.rating.fbmessage"))+"</span>"+(e?'<div class="lstmsg_strs" id="feedback_res" proptype = "feedback_res" documentclick="showChatFeedback"><span class="reaction_ico '+e+'_icon noanim" title="'+LSResource.getRealValue("common."+e)+'" data-prop="rating"></span><div class="reactions">'+$Temp.getStarHTML()+"</div></div>":"")+"</div></div>"},showChatFeedback:function(e){e.addClass("sel")},handleFeedbackSubmit:function(e){var t=e.contentdiv.find('[proptype = "feedback_res"]');if(0==t.length){var i=e.chatdiv;ZSIQTranscript.updateTranscript({html:this.lastMessageTemplate(e.rating)},e.winid),ZSIQTranscript.setMessageClass();var n=i.find(".fd_lastmsg");n.hasClass("single_msg")&&n.find('[purpose="name"]').text(e.attendername),Message.scroll(e.chatmaindiv[0]);var a=t.find(".rating");a.find(".sel").removeClass("sel"),a.find("span:nth-child("+(6-e.rating)+")").addClass("sel")}else t.removeClass("sel").find('[data-prop="rating"]').text(e.rating)},setMessageClass:function(e){var a=$Support.container.find(".ziq_msg:not(.siq_widget)");a.each(function(e){var t=$(this);t.removeClass("single_msg lst_msg");var i=$(a[e-1]),n=$(a[e+1]);!n.length&&!i.length||!n.length&&t.hasClass("agntmsg")&&i.hasClass("vismsg")||!n.length&&t.hasClass("vismsg")&&i.hasClass("agntmsg")||t.hasClass("agntmsg")&&n.hasClass("vismsg")&&i.hasClass("vismsg")||t.hasClass("vismsg")&&n.hasClass("agntmsg")&&(i.hasClass("agntmsg")||!i.length)?t.addClass("single_msg"):(!n.length||t.hasClass("agntmsg")&&n.hasClass("vismsg")||t.hasClass("vismsg")&&n.hasClass("agntmsg"))&&t.addClass("lst_msg")})},getTextColor:function(e){var t=this.getRGB(e);return 186<.299*t[0]+.587*t[1]+.114*t[2]?{text_color:"#444",icon_color:"#ccc"}:{text_color:"#fff"}},getRGB:function(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]},calculateTextareaHeight:function(e){if(!$Support.container.hasClass("outerwin")){var t=!$.isEmptyObject(e),i=$Support.container,n=t?e.contentdiv.find(".msgarea"):i.find(".msgarea");if(n.length){n.removeAttr("style");var a=t?e.contentdiv:i.find(".content"),r=n[0].scrollHeight+2,o=140<(r=r<70?70:r)?{height:"140px",overflow:"auto"}:{height:r+"px",overflow:"hidden"};if(n.css(o),!$Support.isNewHeader()){var s=$("#consentbannerdiv").length?$("#consentbannerdiv").height()+10:0,d=a.height()-a.find(".txtarewrap").height();a.find(".chtcont").css({height:d-s+"px"}),i.find(".dragmask").css({height:d+"px"})}}}},calculateContentHeight:function(e){if(!$Support.isNewHeader()){var t=$Support.container,i=2*parseInt(t.css("border-left-width")),n=t.outerHeight()-(t.find("header").outerHeight()+t.find("footer").outerHeight()+i);t.find(".siq_content").css({height:n}),t.find('[ctype="hstrycntnt"]').css({height:n})}},getImagePreviewHTML:function(e){var t=e.user_photo||"https://img.zohocdn.com/salesiq/images/user/user_160-160_8265b0d9db45b8cd081ef20d712e559a_.png";return'<div class="zsiq_prv_main zsiq_imgprv" id="zsiqimagepreview" zsiqclose="true" docclick = "zsiqclose"><img src="'+e.url+'" zprv-prop="image" zsiqclose="true" /><div><img src="'+t+'" zprv-prop="userimage" /><div class="zsiq_prv_cmtmain"><p zprv-prop="userneme">'+getEncodedText(e.user)+'</p><div zprv-prop="comment">'+getEncodedText(e.comment)+"</div></div>"+(e.durl?'<a href="'+e.durl+'" zprv-prop="download"><em class="zsiq_fsize">'+e.size+'</em><em class="siqico-download"></em></a>':"")+'</div><em class="siqico-close" zsiqclose="true" docclick="zsiqclose"></em></div>'},showImagePreview:function(e){var t=e.parents('[data-field="message"]'),i=t.hasClass("vismsg"),n=t.find("img").attr("src");if(n){var a=t.find("code").text(),r=t.find(".fdload").attr("href"),o=i?"":$Support.container.find("header img").attr("src"),s=$("#attname").text();i&&$Support.container.find(".siq-visitor-name").each(function(){if(s)return!1;s=$(this).text()});var d={url:n,comment:a,durl:r,user:s,user_photo:o,size:t.find("[data-filesize]").attr("data-filesize")},p=this.getImagePreviewHTML(d);$(window.parent.document).find("body").append(p),$Support.getParent().$ZSIQUtil.bindEventsForImgPreview()}},handleUpdateBTN:function(e){var t=$("#continue_btn"),i="true"==t.attr("data_isupdate"),n=i?"ne.update":"common.continue";e&&(n=i?"common.updating":"common.continuing"),t.text(LSResource.getRealValue(n))},handleAccordian:function(n){var a=$('[data-type="accordian-item"]').hide();$('[data-type="accordian-header"]').click(function(){var e=$(this),t=a.filter(":visible"),i=e.prev();if($('[data-type="accordian-header"]').find(".sqico-uarrow").removeClass("sqico-uarrow"),t.animate({height:"toggle",opacity:"toggle"},"500"),t[0]!=i[0])return"function"==typeof n&&n(e),e.find(".sqico-darrow").addClass("sqico-uarrow"),i.animate({height:"toggle",opacity:"toggle"},"500"),!1})},handleOnlineStatus:function(e,t){var i=$Support,n=i.EmbedObj,a=i.contentdiv;ZSIQConversationForm.checkContextInitiated()&&ZSIQConversationManager.getcurrchatwinobj().contentdiv&&(a=ZSIQConversationManager.getcurrchatwinobj().contentdiv),a||($UI.init(e),a=i.contentdiv),t&&!$Support.isOnlineChat()&&$UI.showBanner(LSResource.getRealValue("ne.onlinemsg"),!0,null);var r=a.find("#msgarea");r.attr("dockeyup","textarea").val(null!=n.question?n.question:$("#msgarea").val()).parents(".msgbox").removeClass("posrel"),r.attr("dockeydown","textarea").attr("placeholder",LSResource.getRealValue("ne.message.hitenter")),$Support.isFAQEnabled()||$("footer").find(".floatrg").remove().end().append($Temp.getSendBtnHTML(LSResource.getRealValue("common.startchat"))),""!=r.val()&&$("footer").find("em#sqico-send").attr("documentclick","textarea"),i.Util.setTextareaHeight();var o=$Support.getParent().$ZSIQWidget.getWidgetObject();o.status=!0,o.onlysticker=!0,$Support.getParent().$ZSIQWidgetUI.drawWidget(o)},updateViewAttribute:function(e){$Support.isBotChat||$Support.isBotattendedchat;$("body").find('[prop="header"]').find(".cmplogo").attr("data-chttype","conv"),$Support.container.attr("cwview",e),"2"===$Support.container.attr("themeid")&&$("body").attr("cwview",e)},getFAQLabel:function(){var e="";if($Support.isFAQEnabled()&&(e=LSResource.getRealValue("faq.header.title"),$Support.EmbedObj.faqaccess)){var t=$Support.EmbedObj.faqaccess[1].label;""!==t&&(e=t)}return e},getChatConsentStatus:function(){var e=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj,t=$Support.EmbedObj.pprops,i=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent");return!(!(1==e.isgdprenabled)||!JSON.parse(t.isgdprenabled)||1!=JSON.parse(t.chatprivacyconfig)||i)},getConversationSelect:function(e){for(var t="",i=e.options,n=e.type,a=0;a<i.length;a++){var r=i[a],o=r.text||r.value;t+='<span class="choose mB10" purpose="custom" val="'+o+'" prop="'+n+'" documentclick="chooseField">'+o+"</span>"}return'<div class="ziq_msg agntmsg siq-agntmsg single_msg"><div id="sel_msg" isrequired="'+e.required+'" class="sel_msg font14" data-type="type"></div><div class="options textL" id="conversationoption" data-type="'+e.type+'">'+t+"</div></div>"},chooseField:function(e,t){var i=$(t.target).attr("val"),n=$Support.EmbedObj,a=n.chatID;Message.animate(e.parents(".ziq_msg"),!0,function(e){if(e.remove(),-1==n.department||$Support.Util.IsMandatoryFieldsAvailable())return $Support.getComposer().val(i),$Support.EmbedObj.question=i,$Support.disableTextarea(),$UI.showUserEditUI(),void $Support.container.find('[documentclick="updateuserdetails"]').attr("callback","trigger");!$Support.isbottrigmsg||a&&"-1"!=a?Message.send(a,i):($Support.EmbedObj.question=i,ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({msg:i,sender:$Support.EmbedObj.vwmsid}),ispopulate:!0}),$Support.handleBotTriggerReply(i))})},getOfflineAPIConsent:function(e){var t=$Support.getParent().$ZSIQUtil.getAPIValues();if(t.textbannerobj&&t.textbannerobj.offline){var i=t.textbannerobj.offline;if(e=i.description&&0!=i.description.trim().length?i.description:e,i.policytextandlink){var n=i.policytextandlink,a=n.text&&0!=n.text.trim().length?n.text:"",r=n.link&&0!=n.link.trim().length&&$Support.getParent().$ZSIQUtil.isValidURL(n.link)?n.link:"";e=$Support.getParent().$ZSIQUtil.hyperLinksSubString(e,a,r)}}return e},getTypingHTML:function(){return'<div class="type-loadr textC"><span></span><span></span><span></span></div>'},setDStorageIframe:function(){var e=document.createElement("iframe"),t=_SCHEMA+"://"+_EMBEDSERVERURL+"/setdstorage.ls";e.id="dstorageframe",e.src=t,e.style.display="none",$Support.container.append(e)},isDragNotAllowed:function(){return!CommonUtil.isAllowFileSharing()||$Support.waitingtime||!$Support.isChatExist()},updateHeader:function(e){if(e){var t=e.dname||e.attendername;t=getEscapedText(t||"");var i=getEscapedText(e.aboutme||""),n='<div class="txtelips siq-about-me" id="attabtme" title="'+i+'">'+Smiley.replace(i)+"</div>";$("#attname").html(t),$("#attabtme").replaceWith(n)}},reSetHeaderClass:function(){$Support.container.find("header").removeClass("min_header").removeAttr("style"),$("#header_style").remove()},checkWindowVisibility:function(){if(parent.$ZSIQUtil.getCookieValue("dragpos")){var e=$(window.parent.document).find("body"),t=e.find(".siqembed"),i=t.offset();(i.left+t.width()>e.width()||i.top+t.height()>e.height())&&(t.css({left:"auto",right:"15px",top:"auto",bottom:"15px"}),parent.$ZSIQUtil.storeCookieVal("dragpos","",!0))}},toggleFreeLogo:function(){var e=$("#msgbox_main").find(".flogo");$("#typgstatus").text()?e.fadeOut(250):e.fadeIn(250)},checkAndAddFreeLogo:function(e){$Support.isNewHeader()&&(e.find("#siqfreelogo").remove(),e.append($Temp.getFreeLogoHTML()))},removeHeaderType:function(){$Support.container.find("header").removeAttr("header-type").find(".cmplogo").removeClass("siq_botimg")},updateHeaderBotType:function(e,t){$Support.Util.removeHeaderType(),$Support.Util.isBotTranscript(t)&&$Support.container.find("header").attr("header-type","bot")},isMessageDIVScrolled:function(e){var t=(e||$("#msgmaindiv")).find(".ziq_msg").last()[0];if(!t)return!1;var i=t.getBoundingClientRect();return!(0<=i.top&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight))},handleUnReadChatUI:function(e,t){if(t=t||$("#msgmaindiv"),$Support.Util.isMessageDIVScrolled(t)){var i=$("#unreadarrow");if(ZSIQTranscript.isLocalUser(e.sender)||!i.length&&e.istyping)$Support.Util.handleUnReadScroll();else if(i.length){var n=i.find("em");n.text(parseInt(n.text())+(e.istyping?0:1))}else{t.next('[proptype="msgbox_main"]').append('<div id="unreadarrow" class="unread_arrow sqico-larrow" documentclick="unreadscroll"><em>1</em></div>')}}},handleUnReadScroll:function(){$("#unreadarrow").remove(),ZSIQTranscript.scroll(200)},handleMessageDIVScroll:function(){$("#unreadarrow").length&&!$Support.Util.isMessageDIVScrolled()&&$Support.Util.handleUnReadScroll()},checkAndRemoveUnreadDIV:function(){var e=$("#unreadarrow");if(e.length){var t=$("#msgmaindiv"),i=t[0];t.scrollTop()>i.scrollHeight-i.clientHeight-20&&e.remove()}},isBotTranscript:function(e){var t=(e=e||{}).attender,i=$Support.getBotUser(e.department),n=$Support.container.attr("cwview");if(("msgarea"==n||"convchat"==n)&&t&&i&&-1!=i.indexOf(t))return!0;var a=$Support.isConversationUIFocussed();return a&&$Support.Util.isbotconversation||!a&&e.isBotChat},checkToShowConversationEmptyPage:function(e){var t=!e&&$Support.getConversationData(),i=ZSIQConversationForm.isOldFormView(),n=$Support.getParent().$ZSIQChatWindow.isChatExist();return!(!$Support.isNewHeader()||t||n||i)},showConversationEmptyPage:function(e){if($Support.convongoingchatobj||ZSIQConversationForm.checkContextInitiated()){(e?"conv-tab"==e.attr("id"):"")&&$Support.Util.showMessageAreaUI()}else{$Support.Util.removeFormEmptyBg();var t=$Support.convlistcontainer;t.append($Temp.conversationEmptyState()),t.addClass("emptybg"),$Support.Util.showConversationListUI(),$("#msgarea").focus(),$("#showsiqchatui").hide()}},handleBlurImage:function(e){if($Support.isNewHeader()){var t=$(e),i=t.parent(),n=i.find("canvas")[0]||i.append('<canvas width="100%" height="100%" id="blur_userbg" class="blur_userbg"></canvas>').find("canvas")[0],a=i.height(),r=i.width();n.height=a,n.width=r,n.getContext("2d").drawImage(e,0,0,a,r),$(n).show(),i.addClass("hide_fontico"),t.parents("header").removeClass("nologo")}},removeFormEmptyBg:function(){var e=$Support.convlistcontainer;e&&(e.find("#emptybg").remove(),e.removeClass("emptybg"))},hideFooter:function(){$Support.isNewHeader()&&$Support.container.find("footer").hide()}};Gator(document).on("click","[documentclick]",function(r){try{var s=$(this);({sendCallRating:function(){if(!$Support.Util.isPreview()){$(".sqico-star").removeClass("sel"),s.addClass("sel");try{var t=SiqAVRouter.chatwinobj;t.composer.focus()}catch(t){}this.feedbacksent||$Support.setRating(s,t)}},sendCallFb:function(){$Support.sendFeedback(s.parent().find("#fdbkarea"),"",!0)},moreaction:function(){$Support.Util.showMoreAction(s,r)},sendmail:function(){$UI.populateSendMail(s,r)},smiley:function(){$UI.populateSmiley(s)},userdetails:function(){var t=s.closest("section [data-id]").attr("data-id");ZSIQConversationManager.getcurrchatwinobj(t).showUserEditUI(!0,!0)},hideuserdetails:function(){ZSIQConversationManager.getcurrchatwinobj().hideUserEditUI(),$Support.hideBotEditUICB(),$Support.checkAndPopulateLastMessage()},reopenchat:function(){var t=s.parent().prev().find("#reopenmsgarea");$Support.handleReopenWaitingUI(t)},hidemaskdiv:function(){ZSIQConversationManager.getcurrchatwinobj().hideReopenMaskDiv()},updateuserdetails:function(){$Support.checkAndUpdateInfo(s)},triggermsg:function(){$Support.startTriggerChat(s)},min_iframe:function(){$Support.Util.minimizeEmbed()},max_iframe:function(){$Support.Util.maximizeEmbed()},close_iframe:function(){$Support.Util.closeEmbed("",s)},chatend:function(){var t=ZSIQConversationManager.getcurrchatwinobj();avUIhandler.container.detailsHandler.handleEndSession(t.RCHID,function(){var t=ZSIQConversationManager.getcurrchatwinobj();$Support.quitChat(t)})},triggermail:function(){$Support.sendMail(s)},triggermailconfirm:function(){$Support.sendMailConfirm(s)},updatetranslatecookie:function(){$Support.updateTranslateCookie()},rating:function(){$Support.Util.handleRating(s)},showChatFeedback:function(){$Support.Util.showChatFeedback(s)},printfile:function(){$Support.printPreview()},toggleaudio:function(){$Support.Util.toggleAudio(s)},captcha:function(){$Support.Util.handleCaptcha()},restartchat:function(){$Support.restartchat()},showreopenchatui:function(){var t=s.closest("section [data-id]").attr("data-id");ZSIQConversationManager.getChatWinObjById(t).reOpenChatUI()},imgupload:function(){PasteImage.uploadImage($Support.container)},imgcancel:function(){$Support.Util.hidePasteUI()},accepturl:function(){$Support.Util.openPushPage(s.attr("url"))},sendmessage:function(){$Support.triggerSendMessage(s)},textarea:function(){$Support.Util.handleStartChat(function(){$Support.startChat(s)},r)},missedleavemsg:function(){$Support.Util.handleStartChat(function(){$Support.missedLeaveMsg(s)},r,"","leavemsg")},leavemessage:function(){$Support.Util.handleStartChat(function(){$Support.handleLeaveMessage()},r)},feedback:function(){$Support.sendFeedback(s)},hideprogress:function(){$UI.hideUploadProgress(s.attr("msgid"))},hidefeedback:function(){var t=s.attr("chatid")||s.closest("section [fdbkarea-id]").attr("fdbkarea-id"),e=ZSIQConversationManager.getChatWinObjById(t);$Support.Util.hideFeedback(e)},openmeeting:function(){$Support.handleMeetingJoinCB()},sharedesktop:function(){$Support.shareDesktop(s)},sharescreen:function(){},resendmsg:function(){LSMessanger.resendMessages(RESEND_MANUAL)},showconvlist:function(){var t=r.target;if($Support.Util.removeFormEmptyBg(),$(t).parents("header").hasClass("category"))$FAQ.showFAQUI(s);else if("siqnoticon"!=t.id){var e=r.hasOwnProperty("originalEvent");$Support.Util.handleShowConversation(e)}},showchatui:function(){if(!$Support.Util.isPreview()){if("convpopupmsg"===s.attr("id")){var t=ZSIQConversationManager.getcurrchatwinobj();$.isEmptyObject(t)?$Support.contentdiv&&$Support.contentdiv.hide():t.contentdiv.hide(),ZSIQConversationManager.resetLastViewd()}$Support.Util.removeFormEmptyBg();var e=r.target.id||$(r.target).attr("proptype");if("removeconvpopup"!=r.target.id&&!$(r.target).is("a")&&($Support.Util.showMessageAreaUI(e,"",s),$Support.Util.checkAndFocusComposer(),avUIhandler)){var n=ZSIQConversationManager.getChatWinObjById(t.chatID).RCHID;avUIhandler.container.detailsHandler.triggerIconCheck(n)}}},fetchconvtranscript:function(){if("showsiqchatui"!=r.target.id){var t=s.attr("chid"),e="chid";t||(t=s.attr("visitorid"),e="visitorid");var n=ZSIQConversationManager.getChatWinObjById(t),o=$Support.getParent().$ZSIQUtil.getAvuid(),a=$Support.LSDB.getFromSession(o+"_conversation"),i=getMatchedObjFromArray(a,e,t);i={vid:(i=i.length?i[0]:"").visitorid,attender:i.attenderid,attendername:i.attender,ques:i.question,name:i.name,did:i.department,cid:i.chid,imagefkey:i.attender_imgkey,rchid:i.wms_chat_ids,chatintime:(new Date).getTime()},$.isEmptyObject(n)?ZSIQConversationManager.init(i,"pastconv"):(n.chatID=i.cid||-1,n.visitorID=i.vid||-1,n.getConversationChatTranscript())}},removeconvpopupmsg:function(){$Support.removeConversationPopupMessage()},toggleMadatoryField:function(){$CWPreview.toggleMadatoryField(s)},triggerDeleteEMField:function(){$CWPreview.triggerDeleteEMField(s)},newsletter:function(){$Support.handleNewsLetter()},transferchat:function(){$Support.transferChat("",s.parents(".siq_content").attr("data-id"))},removetransfer:function(){var t=ZSIQConversationManager.getChatWinObjById(s.closest("section [data-id]").attr("data-id"));$UI.removeTransferDiv(s,t),$Support.storeHideTransfer(t.chatID)},transfermissed:function(){$Support.handleTransferMissed(s)},hidetransferoption:function(){$Support.hideTransferOption(),$Support.storeHideTransfer()},audiocall:function(){var t=ZSIQConversationManager.getcurrchatwinobj(),e=t.chatID;if(!$(r.target).hasClass("cmn_disable")){e&&t.attender||(LSDebugger.pushDebugInfo(t),LSDebugger.postDebugInfo("siqMedia: audio call | visitor start param failed | chat exists: "+$Support.isChatExist(),null,"",!0));var n={type:"audio",chatid:e,mode:"visitor",mediarequest:!0,mediainvitation:!0,wmsid:$Support.EmbedObj.vwmsid,lsuid:t.attender,lsid:$Support.getParent().$ZSIQWidget.getWidgetObject().lsid};SiqAVRouter.container.audioImpl.startAudioCall(n)}},imagepreview:function(){$Support.Util.showImagePreview(s)},showfaq:function(){$FAQ.showFAQUI(s)},faqcategory:function(){$FAQ.showCategory(s),r.stopPropagation()},faqsearch:function(){$FAQ.handleSearch(s)},openmapfromimage:function(){ZMaps.openMapsFromImage(r)},showconversation:function(){$Support.Util.isPreview()||$Support.showConversation(s)},faqpreview:function(){$FAQ.showFAQPreview(s)},extendview:function(){$FAQ.showAllArticlesInCategory(s)},validateConversation:function(){$Support.Util.chooseField(s,r)},unreadscroll:function(){$Support.Util.handleUnReadScroll()},validateConversation:function(){ZSIQConversationForm.validateConversation(s)},getChatUserConsent:function(){var t=s.attr("isproactive");t=t&&JSON.parse(t),$Support.getChatUserConsent(s.attr("type"),s.attr("skipregister"),t,s.attr("winid"))},downloadvcard:function(){ZSIQContactCard.downloadVCard(s)},sharemyscreen:function(){ZSIQMedia.shareMyScreen(s)},handleCta:function(){$Support.handleWidgetCustomAction(s.attr("data-val"),{name:s.attr("name")})}})[s.attr("documentclick")]()}catch(t){}});var isComposing=!1,hasCompositionJustEnded=!1,brow_lang=$Support.getParent().$ZSIQUtil.getBrowserLanguage();Gator(document).on("keydown","[dockeydown]",function(t){var e=$(this),n=e.attr("dockeydown"),o=$Support.Util.getKeyCode(t);if(229==o&&hasCompositionJustEnded)return!1;hasCompositionJustEnded=!1,27==o&&$Clickoutside.handleEscape(t),{textarea:function(){$Support.Util.handleKeyDown(e,o,t)},captcha:function(){13==o&&($Support.addVisitor(),t.preventDefault())},pasteimage:function(){27==o&&($Support.Util.hidePasteUI(),t.preventDefault())},dropdown:function(){$Support.Util.handleDrpdwnEvent(e,o,t)},triggermail:function(){$Support.Util.sendMail(t,e)},removeError:function(){e.removeClass("errfield")},searchfaq:function(){27==o&&e.parent().find(".sqico-close").trigger("click")}}[n]()}).on("compositionstart",function(t){isComposing=!0;var e=$(t.target);$Support.toggleSendButton(e)}).on("compositionend",function(t){hasCompositionJustEnded=!(isComposing=!1)}).on("compositionupdate",function(t){var e=$(t.target);$Support.toggleSendButton(e)}),$(document).on("keyup","[dockeyup]",function(t){var e=$Support.Util.getKeyCode(t);if(!isComposing&&!hasCompositionJustEnded||(hasCompositionJustEnded=!1,"13"!=e)){var n=$(this);({textarea:function(){$Support.Util.handleTextareaEnter(n,e,t,function(){$Support.startChat(n)})},sendmessage:function(){$Support.handleSendMessage(n,e,t)},reopenchat:function(){$Support.handleReopenWaitingUI(n,e)},leavemessage:function(){$Support.Util.handleTextareaEnter(n,e,t,function(){$Support.handleLeaveMessage(n)},!0)},triggermsg:function(){$Support.handleTriggerMsg(n,e,t)},missedleavemsg:function(){$Support.Util.handleTextareaEnter(n,e,t,function(){$Support.missedLeaveMsg(n)},!0)},feedback:function(){CallImpl.isCallWithChat?$Support.Util.handleCallFdbEnter(n,e,t):$Support.Util.handleFeedback(n,e,t)},triggermail:function(){$Support.Util.handleSendMail(n,e,t)},handlepasteimage:function(){PasteImage.handlepasteimage(n)},searchfaq:function(){$FAQ.searchFAQ(n,t)},validateConversation:function(){ZSIQConversationForm.validateConversation(n,t)}})[n.attr("dockeyup")]()}}),$(document).mousedown($Support.Util.triggerAdditionalFileDownload),Gator(document).on("blur","[docblur]",function(t){var e=$(this);({email:function(){ZSIQConversationForm.isOldFormView()?$Support.Util.validateFields(e.parent()):$Support.Util.isFormsUI()&&ZSIQConversationForm.checkInputVal(e)},custominput:function(){if(ZSIQConversationForm.isOldFormView())return $Support.Util.validateFields(e.parent()),void $Support.Util.handleInputChange(e.attr("id"),e.val());ZSIQConversationForm.checkInputVal(e)},required:function(){$Support.Util.validateFields(e.parent())},checkInputVal:function(){ZSIQConversationForm.checkInputVal(e)}})[e.attr("docblur")]()}),Gator(document).on("keydown",function(t){27==$Support.Util.getKeyCode(t)&&($Clickoutside.handleEscape(t),CommonUtil.handleEscape(t))}),Gator(document).on("keyup",function(t){var e=$(t.target);e.filter("[data-validate*='required']").length&&(""===$.trim(e.val())?e.next().addClass("req"):e.next().removeClass("req"))}),Gator(document).on("focusin",function(t){KeyHandler.winfocus=!0,$Support.iswindowfocused=!0,Message.stopBlinking()}),Gator(document).on("focusout",function(t){KeyHandler.winfocus=!1,$Support.iswindowfocused=!1});var wheel=void 0!==window.onwheel?"wheel":"mousewheel";function bindDragDropEvents(){CommonUtil.isAllowFileSharing()&&(jQuery.event.props.push("dataTransfer"),$Support.container.on({dragover:function(t){"slider"!==t.srcElement.getAttribute("data-type")&&(t.preventDefault(),$UI.showDragDropUI())},drop:function(t){t.preventDefault();var e=ZSIQConversationManager.getcurrchatwinobj(),n=e.chatID;-1!=n&&n&&"pastconv"!=e.chatstatus&&$Support.Util.handleDropEvent(n,t),$UI.hideDragDrop()},dragleave:function(t){$UI.hideDragDrop()}}))}function handlePaste(){CommonUtil.isAllowPasteImage()&&$("#msgarea").on("paste",function(t){PasteImage.onPaste(t,this),t.stopImmediatePropagation()})}function handleDrag(){if(!$Support.isMobileWidth()){var e=$("header"),n=0,o=0,a=0,i=0;e.on("mousedown.drag",function(t){"INPUT"!==t.target.tagName&&(a=t.pageX,i=t.pageY,e.on("mousemove.drag",function(t){n=t.pageX,o=t.pageY,parent.$ZSIQChatWindow.handleDrag(a-n+"#"+(i-o)),t.stopImmediatePropagation()}),t.preventDefault(),e.on("mouseup.drag",function(t){r(t)}).on("mouseleave.drag",function(t){r(t)}))})}function r(t){parent.$ZSIQChatWindow.cacheChatDivPosition(),e.off("mousemove.drag mouseleave.drag"),t.stopImmediatePropagation()}}Gator(document).on(wheel,"[docwheel]",function(t){var e=$(this);({handlescroll:function(){try{scrollHandler.init(e,t)}catch(t){}},removeUnread:function(){$Support.Util.checkAndRemoveUnreadDIV()}})[e.attr("docwheel")]()}),$(window).resize(function(){$Support.Util.handleResize(),$Support.Util.checkWindowVisibility()}),Gator(document).on("keypress","[onenter]",function(t){if("13"==(t.keyCode?t.keyCode:t.which)){var e=$(this);({updateuserdetails:function(){$Support.checkAndUpdateInfo(e.parents(".editfields").find('[documentclick="updateuserdetails"]'))}})[e.attr("onenter")]()}}),KeyHandler={isWindowFocused:function(){return KeyHandler.winfocus}},$(document).on("focus","[docfocus]",function(t){var e=$(this);({inputFocus:function(){e.parent().addClass("sel")}})[e.attr("docfocus")]()});$ThemeHandler={},$ThemeHandler.theme={updateContainer:function(){$(".siqembed").remove();var e=$("body");e.append($Temp.getCloseWindowHTML()).append($Support.container=$($Temp.getContainerHTML())),$Support.isSeasonalTheme()&&e.addClass("zsiq_seasonal")},updateHeader:function(e){var t=$Support.container.find("header");t.length&&t.remove(),$Support.container.prepend($Temp.getHeaderHTML(e)),handleDrag(),$("#zsiq_customcss").remove(),$("body").append(this.getCustomColor()),$Support.Util.handleCompanyLogo(e)},updateInnerHeader:function(e){var t=$Support.container.find("header");$Support.container.removeClass("outerwin"),t.length?this.animateHeader(e):this.updateHeader(e)},updateBody:function(e,t){$Support.container.append($Support.contentdiv=$($Temp.getBodyHTML(e,t))).append($Support.convlistcontainer=$($Temp.getConversationContainerHTML())).append($Support.convtranscontainer=$($Temp.getConversationTranscriptContainerHTML())),$Support.bindScrollForConversationListContainer(),$Support.chatdiv=$("#msgdiv"),$Support.chatmaindiv=$("#msgmaindiv"),$Support.composer=$("#msgarea")},updateFooter:function(){$Support.container.find("footer").remove().end().append($Temp.getFooterHTML()),!$Support.isConversationUIFocussed()&&$.isEmptyObject(ZSIQConversationManager.getcurrchatwinobj())||$Support.isFAQEnabled()||$Support.container.find("footer").hide(),$Support.container.find("#showsiqchatui").remove().end().append($Temp.getConversationCreateChatIConHTML()),this.populateSendBtn(),$Support.Util.handleResize(),$Support.Util.isCampaignEnabled()&&($Support.subscribe=!1,$("#newsletter").on("change",function(){$Support.subscribe=$(this).is(":checked")}));var e=$("#chatconsent");$Support.Util.getChatConsentStatus()&&1==e.length&&$("#chatconsent").on("change",function(){1==$(this).is(":checked")?$Support.toggleSendButton($Support.getComposer()):$Support.Util.removeSendClickAction()})},updateDeptDropdown:function(){var e=$("#sqico-drpdwn");if(e.length){e.dropdown({options:$Support.getEmbedDepartments(),purpose:"department",defaultval:LSResource.getRealValue("ne.chosedepartment")});var t=$Support.getParent().$zohosq.nonce;t&&$Support.contentdiv&&$Support.contentdiv.find('[purpose="department"]').next("#dropcontent").find("li").attr("nonce",t)}},animateHeader:function(e){var t=$Support.container.find("header"),n=t.find(".cmplogo");n.removeClass("siq_botimg"),e.attendername&&(t.find("#attname").html(getEscapedText(e.attendername)),t.find(".cmpylogo").removeClass("sqico-chat").addClass("sqico-user"));var o=e.aboutme||"",i=o?"":"noaboutme",r='<div class="txtelips siq-about-me" id="attabtme" title="'+o+'">'+Smiley.replace(o)+"</div>";t.find("#attabtme").replaceWith(r),t.removeClass("noaboutme").addClass(i).removeAttr("header-type");var a=$Support.isUserLogoEnabled("",e);if((e.image_fkey||e.userimg)&&a){t.removeClass("nologo");var s=e.image_fkey?$Support.Util.getPhotoURL(e.image_fkey,e.attendername):e.userimg;n.removeAttr("style").find("#complogo").attr("src",$Support.Util.getUserImageWithNPS(s)),!e.isBotChat||t.attr("header-type","bot")}else(e.chid||!a&&e.attendername)&&(t.removeClass("nologo").addClass("nologo"),n.removeAttr("style").find("#complogo").removeAttr("src"),$("#blur_userbg").hide().parent().removeClass("hide_fontico"));a&&e.attendername?n.attr("data-chttype","agent"):n.removeAttr("data-chttype")},showBanner:function(e,t,n,o,i,r){if(0!=e.length){var a=$Support.contentdiv||ZSIQConversationManager.getcurrchatwinobj().contentdiv,s=!1;a.find("#info_banr").length||(s=!0,a.prepend($Temp.getBannerHTML(e,t,i,r)),e=""),$Support.Util.showInfoBanner(e,t,s,n,o)}},hideBanner:function(e,t){var n=$Support.contentdiv||ZSIQConversationManager.getChatWinObjById(t).contentdiv;(n=n||ZSIQConversationManager.getcurrchatwinobj().contentdiv).find("#info_banr").slideUp(500,function(){$(this).remove(),"function"==typeof e&&e()})},showTimerBanner:function(e){clearTimeout($Support.Util.bnrtimer),$Support.contentdiv.append($Temp.getTimerBannerHTML(e))},populateSendMail:function(e){var t=ZSIQConversationManager.getChatWinObjById(e.parents(".siq_content").attr("data-id")),n=this,o=t.contentdiv,i="chatendmail"==e.attr("id")?o.find(".chtlnks"):o.find(".txtarewrap"),r=o.find("#smailbx");r.length||i.before(r=$($Temp.getSendMailHTML()));var a=$Support.EmbedObj.visitoremail||"";r.find("input").val(a),$Clickoutside.bindclick(function(){n.hideUtilityDiv(r)},"smailbx",e.attr("id"))},populateSendMailConfirm:function(e,t){var n=ZSIQConversationManager.getChatWinObjById(t),o=n.contentdiv||$Support.contentdiv,i=this,r=!1,a=o.find(".usrinpt"),s=o.find(".infomsg.chtend");(a=a.length&&-1!=n.chatID?a:s).hasClass("chtend")&&(a.hide(),r=!0);var p=o.find("#consentbannerdiv");"gtranslateconsent"==p.attr("cattr")&&(p.remove(),$Support.Util.calculateTextareaHeight(n),p=o.find("#consentbannerdiv")),p.length||a.before(p=$($Temp.getSendMailConfimHTML(e,t))),$Support.Util.calculateTextareaHeight(n),$Clickoutside.bindclick(function(){i.hideUtilityDiv(p,!0,r,n)}.bind(n),"consentbannerdiv","smailbx")},populateSmiley:function(e){Smiley.showSmileyList()},hideUtilityDiv:function(e,t,n,o){e.animate({bottom:"-60px",opacity:"0"},400,function(){e.remove(),t&&!n&&$Support.Util.calculateTextareaHeight(o),n&&o&&o.contentdiv.find(".infomsg.chtend").show()})},animateUtilityDiv:function(e){e.animate({bottom:"82%",opacity:"1"},400,function(){e.find("input").focus()})},showUserEditUI:function(e,t,n){if(ZSIQConversationForm.isOldFormView()){var o=$Support.contentdiv.find(".editfields");if(o.length&&!o.hasClass("hidemaskanim"))return;$Support.contentdiv.find(".maskdiv").remove().end().prepend($Temp.getUserEditHTML(e)),-1==$Support.EmbedObj.department&&$UI.populateDropDown(),t||$Support.Util.handleCustomHTML(!0),$Support.Util.calculateTextareaHeight();var i=$("#edituserdetails");i.length&&i.find(".siq-input-text-box").first().focus()}else!ZSIQConversationForm.checkContextInitiated()&&ZSIQConversationForm.fetchFieldsToEdit(t,n)},hideUserEditUI:function(){$Support.enableTextarea(),$UI.hideMaskDiv()},hideMaskDiv:function(){var e=$Support.contentdiv.find(".maskdiv").addClass("hidemaskanim");$Support.Util.removeDiv(e),$Support.contentdiv.removeClass("siq_popup")},showCaptcha:function(e){if($Support.contentdiv&&null!=CommonUtil.getCaptcha(e)){var t=$Support.contentdiv,n=$Temp.getCaptchaHTML(e),o=t.find(".maskdiv");o.length?o.html(n):t.prepend('<div class="maskdiv captcha">'+n+"</div>")}},hideCaptcha:function(){if($Support.contentdiv){var e=$Support.contentdiv.find(".captcha").addClass("hidemaskanim");$Support.Util.removeDiv(e)}},showWaitingDialog:function(){if(!(!$Support.waitingtime||$Support.isBotChat||$Support.proactive&&-1!=$Support.EmbedObj.chatID))return clearTimeout($Support.Util.bnrtimer),{text:function(){$Support.contentdiv.prepend($Temp.getWaitingTextHTML()),$UI.wait_div=$("#wait_div")},video:function(){$(".content").prepend($Temp.getWaitingTextHTML()).animate({top:"auto"},400)}}[$Support.EmbedObj.waitaction]()},populateCWaitHandler:function(){var e=$Support.contentdiv;if($Support.cwaitmsg){var t=e.find("#cwaitmsg");if(t.length)return void t.html($Support.cwaitmsg);e.find("#info_banr").after($Temp.getWaitHandlerHTML())}},removeCWaitHandler:function(){$("#cwaitmsg").remove()},populateVisitorQuestion:function(e,t){var n=ZSIQConversationManager.getChatWinObjById(t),o=$Support.EmbedObj,i=n.visitorname,r=n.question,a=n.istrigmsg&&ZSIQConversationForm.checkContextInitiated();if(r||$Support.getTriggerCookie()){var s=o.vwmsid;(n.istrigmsg||n.proactive)&&(i=n.triggername,r=e||n.pmsg,s=-1);var p={sender:s,dname:i,msg:Message.getDisplayContent(getEscapedText(r)),isques:a?"":n.question};$BotImpl.formatAndDisplay(p,t),n.presender=s}},checkAndShowBotTyping:function(e){$Support.isBotAvailable(e)&&ZSIQTranscript.showTyping({})},getInfoMsgHTML:function(e,t){return $Temp.getInfoHTML(e,t)},populateUserAction:function(e){if(e){var t=e.contentdiv;$Support.EmbedObj;e.setSoundConfig(),t.find(".usractions").remove().end().find(".usrinpt").prepend($Temp.getUserActionsHTML(e));var n=t.find("#mraction li");n.length?1===n.length&&t.find("#moreaction").removeAttr("title").attr({documentclick:n.attr("documentclick"),class:n.attr("class")}).html(n.children()):t.find("#moreaction").hide(),this.populateSendBtn(LSResource.getRealValue("ne.send"),e.winid),$Support.Util.handleUnmute(e)}},removeUserActions:function(e){e&&e.contentdiv.find(".usractions").remove().end()},getSoundHTML:function(e,t){var n=$Temp.getSoundHTML(t);return e&&(n=n.replace(/<li /g,"<span ").replace(/<\/li>/g,"</span>"),n=$(n).empty()),n},populateIcon:function(){$UI.removeSmileyIcon(),$Support.contentdiv.find("#smilelist").after($Temp.getIconHTML())},removeSmileyIcon:function(){$Support.contentdiv.find("#smiley").remove(),$("#action_icons").remove()},populateSendBtn:function(e,t){$Support.isFAQEnabled()||$("footer").find(".floatrg").remove().end().append($Temp.getSendBtnHTML(e).replace(/{SQICOSEND}/g,t))},handleOfflineStatus:function(e,t,n){var o=$Support,i=(o.EmbedObj,o.contentdiv);ZSIQConversationManager.getcurrchatwinobj().contentdiv&&(i=ZSIQConversationManager.getcurrchatwinobj().contentdiv),i||($UI.init(e),i=o.contentdiv),t&&$Support.isOnlineChat()&&$UI.showBanner(o.getOfflineMessage(),!0,null);var r=i.find("#msgarea");r.attr("placeholder",$Support.isFAQEnabled()?LSResource.getRealValue("ne.message.clicksubmit.icon"):LSResource.getRealValue("ne.message.clicksubmit")),$Support.isFAQEnabled()&&(r.parent().find("#sqico-send").remove(),r.after($Temp.getSendIcon(!0))),ZSIQConversationForm.isOldFormView()?r.attr("dockeyup","leavemessage").val(null!=n?n:$("#msgarea").val()).parents(".msgbox").addClass("posrel"):r.attr("dockeyup","leavemessage"),r.removeAttr("dockeydown"),this.populateSendBtn(LSResource.getRealValue("ne.submit")),ZSIQConversationForm.isOldFormView()&&!$Support.isFAQEnabled()&&$("footer").show(),""!=i.find("#msgarea").val()&&$("footer").find("em#sqico-send").attr("documentclick","leavemessage"),o.Util.setTextareaHeight()},handleMissedStatus:function(e,t,n){var o=$Support,i=n.composer||$("#msgdiv");i.removeAttr("disabled").attr("placeholder",$Support.isFAQEnabled()?LSResource.getRealValue("ne.missed.placeholder.icon"):LSResource.getRealValue("ne.missed.placeholder")),i.removeAttr("dockeydown"),t||(e?n.showBanner(LSResource.getRealValue("ne.offlinemsg")):n.showBanner(DynamicMsg.fillValues(o.EmbedObj.missedmessage))),this.removeUserActions(n),n.contentdiv.addClass("missed").find('[proptype="msgarea"]').attr("dockeyup","missedleavemsg"),$TH.populateSendBtn(LSResource.getRealValue("ne.submit"),n.winid)},populateFeedbackHTML:function(e){if(!CallImpl.isCallWithChat){var t=$Support.contentdiv;t.find(".sqico-edit").remove();var n=JSON.parse($Support.EmbedObj.eprops.feedback[0]),o=$Support.israting,i=$Support.isfeedback;if(!(n||o||i)||0==o&&0==i)this.emptyFeedback();else{$Support.isfeedbacksent=!i,$Support.contentdiv.removeClass("siq_popup").addClass("siq_popup");var r=!1===$Support.israting?$Temp.getFeedbackOnlyHTML():$Temp.getFeedbackHTML(!i);t.find(".maskdiv").remove().end().prepend(r),this.emptyFeedback(),i&&this.handleFeedbackBtn()}}},handleFeedbackBtn:function(){this.populateSendBtn(LSResource.getRealValue("ne.submit")),$("footer #sqico-send").before('<em documentclick="hidefeedback" class="hidemask">'+LSResource.getRealValue("common.cancel")+"</em>")},emptyFeedback:function(){var e=$Support.contentdiv;e.find("div.usrinpt").remove(),$("footer #sqico-send").remove(),e.addClass("nofdbk"),$("#fdbkarea + .sqico-send").hide()},updateCloseIcon:function(){$Support.container.find(".sqico-min").replaceWith($Temp.getCloseHTML())},showFdbkResponse:function(e){var t=e.chatmaindiv;if(Message.scroll(t),$Support.isfeedback){var n=$Support.EmbedObj.feedbackcomplete||LSResource.getRealValue("visitorchat.feedback.submit");e.showBanner(n,"psabs",!0)}this.feedbackAck(e)},feedbackAck:function(e){$Support.Util.hideFeedback(e),e.chatmaindiv.addClass("fdbalone"),e.chatmaindiv.find('.vismsg [purpose="name"]').removeAttr("documentclick")},getInfoMsgContent:function(e,t,n,o){var i=Message.getInfoHTML(e,t,n,o);return i?this.getInfoMsgHTML(i):""},showDragDropUI:function(){if(!$Support.Util.isDragNotAllowed()){this.hideDragDrop();var e=ZSIQConversationManager.getcurrchatwinobj();e.contentdiv&&e.contentdiv.prepend($Temp.getDragDropHTML())}},hideDragDrop:function(){if(!$Support.Util.isDragNotAllowed()){var e=ZSIQConversationManager.getcurrchatwinobj();e.contentdiv&&e.contentdiv.find("#dragmask").remove()}},getPreviewHTML:function(){return $Temp.getPreviewHTML()},displayInfo:function(e){$UI.showBanner(e)},getCustomHTML:function(e){var t=e.type||e.format||"text";return/^(phone|number|text|email|url|percentage|decimal|percent|website)$/.exec(t)?$Temp.getCInputHTML(e):{checkbox:function(){return $Temp.getCCheckBxHTML(e)},radio:function(){return $Temp.getCRadioHTML(e)},selectbox:function(){return $Temp.getCDropDwnHTML(e)},textarea:function(){return $Temp.getCTextareaHTML(e)},label:function(){return $Temp.getCLabelHTML(e)}}[t]()||""},getFormattedCustomobj:function(e){var t=e.meta||{},n=t.input_card||{};return{hint:n.placeholder,name:t.field_name,options:n.options,required:!t.skippable,type:n.type,visibility:n.visibility,maxlength:n.maxlength,style:n.style,question:t.msg}},showUploadProgress:function(t,n){var o=$Support.EmbedObj,i=ZSIQConversationManager.getChatWinObjById(n),r=t.fileobj,a=t.msgid,s=r.name||t.filename,e=$('span[msgid="'+a+'"]'),p=o.vwmsid;if(this["fileprg"+a]||e.length){var c=t.prgval,d=parseInt(c.loaded/c.total*100),l=e.find(".file_prgs"),m=d/100*360;180<m&&l.addClass("gt50"),e.find(".size").html(getMemSize(c.loaded)+" of "+getMemSize(c.total)+" ("+d+"%)"),l.find(".pie:first-child").css({transform:"rotate("+m+"deg)","-webkit-transform":"rotate("+m+"deg)","-moz-transform":"rotate("+m+"deg)"})}else this["fileprg"+a]=!0,$Support.Util.getFileURL(r,function(e){ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({sender:p,dname:o.visitorname,msg:{content:r.type},file:{size:r.size,purl:e,fName:s,progress:!0,msgid:a,comment:t.comment},previoussender:i.presender&&i.presender===p},"",n),ispopulate:!0},n)})},hideUploadProgress:function(e){var t=$('span[msgid="'+e+'"]');t.find(".file_prgs").removeClass("gt50"),t.removeClass("fprgs");var n=t.find(".size");n.html(n.attr("size")),delete this["fileprg"+e]},updateParentFontFamily:function(){$Support.Util.updateParentFontFamily()},updateQuesArea:function(){this.populateSendBtn(),$Support.contentdiv.find(".msgbox").html($Temp.getQuesAreaHTML()),$Support.composer=$("#msgarea")},updateChatEndMsg:function(e){e=e||{};var t=$Support.Util.isPreview()?$Support.chatmaindiv:e.chatmaindiv;t&&t.addClass("chtcomp").after(e.chatendmsg=$($Temp.getChatEndHTML("",{chid:e.chatID,vid:e.visitorID}))),$Support.Util.handleUnReadScroll()},updateVisitorName:function(e){var t=getEscapedText(e.name),n=$Support.Util.CheckAllDefaultFieldsDisabled()?'<em class="sqico-edit" documentclick="userdetails" title="'+LSResource.getRealValue("ne.title.edit")+'"></em>':"";t&&$Support.container.find('[proptype ="contentdiv"]').each(function(){$(this).find('.vismsg div[purpose="name"]').html(t+n)})},getBusinessHrInfo:function(){var e=$Support.EmbedObj;if(!e.bushrstatus)return"";var t=LSResource.getRealValue("ne.offlinemsg"),n=e.bushrtiming;if(!n)return t;var o;for(var i in n){var r=n[i];r.length&&(isUndefined(o)&&(o=i),n[o][0]!==r[0]&&!1)}return $Temp.getBusnsInfoHTML(n[o][0])},setSoundConfig:function(){var e=$Support.EmbedObj,t=$Support.getCookieValue(e.chatID+"_sound");e.setSoundConfig(t)},addGroupIcon:function(){$Support.container.find("#complogo").after($Temp.getGroupIconHTML())},removeGroupIcon:function(){$Support.container.find("#complogo").next(".sqico-grpico").remove()},getCustomColor:function(){if(4==$Support.getThemeID())return"";var e=$Support.EmbedObj.eprops,t=parent.$zv.embedtheme||e.color[1].code,n=$Support.Util.getTextColor(t),o=n.text_color,i=n.icon_color,r=$Support.Util.getRGB(t),a="";if("#0066cc"!=t){var s=r[0]+", "+r[1]+", "+r[2];a='header, .win_close, .siqc_edt, [themeid="9"] header:after, [themeid="10"] header:after, .buble_bg .msgbx { background-image : -webkit-linear-gradient( 90deg, rgb( '+s+" ) 0%, rgba( "+s+", 0.9 ) 100%) !important; background-image : -moz-linear-gradient( 90deg, rgb( "+s+" ) 0%, rgba( "+s+", 0.9 ) 100%) !important; background-image : -ms-linear-gradient( 90deg, rgb( "+s+" ) 0%, rgba( "+s+", 0.9 ) 100%) !important}"}var p="";return i&&(p+='.headercont, .siq-convback.sqico-larrow:hover:before, .win_close.sqico-larrow:hover::before, aside.siqc_edt:hover:before, .faq-srch .sqico-close:hover:before, div.faq-srch input[type="text"], .min-view:hover .sqico-search:before, .chat_btn { color: '+o+' !important }.win_close.sqico-larrow::before, .siq-convback.sqico-larrow::before, aside.siqc_edt:before, .sqico-user:before, .sqico-typing.siqc_usrimg img[src=""] + .sqico-user:after, .faq-srch .sqico-close:before, .sqico-search::before, .sqico-chat:before  { color: '+i+" !important; }.faq-srch input::placeholder{ color: #999 !important; }.cmplogo, .siq-convback.sqico-larrow:hover, .faq-srch, .min-view.faq-srch:hover { background-color: rgba(0, 0, 0, .05); }"),'<style id="zsiq_customcss">.siqc_prochtcls:before, .vismsg .msgbx, .vismsg .msgbx code, .smile_list .siqsmile_li:hover, .smile_list .siqsmile_li.sel,#conv-tab.count .siqc_eletype,.cmpnt-ftr .sqico-tick,.range-point.sel .range-dot,.range-handle, .range-handle1,.range-val,.cmpnt-optn-list div:hover .cmpnt-mul-optn:not(.sqico-tick), .siqc_usrimg img[src=""] + .convrstn-usr, div#conv-tab.count:after, .chat_btn {background-color: '+t+' !important;}.wincustom_clr, .sqico-chat2:before, .lstmsg_strs .sqico-star,.infomsg span:before,.infomsg span, .artcle-viewal, textarea + .sqico-send[documentclick]::before, .sqico-send[documentclick]::before, .sqico-send[documentclick], .cmpnt-optn-list div:hover, .cmpnt-optn-list .sel, .cmpnt-btnurl:not(.cmpnt-cal-time):hover,.cmpnt-cal-time em:hover,.sel .sqico-tick:before, .cmpnt-btnurl:not(.cmpnt-cal-time):hover *,.cmpnt-ftr #range-display,.range-value,.cmpnt-rtng:hover [class*="sqico-"]::before,.siq-user-message + .cmpnt-rtng .sqico-like:before, .siq-user-message + .cmpnt-rtng .sqico-dislike:before,.cmpnt-body-cont .sqico-star:hover:before, .cmpnt-body-cont .sqico-star:hover ~ div:before,.cmpnt-btnurl:before, .cmpnt-skip:hover,.cmpnt-skip:hover .sqico-skip:before,.cmpnt-nxtprev em,.choose:hover,.msgbx > .sqico-star:before,.cmpnt-art-list span,.cmpnt-cusclr, #action_icons span:hover:before, .chtend a, .chtend a:before, footer .sel span, footer .sel:before, .faqdiv > div.sel, .sqico-smail:hover::before, .faq-srch .sqico-close:before { color:'+(i?o:t)+" !important; }.vismsg .msgbx span:FIRST-CHILD, .content .vismsg .time, .siqc_hstrycht .vismsg .time, .vismsg .msgbx *, .vismsg .sqico-close:BEFORE, .smile_list .siqsmile_li:hover, .smile_list .siqsmile_li.sel, .zsiq_transferdiv .bot_opt.gltr-srno:not(.gltr-no){ color: "+o+" !important;}.msgbx a{ border-bottom-color: "+o+"}.file_prgs > .pie,.range-handle, .range-handle1,.cmpnt-art-list:hover span, .sinl-prw-link a:last-child .cmpnt-btnurl:hover { border-color: "+t+"}"+a+".santacap .st2 { fill: "+t+"; }"+p+"</style>"},getHeader:function(){return $Support.container.find("header")},getTranslateBannerHTML:function(e,t){return $Temp.getTranslateBannerHTML(e,t)},checkAboutmeClass:function(){var e=$("#attabtme");e.removeClass("empty_abtme"),e.text()||e.addClass("empty_abtme")}};!function(e){e.$Template=e.$Template||{},$Temp=$Template.theme={getContainerHTML:function(){$Support.EmbedObj;if($("body").find("#formcss").remove(),ZSIQConversationForm.isOldFormView()){$("body").append('<style id="formcss">[class*="deptst_"] em{display: inline-block;}a, .sqico-drpdwn a:hover, section.content .errfield.sqico-drpdwn a{ background-color: transparent; text-decoration:  none; outline: none;}input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 / padding: 0; / 2 */ display: none; outline: none;}.dspnone, .errfield .req, .errfield + em.req{ display: none;}.sqico-drpdwn[val] .req{ visibility: hidden; }.sqico-drpdwn .req{ visibility: visible;}div textarea[purpose="custom"]{ height: auto;}em.req{ color: #fe8d8d;}.outerwin input[type="text"],.editfields input[type="text"]{ border-radius: 8px; background-color: #f4f4f4; border: solid 1px #e3e3e3; width: 100%; outline: none;transition:  border ease-in-out 0.5s; -webkit-transition:border ease-in-out 0.5s; -moz-transition: border ease-in-out 0.5s;padding: 0 13px; height: 44px; line-height: normal; -webkit-appearance: none; -webkit-tap-highlight-color: rgba(0,0,0,0);}.content .errfield.sqico-drpdwn a, .content .errfield.sqico-drpdwn{ background-color: #fff6f6; border-color: #ffc3c3;}input[type="text"]:focus, .content .sqico-drpdwn a:focus { border-color: #ccc; outline: none;}.sqico-drpdwn ul, .content .sqico-drpdwn {   position: absolute; width: 100%;  z-index: 1;color:#444;}.content .sqico-drpdwn{ position: relative;height: 44px; line-height: 42px; width: auto;  z-index: 4; background-color: #f4f4f4; border-radius: 8px; }.sqico-drpdwn a, .sqico-drpdwn a:hover { display: block; padding: 0 13px; width: 100%;  border: solid 1px #e3e3e3;  border-radius: 8px;height: auto; }.sqico-drpdwn ul { width: 97.35%; width:calc( 100% - 56px ); left: 26px; position: fixed;max-height: 174px; overflow: auto; display:none;padding: 0;}.sqico-drpdwn li:first-child{ padding-top: 12px;}.sqico-drpdwn li { padding: 11px 120px 11px 14px; cursor: pointer; line-height: normal;height: 40px; border-radius: 0; font-size: 14px;}.sqico-drpdwn li:hover, .sqico-drpdwn li.atsel { background-color: #eaeaea;}div.sqico-drpdwn.zindrp{ z-index:inherit; border-radius: 8px 8px 0 0; box-shadow:0 1px 3px 0 #ccc;}div.sqico-drpdwn.zindrp ul{ border-radius: 0 0 8px 8px; max-height: 169px; box-shadow: 0 2px 3px 0 #ccc; border-top-color:#edf4f8; z-index: 11112; background-color: #f4f4f4; }[themeid="4"] .content .zindrp, [themeid="4"] div.sqico-drpdwn.zindrp ul {background-color: #f4f4f4;}.zindrp.btmalign em.req{ border-radius: 0 0 8px 8px;}[data-validate*="required"] + em.req, .sqico-drpdwn[data-validate*="required"] .req { position: absolute; border-left: 2px solid #fe8d8d; border-radius: 15px; height: 42px; left: 0; padding-left: 9px; top:1px;}.fdbck_star, .sqico-drpdwn.zindrp ul, .content .sqico-drpdwn a, .smileydiv, .zindrp.sqico-drpdwn ul { border-color: #e3e3e3; }.content > div, footer span, footer a, .sqico-drpdwn:before, .desc, .sqico-enter, .content .sqico-drpdwn a{color:#777;}input[type="text"].errfield:focus, textarea.errfield:focus{background-color: #fff;}.content .errfield.sqico-drpdwn a, .content .errfield.sqico-drpdwn{transition: all 0.5s cubic-bezier(1, 0.7, 0.5, 1); -moz-transition: all 0.5s cubic-bezier(1, 0.7, 0.5, 1); -webkit-transition: all 0.5s cubic-bezier(1, 0.7, 0.5, 1);}.siqc_usrimg{height:49px;width:49px;display: inline-block;vertical-align: middle;position: relative;border-radius: 100%;overflow: hidden;box-shadow: 0 0 0 0.6px rgba(170, 170, 170, 0.5);z-index: 1;}#action_icons  span:hover:before, .chtend a, .chtend a:before { color: #0091ff; }[themeid="4"] input[type="text"], [themeid="4"] textarea, [themeid="4"] .content .sqico-drpdwn a { background-color: rgba(255, 255, 255, 0.80);  border: solid 1px #e3e3e3; }[themeid="4"] div.sqico-drpdwn.zindrp ul {left: 26px;width: calc( 100% - 52px ); }[themeid="4"] input[type="text"].errfield, [themeid="4"] textarea.errfield, [themeid="4"] .content .errfield.sqico-drpdwn { background-color: #fedddd; border-color: #f07777; }[header-type="bot"] .blur_userbg, [cwview="convchat"] .blur_userbg, [cwview="msgarea"] .blur_userbg, .siq_content .blur_userbg {position: absolute;height: 100%;width: 100%;filter: blur(5px); display: inline-block; left: 0; z-index: -1; top: 0; }.skipdrag .siqc_edt { bottom: 100px; }.skipdrag .faq .siqc_edt {bottom: 135px;}</style>')}var e=($Support.isParentIframe()?"":" emfullwindow")+" emwin";return e+=$Support.isFAQEnabled()?" faq":"",e+=$Support.isNewHeader()?" zsiq-newtheme":"",e+=$Support.Util.isPreview()?" newpreview":"",e+=$Support.isSignature($Support.EmbedObj)?" signature_embed":"",['<section id="window-ribbon" themeid="'+$Support.getThemeID()+'" class="siqembed siqc-convert outerwin'+e+$Support.getEmbedSizeClass()+'"></section>'].join("")},getCloseWindowHTML:function(){return $("body").find(".win_close").remove(),$Support.isSignature($Support.EmbedObj)?"":'<div class="win_close sqico-larrow" themeid="'+$Support.getThemeID()+'" documentclick="min_iframe">'+$Temp.getSantaCap()+"</div>"},getHeaderHTML:function(e){e=e||{};var i=$Support.EmbedObj,t=JSON.parse(i.eprops.iclogo)?i.clogo+"?nps=202":"",s=e.attenderimagefkey||e.imagefkey||e.image_fkey,a=e&&$Support.isUserLogoEnabled("",e)&&s?$Support.Util.getPhotoURL(s,e.attender):"",o=e&&e.attendername;a=!a&&e.isBotChat?ZSIQTranscript.getImageURL({sender:e.attender}):a;var c=e.isBotChat?a+"?nps=202":a,n=(t=o?c:t)?"":"nologo";o=getEscapedText($Support.getChatWindowTitle(o));var l=getEscapedText(e&&e.aboutme||""),d=l?"":" noaboutme",r=!1;if(i.companywebsite){var p=i.companywebsite;r=!0}return['<header class="'+n+d+'" prop="header"><div class="headercont">','<div class="siq-convback sqico-larrow" id="showsiqconv" documentclick="showconvlist" style="display:none;"></div>','<div class="cmplogo siq-company-logo" prop="clogo">',r?'<a id="compurl" href="'+p+'" target="_blank">':"",'<span class="sqico-user"><img src="'+t+'" height="49" width="49" id="complogo" class="cmn_mdl siq-company-logo" onload="$Support.Util.handleBlurImage(this)" /></span>',"</div>",r?"</a>":"",'<div class="header_txt">','<div class="txtelips siq-chat-attender-name" id="attname">'+o+"</div>",'<div class="txtelips siq-about-me" id="attabtme" title="'+l+'">'+l+'</div><div id="attabtme"></div>',"</div></div>",'<span class="siqchat-detl sqico-call" documentclick="audiocall" id="audiocall" style="display:none;" title="'+LSResource.getRealValue("audiovideo.audiocall")+'"></span>',$Temp.getSnowHTML(),"</header>"].join("")},getBodyHTML:function(e,i){var t=$Support.getJSAPIMessageHint(),s=$Support.EmbedObj,a=$Support.isSignature(s),o=s.isformremoval,c=0==(d=s.status)?$Support.isFAQEnabled()?LSResource.getRealValue("ne.message.clicksubmit.icon"):LSResource.getRealValue("ne.message.clicksubmit"):LSResource.getRealValue("ne.message.hitenter"),n=t?'placeholder="'+t+'"':'placeholder="'+c+'"';if(!ZSIQConversationForm.isOldFormView())return'<section class="content chtanim siq_content'+(a?" algn_hgt":"")+'" proptype="siqemptybg"><div class="chtcont" id="msgmaindiv"><div class="disply_tbl"><div class="disply_cel" id="msgdiv">'+$Temp.getEmptySlate(d)+'</div></div></div><div class="usrinpt" id="msgbox_main">'+this.getFreeLogoHTML()+'<div class="txtarewrap"><textarea '+n+' purpose="question" custom= "question" info = "question" class="msgarea siq-message-textarea" id="msgarea" dockeydown="textarea" dockeyup="textarea"  data-validate="required"></textarea><div class="smile_list siq-smileys-section" id="smilelist" style="display: none;"></div></div></div></section>';if(e)return'<section class="content siq_content"></section>';s=$Support.EmbedObj;var l="content posrel siq_content siqforms";(a=$Support.isSignature(s))&&(l+="algn_hgt ");var d=$Support.EmbedObj.status,r=s.eprops,p=s.pprops.chatcookiepolicyurl;return['<section class="'+l+'" purpose="outer" proptype="siqform">',JSON.parse(r.isname[0])&&!o?this.getNameHTML(r.isname[1].ismandatory):"",JSON.parse(r.isemail[0])&&!o?this.getEmailHTML(r.isemail[1].ismandatory):"",JSON.parse(r.isphoneno[0])&&!o?this.getPhoneHTML(r.isphoneno[1].ismandatory):"",o?this.getFieldHTML():"",!s.lastdeptid&&-1==s.department||i?'<div id="sqico-drpdwn" class="sqico-drpdwn siq-dropdown" custom="department" info="department" data-validate="required"></div>':"",'<div class="msgbox" custom="question">',this.getQuesAreaHTML(d),0==d?this.getChatConsentHTML(p):"",o?"":this.getCampaignHTML(),"</div>","</section>"].join("")},getFieldHTML:function(){$Support.Util.isPreview()&&!ZSIQConversationForm.isNewAppsUI(!0)&&ZSIQConversationForm.updateformconfig();for(var e=$Support.fieldlist||[],i={visitor_name:this.getNameHTML,visitor_email:this.getEmailHTML,visitor_phone:this.getPhoneHTML},t=e.length,s="",a=0;a<t;a++){var o=e[a],c=o.meta||{},n=c.input_card||{},l=n.type||"",d=n.placeholder||"";if("department"!=c.field_name)if("subscribe"!=c.key&&"campaign"!=l){var r=!c.skippable;i[l]||((o=$TH.getFormattedCustomobj(o)).index=a),s+=i[l]?i[l](r,"",d):$UI.getCustomHTML(o),"selectbox"==o.type&&$("#sqico-cdrpdwn"+a).dropdown({options:o.options,purpose:"customdrpdwn",defaultval:o.hint||o.name||"Custom"})}else{var p=$Support.Util.isPreview()?o.msg||LSResource.getRealValue("embed.campaign.label"):"";s+=this.getCampaignHTML(p)}}return s},getEmptySlate:function(e){var i="offline_bg",t=LSResource.getRealValue("cw.statustext.offline");return e&&(i="online_bg",t=LSResource.getRealValue("cw.statustext.online")),'<div class="content_mdl textC" id="emptybg"><span class="'+i+'"><em class="bg_shadow"></em>'+t+"</span></div>"},getQuesAreaHTML:function(e){$Support.EmbedObj;var i=e?"textarea":"leavemessage",t=e?'dockeydown="textarea"':"";if(ZSIQConversationForm.isOldFormView())return['<div class="posrel siq-message-area">','<textarea placeholder="'+(0==e?$Support.isFAQEnabled()?LSResource.getRealValue("ne.message.clicksubmit.icon"):LSResource.getRealValue("ne.message.clicksubmit"):LSResource.getRealValue("ne.message.hitenter"))+'" class="msgarea siq-message-textarea" purpose="question" info="question" type="text" id="msgarea" '+t+" dockeyup="+i+'  data-validate="required charlimit 2048"></textarea>',this.getSendIcon(0==e)+"</div>"].join("");var s=$Support.getJSAPIMessageHint(),a=s?'placeholder="'+s+'"':'placeholder="'+LSResource.getRealValue("ne.message.hitenter")+'"';return'<div class="usrinpt" id="msgbox_main">'+this.getFreeLogoHTML()+'<div class="txtarewrap"><textarea '+a+' class="msgarea siq-message-textarea" id="msgarea" dockeydown="textarea" dockeyup="'+i+'"  data-validate="required"></textarea><div class="smile_list siq-smileys-section" id="smilelist" style="display: none;"></div></div></div>'},getNameHTML:function(e,i,t){i=i||"";var s="optional",a='docblur="checkInputVal"',o="",c=t||LSResource.getRealValue("ne.entername");!0===CommonUtil.parseToJSON(e)&&(s="required",a=' docblur="required"',o='iserrorfield="true"');var n=$Support.Util.isInValidVisitorName($Support.EmbedObj.visitorname)?"":$Support.EmbedObj.visitorname;$Support.EmbedObj;if(ZSIQConversationForm.isOldFormView()){i=i||"";s="optional";var l="";a="";return!0===CommonUtil.parseToJSON(e)&&(s="required",l=" ("+LSResource.getRealValue("ne.required")+")",a=' docblur="required"'),'<div custom="name"  customid = "siq_name"><input type="text" value="'+getEncodedText(n)+'" id="visname" placeholder="'+c+l+'" class="siq-input-text-box" '+a+i+' info="name" fieldname = "name" purpose="visitorname"  data-validate="'+s+' charlimit 100"/>'+$Temp.getRequiredHTML()+"</div>"}return'<div custom="name" class="field_main posrel" field-type="text"><input type="text" class="input_field font15" value="'+getEncodedText(n)+'" '+o+' id="visname" '+a+i+' info="name" fieldname = "name" purpose="visitorname" data-validate="'+s+' charlimit 100" docfocus="inputFocus" dockeydown="removeError"/><span class="field_title font15">Name '+$Temp.getRequiredHTML(e)+"</span></div>"},getEmailHTML:function(e,i,t){$Support.EmbedObj;var s=!0===CommonUtil.parseToJSON(e)?"required":"optional",a=t||LSResource.getRealValue("ne.enteremail"),o=$Support.EmbedObj.visitoremail||"";return ZSIQConversationForm.isOldFormView()?['<div custom="email" customid = "siq_email">','<input type="text" id="visemail" value="'+o+'" class="siq-input-text-box" placeholder="'+a+(1==CommonUtil.parseToJSON(e)?" ("+LSResource.getRealValue("ne.required")+")":"")+'" info="email" fieldname = "email" purpose="visitoremail"  data-validate="'+s+' email charlimit 100" docblur="email" />'+$Temp.getRequiredHTML(),$Temp.getFetchMailHTML(),"</div>"].join(""):'<div custom="email" class="field_main posrel" field-type="text"><input type="text" id="visemail" value="'+o+'" '+(!0===CommonUtil.parseToJSON(e)?'iserrorfield="true"':"")+' class="input_field font15" info="email" purpose="visitoremail" data-validate="'+s+' email charlimit 100" docblur="email" docfocus="inputFocus" dockeydown="removeError"/><span class="field_title font15">Email'+$Temp.getRequiredHTML(e)+"</span>"+$Temp.getFetchMailHTML()+"</div>"},getFetchMailHTML:function(e){$Support.EmbedObj;return ZSIQConversationForm.isOldFormView()?$Support.EmbedObj.fetchid?'<div class="fetchmail" id="fetchmail"><span class="sqico-fb"></span><span class="sqico-gplus"></span></div>':"":$Support.EmbedObj.fetchid?'<div class="social_icons"><em class="sqico-fb"></em><em class="sqico-gplus"></em></div>':""},getPhoneHTML:function(e,i,t){$Support.EmbedObj;var s=$Support.EmbedObj.visitorphone||"",a=t||LSResource.getRealValue("ne.enterphone");if(ZSIQConversationForm.isOldFormView()){var o="optional",c="",n="";return!0===CommonUtil.parseToJSON(e)&&(o="required",c=" ("+LSResource.getRealValue("ne.required")+")",n=' docblur="required"'),'<div custom="phone" customid = "siq_phone"><input type="text" value="'+s+'" class="siq-input-text-box" id="visphone" placeholder="'+a+c+'" class="" '+n+' info="phone" fieldname = "phone" purpose="visitorphone"  data-validate="'+o+' phone"/>'+$Temp.getRequiredHTML()+"</div>"}o="optional",n='docblur="checkInputVal"';var l="";return!0===CommonUtil.parseToJSON(e)&&(o="required",n=' docblur="required"',l='iserrorfield="true"'),'<div custom="phone" class="field_main posrel" field-type="text"><input type="text" value="'+s+'" '+l+' class="input_field font15" id="visphone" class="" '+n+' info="phone" purpose="visitorphone"  data-validate="'+o+' phone" docfocus="inputFocus" dockeydown="removeError"/><span class="field_title font15">Phone '+$Temp.getRequiredHTML(e)+"</span></div>"},getCampaignHTML:function(e){$Support.EmbedObj;if(!$Support.Util.isCampaignEnabled()&&!e)return"";var i=e||$Support.EmbedObj.integprops.integinfo[$Support.enabledCampaignID].subscribelabel||LSResource.getRealValue("embed.campaign.label");return ZSIQConversationForm.isOldFormView()?['<div class="newsletter siq-newsletter txtelips" documentclick="newsletter">','<input type="checkbox" id="newsletter" name="Checkbox" />','<label for="newsletter" class="siq-checkbox-label txtelips" title="'+getEncodedText(i)+'"><span class="sqico-chkbx siq-checkbox"></span><em>'+getEncodedText(i)+"</em></label>","</div>"].join(""):'<div class="mT15 siq-newsletter elips pL15" documentclick="newsletter"><span class="posrel"><input type="checkbox" class="hide_fld" name="newsletter" id="newsletter"><span class="checkbox sqico-checkbox siq-check"><label for="newsletter" class="curP dib-mid" title="'+getEncodedText(i)+'">'+getEncodedText(i)+"</label></span></span></div>"},getChatConsentHTML:function(e){if($Support.Util.getChatConsentStatus()){var i=LSResource.getRealValue("common.gdpr.agent.offlineaccept2");e&&(i="<a class='siq-lnmor sbold' target='_blank' href='"+(e=-1==e.indexOf("http")?"http://"+e:e)+"'>"+i+"</a>");var t=LSResource.getRealValue("common.gdpr.agent.offlineaccept1")+i;return['<div id="offlineconsent" class="newsletter siq-newsletter">','<input type="checkbox" id="chatconsent" name="Checkbox" />','<label for="chatconsent" class="siq-checkbox-label txtelips" title=""><span class="sqico-chkbx siq-checkbox"></span><em>'+(t=$Support.Util.getOfflineAPIConsent(t))+"</em></label>","</div>"].join("")}},getChatAreaHTML:function(){var e=$Support.getJSAPIMessageHint(),i=$Support.EmbedObj,t=$Support.isSignature(i),s=e?'placeholder="'+e+'"':'placeholder="'+LSResource.getRealValue("ne.message.hitenter")+'"';return['<section class="content chtanim siq_content'+(t?" algn_hgt":"")+'" data-id = "{CONTENTDIV}" proptype ="contentdiv" >','<div class="chtcont"  id="msgmaindiv" proptype="msgmaindiv" docwheel="handlescroll"><div class="disply_tbl"><div class="disply_cel" id= "msgdiv" proptype="msgdiv">',"</div></div></div>",'<div class="usrinpt" id="msgbox_main" proptype="msgbox_main">',this.getFreeLogoHTML(),'<div class="txtarewrap"><textarea '+s+' class="msgarea siq-message-textarea"  id="msgarea" proptype="msgarea" dockeydown="textarea" dockeyup="sendmessage" txtarea-id = "{TXTAREAID}"  data-validate="required"></textarea><div class="smile_list siq-smileys-section" proptype = "smilelist" id="smilelist" style="display: none;"></div></div>',"</div>","</section>"].join("")},getSendIcon:function(e){return $Support.isFAQEnabled()&&($Support.Util.isHandHeldDevice()||e)?'<span class="sqico-send siq-send-button" id="sqico-send" chatid="{SQICOSEND}" proptype = "sqico-send" title="'+LSResource.getRealValue("embed.submit")+'"></span>':""},getIconHTML:function(){var e=ZSIQConversationManager.getChatWinObjById($("#msgarea").attr("txtarea-id")).chatstatus,i=$Support.EmbedObj.eprops;return'<div id="action_icons" proptype="action_icons">'+(JSON.parse(i.showsmiley)?'<span class="sqico-smile" documentclick="smiley" id="smiley" proptype="smiley" title="'+LSResource.getRealValue("ne.title.emoji")+'"></span>':"")+(CommonUtil.isAllowFileSharing()&&"connected"==e?'<span class="sqico-attach posrel" documentclick="attachfile" title="'+LSResource.getRealValue("ne.action.attachfile")+'">'+this.getSendFileHtml()+"</span>":"")+'<span class="sqico-send siq-send-button" id="sqico-send" chatid="{SQICOSEND}" proptype = "sqico-send" documentclick="sendmessage" title="'+LSResource.getRealValue("ne.send")+'"></span></div>'},getUserActionsHTML:function(e){var i=$Support.EmbedObj.eprops;$Support.EmbedObj.isBetaPortal;return['<div class="usractions clearfix">','<div class="txtelips siq-typing-message" id="typgstatus" dochover="setToolTip" tooltip=""></div>','<div class="floatrg usractico">','<span class="sqico-more siq-menu" documentclick="moreaction" proptype="moreaction" id="moreaction"  title="'+LSResource.getRealValue("ne.title.action")+'"></span>','<span class="sqico-end siq-end-chat-button" documentclick="chatend"  title="'+LSResource.getRealValue("ne.title.chatend")+'"></span>',"</div>",'<ul class="mraction" proptype="mraction" id="mraction">',JSON.parse(i.icsound)&&EmbedSound.isPlayerEnable()?this.getSoundHTML(e.soundval):"",JSON.parse(i.icmail)?'<li class="sqico-smailico" documentclick="sendmail" id="sendmail">'+LSResource.getRealValue("ne.action.sendmail")+"</li>":"",JSON.parse(i.icprint)?'<li class="sqico-print" documentclick="printfile">'+LSResource.getRealValue("common.print")+"</li>":"",CommonUtil.isAllowAssist()&&!e.isBotChat?'<li class="sqico-share_screen" documentclick="sharedesktop" id="sharedesktop">'+LSResource.getRealValue("embed.desktop.sharing")+"</li>":"","</ul>","</div>"].join("")},getSoundHTML:function(e){return isUndefined(e)||-1!=e?'<li class="sqico-mute" documentclick="toggleaudio" purpose="sound">'+LSResource.getRealValue("ne.action.mute")+"</li>":'<li class="sqico-unmute" documentclick="toggleaudio" title="'+LSResource.getRealValue("common.unmute.title")+'" purpose="sound">'+LSResource.getRealValue("ne.action.unmute")+"</li>"},getFooterHTML:function(){var e,i=$Support.isFAQEnabled();i&&(e=(($Support.getParent().$ZSIQUtil.getAPIValues()||{}).articlecontent||{}).title||$Support.Util.getFAQLabel());return['<footer class="clearfix'+(i?" faq_footer":"")+'">',$Support.EmbedObj.sm?'<div class="floatlf"><span class="sqico-fb"></span><span class="sqico-tweet"></span><span class="sqico-gplus"></span></div>':"",this.getFreeLogoHTML(),i?'<div class="faqdiv dsp_table"><div class="sel sqico-chat" id="conv-tab" documentclick="showconversation"><span class="txtelips">'+LSResource.getRealValue("ne.conversation")+'</span><span class="disIB"><span class="siqc_eletype"></span></span></div><div class="sqico-faqico" id="faqtab" documentclick="showfaq">'+getEncodedText(e)+"</div></div>":"","</footer>"].join("")},getFreeLogoHTML:function(){var e=$Support.EmbedObj.isreopenenabled?"f-logo":"";return $Support.isAllowFreeLogo()?'<a target="_blank" id="siqfreelogo" href="'+_FREELOGOLINK+'"><div class="flogo '+e+'"><img src="https://img.zohocdn.com/salesiq/images/portal/salesiqlogo_da9006c247b6a769ecf111032d200daa_.png" class="siq_logo" /><em class="txtelips" title="'+LSResource.getRealValue("ne.litby.freelogo")+'">'+LSResource.getRealValue("ne.litby.freelogo")+"</em></div></a>":""},getSendBtnHTML:function(e){return'<div class="floatrg"><em class="sqico-send siq-send-button" chatid="{SQICOSEND}" id="sqico-send" proptype = "sqico-send">'+(e=e||LSResource.getRealValue("ne.startchat"))+"</em> </div>"},getBannerHTML:function(e,i,t,s){var a='<div class="info_banr'+(i?"":" relate")+' siq-info-banner" id="info_banr" proptype = "info_banr"';return t&&(a+='style="cursor:pointer;" documentclick="'+s.documentclick+'"'+s.attr+'="'+s.value+'"'),a+=">"+e+"</div>"},getSendMailHTML:function(){return['<div class="semail sqico-smailico siq-send-email-section" id="smailbx">','<input type="text" class="siq-input-text-box siq-send-email-input" placeholder="'+LSResource.getRealValue("ne.action.enteremail")+'" info="email" data-validate="optional email" dockeyup="triggermail"/><em class="sqico-smail" documentclick="triggermail" title="'+LSResource.getRealValue("ne.action.sendmail")+'"></em>',"</div>"].join("")},getSendMailConfimHTML:function(e,i){var t=i||"";return['<div class="gltr-cont" id="consentbannerdiv" cattr="sendmailconfirm">','<span class="gltr-desc">'+LSResource.getRealValue("common.gdpr.emaildoubleoptin")+" <em>"+e+"</em></span>",'<div class="gltr-done"><span class="gltr-srno" documentclick="triggermailconfirm" cattr='+e+" chid="+t+" >"+LSResource.getRealValue("common.yes")+'</span><span class="gltr-srno gltr-no" documentclick="triggermailconfirm" >'+LSResource.getRealValue("common.no")+"</span></div>","</div>"].join("")},getSmileyHTML:function(){var e='<div class="smileydiv" id="smileydiv">',i=Smiley.defaultsmileyobj;for(var t in i)e+='<div class="smlynone"><div title="'+i[t]+'" code="'+t+'" class="siqsly-'+i[t]+'"></div></div>';return e+="</div>"},getUserEditHTML:function(e,i){i=i||{};var t=$Support,s=t.EmbedObj,a=s.eprops,o=a.isname[1].ismandatory,c=a.isemail[1].ismandatory,n=a.isphoneno[1].ismandatory,l=s.isformremoval,d=e?LSResource.getRealValue("ne.update"):LSResource.getRealValue("common.continue");t.ismissed&&(d=LSResource.getRealValue("ne.submit"),c="true");var r=' onenter="updateuserdetails"';return['<div id="edituserdetails" class="chtcont maskdiv editfields">',$Support.Util.checkToShowField("isname","siq_name")&&!l?this.getNameHTML(o,r):"",$Support.Util.checkToShowField("isemail","siq_email")&&!l?this.getEmailHTML(c,r):"",$Support.Util.checkToShowField("isphoneno","siq_phone")&&!l?this.getPhoneHTML(n,r):"",l?this.getFieldHTML():"",-1==i.department?'<div id="sqico-drpdwn" tabindex="3" class="sqico-drpdwn siq-dropdown" info="department" data-validate="required"></div>':"","{T&CBANNER}",'<div id="usereditactionbtn" class="actionbtn">','<p id="continue_btn" data_isupdate="'+e+'" class="siq-update-button" documentclick="updateuserdetails" tabindex="-1" onenter="updateuserdetails">'+d+"</p>",'<p class="cancel siq-cancel-button" documentclick="hideuserdetails"  >'+LSResource.getRealValue("common.cancel")+"</p>","</div>","</div>"].join("")},getCaptchaHTML:function(e){return["<div>","<div>"+LSResource.getRealValue("ne.captcha.title1")+"</div>","<p>"+LSResource.getRealValue("ne.captcha.title2")+"</p>","<div>"+CommonUtil.getCaptcha(e)+'<span class="sqico-captcha"  documentclick="captcha"></span></div>','<input type="text" class="siq-input-text-box" value="" purpose="'+e+'" dockeydown="captcha">','<div class="actionbtn">','<p documentclick="captcha">'+LSResource.getRealValue("ne.submit")+"</p>","</div>","</div>"].join("")},getWaitingTextHTML:function(e){return['<div class="info_banr timer siq-info-banner" proptype = "info_banr" id="info_banr">','<span class="">'+DynamicMsg.fillValues($Support.EmbedObj.waitmsg)+"</span>",'<span class="sqico-timer siq-info-timer" id="wait_div">'+MyDate.formatMS(1e3*e)+"</span>","</div>"].join("")},getInfoHTML:function(e,i){return'<div class="infomsg '+(i=i||"")+' siq-info-message">'+e+"</div>"},getFeedbackHTML:function(e){var i=$Support.EmbedObj.ratingtitle?$Support.EmbedObj.ratingtitle:LSResource.getRealValue("ne.rating.byline");return['<div class="sqfdbk maskdiv siq-feedback-section" isonlyrating="'+e+'" fdbkarea-id="{FDBKAREAID}">','<div class="fdbk_cnt">',"<div>",'<div class="clblck">'+LSResource.getRealValue(e?"ne.rating.alone":"ne.rating")+"</div>",'<div class="rating reactions">'+this.getStarHTML()+"</div>",'<div class="clblck fd-byline">'+i+"</div>","</div>",e?"":'<textarea dockeyup="feedback" id="fdbkarea" dockeydown="textarea"   proptype = "fdbkarea" class="siq-feedback-textarea" data-validate="required" placeholder="'+LSResource.getRealValue("ne.feedback.title")+'"></textarea>'+this.getSendIcon(),"</div>",'<em class="sqico-close" title="'+LSResource.getRealValue("common.close")+'" documentclick="hidefeedback"></em>',"</div>"].join("")},getFeedbackOnlyHTML:function(e){return['<div class="sqfdbk maskdiv fdbk_aln" fdbkarea-id="{FDBKAREAID}">','<div class="clblck">'+LSResource.getRealValue("ne.feedback")+"</div>",'<div class="fdbk_cnt">','<textarea dockeyup="feedback" dockeydown="textarea" proptype = "fdbkarea" id="fdbkarea" class="feedback-textarea" data-validate="required" placeholder="'+LSResource.getRealValue("ne.feedback.title")+'"></textarea>'+this.getSendIcon(),"</div>","</div>"].join("")},getStarHTML:function(e){var i={sad:{classname:"sad_icon"},neutral:{classname:"neutral_icon"},happy:{classname:"happy_icon"}},t="";for(var s in i){var a=e==s?" sel":"";t+='<span class="reaction_ico '+i[s].classname+a+'" data-reaction="'+s+'" documentclick="rating" title="'+LSResource.getRealValue("common."+s)+'"></span>'}return t},getSendFileHtml:function(){$Support.EmbedObj;return'<input name="file1" type="file" multiple size="1" class="embdinpfile" onchange="$Support.Util.submitFile(this, event);" id="embdfileupload"  proptype="embdfileupload" title="'+LSResource.getRealValue("chat.actions.filesharing")+'" onclick="this.value=\'\'"/>'},getDragDropHTML:function(){return'<div class="dragmask siq-dragdrop-mask" id="dragmask"><em>'+LSResource.getRealValue("ne.dropfile")+"</em></div>"},getPreviewHTML:function(){return['<div class="imgprev siq-image-preview" id="fileintex-FILEINDEX" purpose="fileupload">','<div class="cmtbx">','<div contenteditable="false"><input type="text" dockeydown="pasteimage" class="file-name" purp="name" data-validate="required"/></div>','<p id="pasteimage"></p>','<textarea id="pasteimgcomment" class="siq-comment-textarea" mcount="200" purp="comment" dockeyup="handlepasteimage" placeholder="'+LSResource.getRealValue("ne.imgcomment")+'"></textarea>','<em class="floatrg clr999 messagecount">200</em>',"</div>",'<div class="actionbtn">','<p class="siq-update-button" class="siq-update-button" documentclick="imgupload">'+LSResource.getRealValue("common.upload")+"</p>",'<p class="cancel siq-cancel-button" documentclick="imgcancel">'+LSResource.getRealValue("common.cancel")+"</p>","</div>","</div>"].join("")},getCCheckBxHTML:function(e){var i=e.options,t=getEscapedText(e.name)||"",s=($Support.EmbedObj,"");if(ZSIQConversationForm.isOldFormView()){for(var a='<div custombx="true" customid="'+t+'">'+this.getCustomWrap(e),o=0;o<i.length;o++){var c=i[o];s=e.defaultvalue==c.value?"checked":"";var n=getEscapedText(c.text);a+="<div>",a+='<input type="checkbox" id="'+(l=getEscapedText(c.value))+'" name="'+t+'" value="'+l+'" '+s+">",a+='<label for="'+l+'" class="siq-checkbox-label"><span class="sqico-chkbx siq-checkbox"></span>'+n+"</label></div>"}return a+="</div></div>"}for(a="",o=0;o<i.length;o++){var l;c=i[o],n=getEscapedText(c.text);a+='<span class="posrel"><input type="checkbox" class="hide_fld" id="'+(l=getEscapedText(c.value))+'" name="'+t+'" value="'+l+'"><span class="checkbox sqico-checkbox siq-check"><label for="'+l+'" class="curP dib-mid">'+n+"</label></span></span>"}return'<div class="field_main posrel pL15" field-type="checkbox" custombx="true" customid="'+t+'">'+$Temp.getCustomWrap(e)+"<div>"+a+"</div></div></div>"},getCRadioHTML:function(e){var i=e.options,t=getEscapedText(e.name)||"",s=($Support.EmbedObj,"");if(ZSIQConversationForm.isOldFormView()){for(var a='<div custombx="true" customid="'+t+'">'+this.getCustomWrap(e),o=0;o<i.length;o++){var c=i[o];s=e.defaultvalue==c.value?"checked":"";var n=getEscapedText(c.text);a+="<div>",a+='<label class="mR10 c000">',a+='<input type="radio" id="'+(l=getEscapedText(c.value))+'" name="'+t+'" '+s+">",a+='<span class="sqico-radio mR10"></span>'+n+"</label></div>"}return a+="</div></div>"}for(a="",o=0;o<i.length;o++){var l;c=i[o],n=getEscapedText(c.text);a+='<span class="posrel"><input type="radio" class="hide_fld" id="'+(l=getEscapedText(c.value))+'" name="'+t+'" value="'+l+'"><span class="checkbox sqico-radio siq-radio"><label for="'+l+'" class="curP dib-mid">'+n+"</label></span></span>"}return'<div class="field_main posrel pL15" field-type="radio" custombx="true" customid="'+t+'">'+$Temp.getCustomWrap(e)+"<div>"+a+"</div></div></div>"},getCustomWrap:function(e){e.options;var i=getEscapedText(e.name)||"",t=$Temp.getRequiredHTML(e.required);ZSIQConversationForm.isOldFormView()&&(t=JSON.parse(e.required)?$Temp.getRequiredHTML("*"):"");var s='<span class="field_lable font14">'+getEscapedText(e.hint)+t+"</span>",a=$.parseJSON(e.required)?'iserrorfield="true"':"";return s+='<div class="custombtn" purpose="custom" type="'+e.type+'" visibility="'+e.visibility+'" custom="'+i+'" '+$Temp.getCustomAttr(e)+' data-validate="" '+a+">"},getRequiredHTML:function(e){$Support.EmbedObj;if(ZSIQConversationForm.isOldFormView()){var i=e||"";return'<em class="req siq-required" title="'+LSResource.getRealValue("ne.required")+'">'+i+"</em>"}return $.parseJSON(e)?'<em class="mL5 req">*</em>':""},getCInputHTML:function(e){var i=getEscapedText(e.name)||"";$Support.EmbedObj;if(ZSIQConversationForm.isOldFormView()){var t=e.defaultvalue?' value="'+e.defaultvalue+'" ':"",s=e.required&&JSON.parse(e.required)?$Temp.getRequiredHTML():"";return['<div custom="'+i+'" type="'+e.type+'" customid="'+i+'" custombx="true" >','<input type="text" class="siq-input-text-box" docblur="custominput" purpose="custom" visibility="'+e.visibility+'" '+this.getCustomAttr(e)+t+" >"+s,"</div>"].join("")}var a=getEscapedText(e.hint)||i;return'<div custom="'+i+'" type="'+e.type+'" customid="'+i+'" custombx="true" class="field_main posrel" field-type="text"><input type="text" class="input_field font15" value="" info="email" purpose="custom" visibility="'+e.visibility+'" '+$Temp.getCustomAttr(e)+' docfocus="inputFocus" dockeydown="removeError" docblur="custominput"/><span class="field_title font15">'+a+$Temp.getRequiredHTML(e.required)+"</span>"+$Temp.getFetchMailHTML()+"</div>"},getCustomAttr:function(e){e.options;var i=getEscapedText(e.name)||"",t=getEscapedText(e.hint)||i,s=CommonUtil.parseToJSON(e.required)?"required":"optional",a=e.type?e.type:"text",o=e.maxlength||("url"==e.type||"textarea"==e.type?100:30),c=e.minlength?'minlength="'+e.minlength+'"':"",n=s+" "+a;$Support.EmbedObj;if(ZSIQConversationForm.isOldFormView())return'placeholder="'+t+'" id="'+i+'" mandatory="'+e.required+'" custom="'+i+'" name="'+i+'" data-validate="'+n+'" autocomplete="off" maxlength="'+o+'" '+c+' info="'+a+'"';var l=CommonUtil.parseToJSON(e.required)?'iserrorfield="true"':"";return'id="'+i+'" mandatory="'+e.required+'" '+l+' custom="'+i+'" name="'+i+'" data-validate="'+n+'" autocomplete="off" maxlength="'+o+'" info="'+a+'"'},getCDropDwnHTML:function(e){var i=getEscapedText(e.name)||"",t=($Support.EmbedObj,e.value?' val="'+e.value+'" ':"");return ZSIQConversationForm.isOldFormView()?'<div id="sqico-cdrpdwn'+e.index+'" class="sqico-drpdwn siq-dropdown" customid="'+i+'" custombx="true" custom="'+i+'" type="selectbox" visibility="'+e.visibility+'" purpose="custom" '+this.getCustomAttr(e)+t+"></div>":'<div class="field_main posrel" field-type="dropdown"><div id="sqico-cdrpdwn'+e.index+'" class="dropdown mT20 sqico-drpdwn siq-dropdown" customid="'+i+'" custombx="true" custom="'+i+'" type="selectbox" visibility="'+e.visibility+'" purpose="custom" '+this.getCustomAttr(e)+"></div></div>"},getCTextareaHTML:function(e){var i=getEscapedText(e.name)||"";$Support.EmbedObj;if(ZSIQConversationForm.isOldFormView()){var t=CommonUtil.parseToJSON(e.required)?$Temp.getRequiredHTML():"",s=e.defaultvalue?e.defaultvalue:"";return['<div custom="'+i+'" custombx="true" customid="'+i+'"  type="'+e.type+'"  visibility="'+e.visibility+'">','<textarea type="text" docblur="custominput" visibility="'+e.visibility+'" purpose="custom" '+this.getCustomAttr(e)+" >"+s+"</textarea>"+t,"</div>"].join("")}var a=getEscapedText(e.hint)||i;return'<div custom="'+i+'" type="'+e.type+'" customid="'+i+'" custombx="true" class="field_main posrel" field-type="textarea"><textarea type="text" class="input_field font15" value="" info="email" purpose="custom" visibility="'+e.visibility+'" '+this.getCustomAttr(e)+' docfocus="inputFocus" dockeydown="removeError" docblur="custominput"></textarea><span class="field_title font15">'+a+$Temp.getRequiredHTML(e.required)+"</span>"+$Temp.getFetchMailHTML()+"</div>"},getCLabelHTML:function(e){return e.hint?'<div class="subtitle mT10 lH20 pL15 c333" customid="'+(getEscapedText(e.name)||"")+'" custombx="true" '+$Temp.getCustomStyle(e)+">"+getEscapedText(e.hint)+"</div>":""},getCustomStyle:function(e){var i=e.Style||e.style,t="";if(i)for(var s in i)t+=s+":"+i[s]+";";return t?'style="'+t+'"':""},getCloseHTML:function(){return'<em class="sqico-close siq-close-icon" proptype = "closewindow" documentclick="close_iframe" title="'+LSResource.getRealValue("common.close")+'"></em>'},getChatEndHTML:function(e,i){i=i||{};var t=$Support.EmbedObj;return['<div class="infomsg chtend siq-info-message">'+(t.chatendmessage||(t.isreopenenabled?LSResource.getRealValue("ne.chatend.reopen",'documentclick="showreopenchatui"'):LSResource.getRealValue("ne.chatend",'documentclick="restartchat"'))),'<div class="chtlnks">',JSON.parse(t.eprops.icmail)&&!e?'<a href="javascript:;" class="sqico-smailico" documentclick="sendmail" id="chatendmail" chid="'+i.chid+'" visitorid="'+i.vid+'">'+LSResource.getRealValue("ne.email.transcript")+"</a>":"","</div>","</div>"].join("")},getBusnsInfoHTML:function(e){return["<div>"+LSResource.getRealValue("ne.offlinemsg")+"</div>","<div>"+LSResource.getRealValue("ne.busnshr")+' : <em class="fnt13">Monday to Friday '+e+"</em></div></div>"].join("")},getGroupIconHTML:function(){return'<span class="sqico-grpico"></span>'},getWaitHandlerHTML:function(){return['<div class="waitmsg" id="cwaitmsg">'+$Support.cwaitmsg,"</div>"].join("")},getConversationContainerHTML:function(){return'<section class="siqc_body sli_view siq_content" id="conversioncontainer" style="display:none;"><div docwheel="handlescroll" id="pastchatconv_main"><div id="currchatconv"></div><div id="pastchatconv"></div></div></section>'},getConversationHistoryHTML:function(e){$Support.EmbedObj;var i=e.attender_imgkey&&$Support.isUserLogoEnabled(e)?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e.attender_imgkey+"/photo.ls?nocache=1":"";!e.attender_imgkey&&e.isbotattender&&(i=ZSIQTranscript.getImageURL(JSON.parse(e.lastmsg)));var t=e.attender,s="";e.chid||e.attender?e.attender&&!e.transfer_missed||(t=LSResource.getRealValue("conversation.missedchat"),s=" sqico-missed",i=""):(t=LSResource.getRealValue("conversation.offlinechat"),s=" sqico-offline");var a=Message.getDisplayContent(e.question),o=!1,c="";if(e.lastmsg){var n=JSON.parse(e.lastmsg);if(o=$Support.Util.isAnnonUser(n.sender),n=n.msg){if("object"==typeof n)"cannedarticle"===n.mode?a=$FAQ.getHeaderMessage(n.msg):n.fName&&(a=n.fName,c=$Support.Util.getFileClassType(n.content));else if(a=Message.getDisplayContent(n),o||(a=Markdown.apply(a)),"string"==typeof n)try{JSON.parse(JSON.parse(n).mode&&"MEDIA"===JSON.parse(n).mode)&&(a=Message.getAVMessageBlock(JSON.parse(n),!0))}catch(e){}a=c?'<em class="'+c+'">'+a+"</em>":a,a=o?LSResource.getRealValue("common.you")+": "+a:a}}return['<div class="siqc_cntbody" '+(e.chid?'chid="'+e.chid+'"':"")+' visitorid="'+e.visitorid+'" documentclick="fetchconvtranscript">','<div class="siqc_usrimg'+s+'">','<img src="'+i+'" onload="$Support.Util.handleBlurImage(this)"><div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+getEncodedText(t)+"</span>",'<div id="desc7" class="siqc_cusmsg">'+a+"</div>","</div>",'<div id="status7" class="siqc_duration" convmtime="'+e.endtime+'">'+MyDate.timeDifference(e.endtime)+'<em class="siqc_eletype"></em></div>',"</div>"].join("")},getCallFAQHtml:function(){return'<div id="showsiqchatui" class="siqc_edt zsiq-faqcal textC" style="display:none;"><div class="siq-fcal sqico-bubchat" documentclick="showchatui"></div> <div class="siq-fcal sqico-call" onclick="CallImpl.startCall()"></div><div class="siq-fcal sqico-plus" ></div></div>'},getConversationCreateChatIConHTML:function(){return'<aside class="siqc_edt sqico-createchat wincustom_bg" id="showsiqchatui" documentclick="showchatui" title="'+LSResource.getRealValue("conversation.newconversation")+'" style="display:none;"></aside>'},getConversationTranscriptContainerHTML:function(){var e=$Support.EmbedObj;return['<section class="siqc_hstrycht siq_content '+($Support.isSignature(e)?" algn_hgt":"")+'" docwheel="handlescroll" style="display:none;">',"</section>"].join("")},getLoadingHTML:function(){return'<div class="siqc-progress siqc-float siqc-shadow" id="convloadingui"><div class="siqc-progress-item"></div></div>'},getConversationListLoadingHTML:function(){return'<div class="siqc_cntbody siqc-loader" id="convlistloading"><div class="siqc-progress siqc-float"><div class="siqc-progress-item"></div></div></div>'},getchatWaitingUIinConversation:function(e){$Support.EmbedObj;return['<div class="siqc_cntbody" id="conv'+e.chatID+'" chid="'+e.chatID+'" visitorid="'+e.visitorID+'" documentclick="showchatui">','<div class="siqc_usrimg">','<img id="convchatattenderimg" propval = "convchatattenderimg" src="" onload="$Support.Util.handleBlurImage(this)">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span id="convchatattendername" propval = "convchatattendername" class="txtelips"></span>','<p id="convmsg" propval = "convmsg" class="siqc_cusmsg">'+getEscapedText(e.question)+"</p>","</div>",'<div class="siqc_duration"><em id="convwtime" propval = "convwtime"></em><span><em class="siqc_eletype"></em></span></div>',"</div>"].join("")},getPopUpMessageInconversation:function(e,i,t,s){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui" chid="'+s+'">','<div class="siqc_usrimg">','<img src="'+t+'" onload="$Support.Util.handleBlurImage(this)">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+e+'</span><p id="desc1" class="siqc_cusmsg">'+i+"</p>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getPopUpAlertInconversation:function(e,i,t,s){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui">','<div class="siqc_usrimg">','<img src="'+s+'" onload="$Support.Util.handleBlurImage(this)">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+getEncodedText(e)+'</span><p id="desc1" class="siqc_cusmsg">'+getEncodedText(i)+"</p>",'<div id="alerttimer" class="siqc_duration">'+t+"</div>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getPopUPInfoMessageInConversation:function(e,i){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui" chid="'+i+'">','<div class="siqc_msg">','<p id="desc1" class="siqc_cusmsg">'+e+"</p>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getOutgoingcallUI:function(e,i){var t="",s="";return null==e||""==e?s="<em class='sqico-person'></em>":t="<img src="+(e=e.split("?")[0])+">",null==i&&(i=""),['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof zsembd_calrng">','<div class=" sqico-personimg">',t,s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+i+'<em class="txtelips font14">'+LSResource.getRealValue("av.info.calling")+"</em></span>",'<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)" title='+LSResource.getRealValue("av.info.mute")+"></div>",'<div class="sqico-call reject-cal" onclick="avimpl.terminateAudioCall();"></div></div>',"</div>"].join("")},getReconnectionUI:function(e,i,t){var s="",a="";return null==e||""==e?s="sqico-person":a="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC reconnect" id="call_reconnection">','<nav class="zsembd_usrprof">','<div class="'+s+' sqico-personimg">',a,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+t+'<em class="txtelips font14">'+LSResource.getRealValue(i)+"</em></span>",'<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)" title='+LSResource.getRealValue("av.info.mute")+"></div>",'<div class="sqico-call reject-cal" onclick="avimpl.terminateAudioCall();"></div></div>',"</div>"].join("")},getConnectionDisconnectedUI:function(e,i){var t="",s="";return null==e||""==e?t="sqico-person":s="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC reconnect" id="call_connectiondisconnected">','<nav class="zsembd_usrprof">','<div class="'+t+' sqico-personimg">',s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14">'+LSResource.getRealValue(i)+"</em></span>",'<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)" title='+LSResource.getRealValue("av.info.mute")+"></div>",'<div class="sqico-call reject-cal" onclick="avimpl.terminateAudioCall();"></div></div>',"</div>"].join("")},getUserBusyUI:function(e,i){var t="",s="";return null==e||""==e?t="sqico-person":s="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC" id="call_Busy">','<em class="sqico-close" onclick="avimpl.clear();"></em>','<nav class="zsembd_usrprof">','<div class="'+t+' sqico-personimg">',s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+i+'<em class="txtelips font14">'+LSResource.getRealValue("av.info.userbusy")+"</em></span>",'<div class="cal_actns">','<div class="call-record" title="'+LSResource.getRealValue("av.info.voicemessage")+'" onclick="avimpl.showAudioRecorder();"></div>','<div class="sqico-call" onclick="avimpl.startCall();"></div></div>',"</div>"].join("")},getAudioCallUI:function(e,i){var t="",s="";return null==e||""==e?s="<em class='sqico-person'></em>":t="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof zsembd_calrng">','<div class="sqico-personimg">',t,s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips"><em class="txtelips font14">'+LSResource.getRealValue("av.info.callfrom")+"</em>"+i+"</span>",'<div class="cal_actns">','<div class="sqico-call" onclick="avimpl.acceptCallInvite();"></div>','<div class="sqico-call reject-cal" onclick="avimpl.rejectCallInvite();"></div></div>',"</div>"].join("")},getOnCallUI:function(e,i){var t="",s="";return null==e||""==e?t="sqico-person":s="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof\t">','<div class="'+t+' sqico-personimg" >',s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+i+'<em class="txtelips font14" id="sqico-timer"></em></span>','<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)" title='+LSResource.getRealValue("av.info.mute")+"></div>",'<div class="sqico-call reject-cal" onclick="avimpl.stopOngoingCall();"></div></div>',"</div>"].join("")},getStartRecordUI:function(e){var i="";return null==e||""==e?"sqico-person":i="<img src="+(e=e.split("?")[0])+"  alt="+$Support.EmbedObj.attendername+">",['<div class = "zsiq_media_headshot_main" id="user_busy">','<div class="zsiq_media_headshot">',' <div class="zsiq_media_cirview">','<div class="zsiq_media_userimg">',i,"</div>",'<div class="zsiq_media_detail">','<div class="zsiq_media_elips zsiq_media_name">'+$Support.EmbedObj.attendername+"</div>",'<div class="zsiq_media_elips" id="sqico-timer" ></div>','<div class="zsiq_media_embd-calrec">',"</div>",' <div class="siq_media_btns siq_media_flexM">','<div class="zsiqmico-stop zsiq_media_wbtn"></div>'," </div>"," </div>","</div>","</div>"].join("")},getAudioRecordedUI:function(e,i,t,s){var a="";return null==e||""==e?"sqico-person":a="<img src="+(e=e.split("?")[0])+"  alt="+i+">",['<div class = "zsiq_media_headshot_main" id="user_busy" style="top:'+t+"px;left:"+s+'px;">','<div class="zsiq_media_headshot">',' <div class="zsiq_media_cirview">','<span class="zsiqmico-close" cntrl="cancelRecord"></span>','<div class="zsiq_media_userimg">',a,"</div>",'<div class="zsiq_media_detail">','<div class="zsiq_media_elips zsiq_media_name">'+i+"</div>",'<div class="zsiq_media_elips" id="sqico-timer"></div>','<div class="zsiq_media_embd-calrec" id="sqico-canvas">',"</div>",' <div class="siq_media_btns siq_media_flexM">','<div class="zsiqmico-record zsiq_media_wbtn" title="'+LSResource.getRealValue("av.info.voicemessage")+'" cntrl="settings" ></div>','<div class="zsiqmico-play zsiq_media_wbtn zsiq_media_mL13" cntrl="playRecord" ></div>','<div class="zsiq_media_wbtn" cntrl="stopRecord" ></div>'," </div>"," </div>","</div>","</div>"].join("")},getTranslateBannerHTML:function(e,i){var t="<a class='siq-lnmor sbold' target='_blank' href='"+(i=-1==(i=i||_GT_ATTRIBUTIONLINK).indexOf("http")?"http://"+i:i)+"'> "+LSResource.getRealValue("helplink.learnmore")+"</a>";return['<div class="gltr-cont" id="consentbannerdiv" cattr="gtranslateconsent" ><span class="gltr-desc">'+LSResource.getRealValue("common.gdpr.agent.translateinfo")+"<em> "+LSResource.getRealValue("common.gdpr.gtranslatehead")+'<div class="gltr-bgimg"></div></em>'+t+'</span><div class="gltr-done mT10"><div documentclick="updatetranslatecookie" class="bot_opt gltr-srno" >'+LSResource.getRealValue("common.okay")+"</div></div></div>"].join("")},handleStartChatBTN:function(e){var i=$.isEmptyObject(e)?$Support.contentdiv:e.contentdiv;i.find('[proptype="action_icons"]').length||i.find('[proptype="smilelist"]').after('<div id="action_icons" proptype="action_icons"><span class="sqico-send siq-send-button" id="sqico-send" txtarea-id="'+e.winid+'" proptype = "sqico-send" title="'+LSResource.getRealValue("ne.send")+'"></span></div>')},getSnowHTML:function(){return $Support.isSeasonalTheme()?'<div id="snow"><div class="snow_anim1 anim1 size1"> </div><div class="snow_anim2 anim2 size2"> </div><div class="snow_anim1 anim3 size3"> </div><div class="snow_anim2 anim4 size1"> </div><div class="snow_anim1 anim5 size2"> </div><div class="snow_anim1 anim6 size3"> </div><div class="snow_anim2 anim7 size1"> </div><div class="snow_anim1 anim8 size2"> </div><div class="snow_anim2 anim9 size3"> </div><div class="snow_anim1 anim10 size1"> </div></div>':""},getSantaCap:function(){if(!$Support.isSeasonalTheme())return"";return'<em class="santacap"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 331.9 209.8" style="enable-background:new 0 0 331.9 209.8;" xml:space="preserve"><path class="st0" d="M330.9,145.6c-0.4,0.2-0.8,0.3-1.2,0.3l-11.3,0.2l-5.9,9.6c-0.5,0.9-1.5,1.3-2.5,1.2c-1-0.1-1.9-0.8-2.2-1.8l-4-10.9l-11-3.1c-1-0.3-1.7-1.1-2-2.1c-0.2-1,0.1-2,0.9-2.7l8.8-6.9l-0.9-11.5c-0.1-1,0.4-2,1.3-2.5l0,0c0.9-0.5,1.9-0.4,2.8,0.2l9.5,6.6l10.5-4c0.9-0.4,2-0.1,2.8,0.6s1.1,1.8,0.8,2.8l-2.9,11l7.3,9c0.6,0.8,0.8,1.9,0.4,2.8C331.7,144.9,331.3,145.3,330.9,145.6z"/><path class="st1" d="M260.7,66.3c0,0-7,2.9-12.3,13.5c-3.6,7.3-7.9,18.4-4.6,26.7c3.6,9,10.9,24.5,36.8,25.4c22.9,0.7,40.2-25.1,40.6-34.8c0.4-9.6-4.5-21.2-8.8-26.2c-5.8-6.8-6.1-10-12.9-11.4c-9.7-1.9-19.6-2.4-28.7,1.7C267,63,263,64.9,260.7,66.3z"/><g><path class="st2" d="M305,61.9c15.7,57.1-54,57.8-52.7,59c31.1,30,64.2-6.7,64.1-6.7C332.9,89.2,305,61.9,305,61.9z"/><path class="st2" d="M216.9,52.9c10.1,0.3,24.1,18.1,32.9,24.4c5.1-8.6,10.9-11,10.9-11c2.3-1.4,6.3-3.3,10.1-5.1c0.9-0.4,1.9-0.8,2.8-1.1c0.4-1.6,0.9-3.2,1.3-5C287.8,4.7,204.7-1.1,172.4,0.4c-32.3,1.4-84.5,49.9-97.6,58.5c-13.1,8.6-20.3,28.4-28.2,43.6c-8,15.2-6.9,22.6-20.4,37.4c-8.7,9.6-19,27-25.2,38.1c-2.7,4.9,0.4,11,6,11.6c48.3,5.4,217.2,24.2,216.4,19.5c-0.7-5.2-3.4-6.5-3-12.1c0.5-5.6,0.4-11.8-6.6-23.6s-2.7-16-2.1-31.2c0.6-15.2-6-10.1-10.5-17.2c-4.6-7.1,5.7-8.6,7.7-19.7c2-11.1,1.3-24.7-1.5-31.7S205.1,52.6,216.9,52.9z"/></g><g class="st3"><path class="st4" d="M271.8,30c-9.2-13.5-18.6-15.5-24.8-18.5c-6.2-3-22.4-8.1-27.5-8.5c-5.1-0.4-24.8-1.9-28-2.1s-2.3,5.6,2.1,6.5c4.4,1,44.9,6.6,53.3,13c8.5,6.4,17.5,13.5,20.1,21.4c2.6,7.8,3.4,22.5,4.8,21.4C271.8,63.2,281,43.5,271.8,30z"/><path class="st4" d="M51.2,114.2c3.8-7.4,14.4-20.7,16-25c1.6-4.4,8.7-13.4,12.9-18.2s12.5-13.7,20.2-22.1c7.7-8.4,14.5-14.2,23.1-17.4c8.5-3.2,6.3-7.8-0.1-7.7c-6.4,0.1-22.2,15.5-26.4,19.7S82.3,58.4,74.3,62.9s-9.6,15.9-13.9,22.6C56,92.2,42.5,118.6,40,126.1c-2.5,7.4-10.6,13.2-10.6,13.2C32.6,139.6,47.4,121.5,51.2,114.2z"/><path class="st4" d="M202.8,188.6c-2.4-2.3,14.8,6.9,3.4-2.9c-0.3-0.3-0.7-0.5-1.1-0.8c0.8,0.1,12.7,1,10.9-4.6c-2-6.2-12.1-12.8-11.7-20.4c0.4-7.6,6.2-20.1,0.1-25.5c-6.1-5.4-9.3-4.3-9.6-10.7s6.9-9.8,8.3-13c1.4-3.1,3.2-24.7,1.1-36.4c-1.2-6.5-2.1-9.1-5-10.4c-5-2.2-10.8-1.2-13.5,1.2c-2.7,2.4-33.1,10.4-44.4,7.9c-11.4-2.5-5-8.4-8.7-10.5c-3.7-2.1-23.2,22.9-15,24.6s29.2,2.8,40.4,9.1c5.4,3,9.3,7.5,11.9,12.6c-6.1-0.5-13.5-1-22.7-1.8c-14-1.1-16.8-5.8-26.2-8.4c-9.4-2.6-23.8-6.3-27.1-5.3c-11.2,3.5,23.7,16.5,45.9,18.2c20.8,1.6,25.4,2,32.2,2.5c1.3,4,1.8,8.3,1.6,12.4c-0.6,11.5,4.1,18.7,7.4,29.7c3.2,11,3.6,16.8,2.8,19.9c-0.1,1.9,1.3,3.3,3.9,4.6c-6.7-0.8-14.3-1.2-22-1.4c0.1-3.5-0.4-12.5-8.8-19.3c-4.6-3.7-9.8-6.6-15-9c-0.3-1.4-1.4-4-4.3-6.5c-4.2-3.5-15.1-3.7-24.6-4.4c-9.5-0.8-22.8-1.8-35.5-3.4C64.9,135,33,142.1,33,142.1c-5.7,0.2-9,8.9-3,6.3c0,0,0,0,0,0c0.5,5.1,25.1,15.2,38.1,20.1c10.5,3.9,33.5,4.6,57.6,11.3c-1.3,0.1-2.1,0.1-2.1,0.1c1.4,0.1,2.9,0.3,4.6,0.6c4.9,1.4,9.8,3.1,14.6,5.2c8.6,3.6,14.1,4.9,17.7,4.7c23.9,8.7,49.4,18.9,55.7,14.5C226.4,197.8,205.2,190.9,202.8,188.6z M49.1,144.5c5.1-0.4,11.8-2.2,18-2.9C61.9,142.5,57.2,144.4,49.1,144.5z"/></g><g><path class="st5" d="M220.5,197c0.5-5.6,0.4-11.8-6.6-23.6c-7-11.8-2.7-16-2.1-31.2c0.6-15.2-6-10.1-10.5-17.2c-4.6-7.1,5.7-8.6,7.7-19.7c2-11.1,1.3-24.7-1.5-31.7s-2.3-21,9.5-20.7s29.1,24.8,36.9,26.5c7.8,1.8,8.2,26.1,21.1-24.3C287.9,4.7,204.8-1.1,172.5,0.4C140.2,1.8,88,50.3,74.9,58.9c-13.1,8.6-20.3,28.4-28.2,43.6c-8,15.2-6.9,22.6-20.4,37.4c-8.8,9.6-19.2,27.3-25.4,38.4c-2.7,4.8,0.4,10.7,5.8,11.3c47.9,5.3,217.5,24.2,216.8,19.5C222.8,203.9,220.1,202.6,220.5,197z"/><path class="st5" d="M305,61.9c15.7,57.1-54,57.8-52.7,59c31.1,30,64.2-6.7,64.1-6.7C332.9,89.2,305,61.9,305,61.9z"/></g></svg><em class="santacapbg"></em></em>'},getAskMediaPermission:function(e){var i="zsiq-"+e;return"Chrome"==e&&(i=""),'<div class="zsiq_prv_main zsiq-cal-turtrp" onclick="$ZSIQUtil.getIframe().avimpl.closeViewMediaPermission();"><div class="zsiq-cal-hnt-cont zsiq-isblk '+i+'"  ><div class="zsiq-trtp-anim "></div><span class="siqico-arrow zsiq-arrow"></span><div>'+LSResource.getRealValue("av.info.pleasetaponlock","<em class='siqico-lock'></em>")+"</div><p>("+LSResource.getRealValue("common.or")+")</p><div>"+LSResource.getRealValue("av.info.enablemicrophonesetting")+'</div><div class="calndr-sedulbtn" style=""  onclick="$ZSIQUtil.getIframe().avimpl.viewBrowserSettingsMediaPermission();"> '+LSResource.getRealValue("chatwindow.mailcopy.clickhere")+" </div></div></div>"},getMediaSetting:function(e){var i="zsiq-"+e;return"Chrome"==e&&(i=""),'<div class="zsiq_prv_main zsiq-cal-turtrp" onclick="$ZSIQUtil.getIframe().avimpl.closeViewMediaPermission();"><div class="zsiq-cal-hnt-cont  '+i+'""><div class="zsiq-trtp-anim"></div><span class="siqico-arrow zsiq-arrow"></span><span class="zsiq-alw-mic siqico-mic"></span><div class="zsiq-alw-mic-desc">'+LSResource.getRealValue("av.info.pleaseallowmicrophone")+"</div></div></div>"},conversationEmptyState:function(){return'<div class="content_mdl textC" id="emptybg"><span class="online_bg"><em class="bg_shadow"></em>'+LSResource.getRealValue("cw.emptypage.title")+'</span><div class="chat_btn sqico-chat" documentclick="showchatui">'+LSResource.getRealValue("ne.chatnow")+"</div></div>"},getReOpenMsgArea:function(){return['<div class="sqfdbk maskdiv fdbk_aln">','<div class="clblck">'+LSResource.getRealValue("chat.reopen")+"</div>",'<div class="fdbk_cnt">','<textarea dockeyup="reopenchat" dockeydown="textarea" id="reopenmsgarea" txtarea-id = "{TXTAREAID}" class="feedback-textarea" data-validate="required" placeholder="'+LSResource.getRealValue("embed.composer.placeholder")+'"></textarea>'+this.getSendIcon(),"</div>",'<div class="actionbtn"><p class="cancel siq-cancel-button" documentclick = "hidemaskdiv" >'+LSResource.getRealValue("common.cancel")+'</p><p id="continue_btn" class="siq-update-button" documentclick = "reopenchat">'+LSResource.getRealValue("common.send")+"</p></div>","</div>"].join("")}}}(window);var scrollHandler=function(){var a,m,n={},h=0,s={8:{min:85,max:120},9:{min:93,max:140},10:{min:87,max:110}},d={bottom:30,skew:9},r=function(e,t){var o=t.deltaY||-1*t.wheelDelta,r=n.header.height(),i=r-o;clearTimeout(h),r<i&&0!=e.scrollTop()||(l(i=m<(i=i<a?a:i)?m:i),p(o),h=setTimeout(function(){i!=a&&i!=m&&(l(i=m/100*a<i?m:a,!0),$("#header_style").remove())},300))},i=function(e,t){if($Support.isAllowFreeLogo()){var o=e.outerHeight(),r=e[0].scrollHeight;if(o!=r){var i=$Support.getFreeLogo(e);o+e[0].scrollTop>=r-20?i.hide():i.show()}}},l=function(e,t){var o=t?100:0;n.header.animate({height:e+"px"},o).removeClass("min_header"),e==a&&n.header.addClass("min_header")},p=function(e){if(9==n.theme){var t=e/(s[9].max-s[9].min)*100,o=d.bottom+-t/100*20,r=d.skew+-t/100*6;d.skew=0<e?(d.bottom=o<10?10:o,r<3?3:r):(d.bottom=30<o?30:o,9<r?9:r),$("#header_style").remove();var i="transform: skewY("+d.skew+"deg) !important;";$("body").append('<style id="header_style">[themeid="9"] header:after { bottom: '+d.bottom+"px !important; "+i+" -webkit-"+i+" -moz-"+i+" -o-"+i+" -ms-"+i+" }</style>")}};return{init:function(e,t){if($Support.Util.checkAndRemoveUnreadDIV(),i(e,t),-1==[4].indexOf($Support.getThemeID())){if(!n.size){var o=s[$Support.getThemeID()];n.header=$Support.container.find("header"),n.size=getObjectSize(n),n.theme=$Support.getThemeID(),a=o.min,m=o.max}n.event=t,r(e,t),$TH.checkAboutmeClass(),$.fn.ztooltip.remove()}}}}();ZSIQConversationForm=function(){var s=$Support,u={},a={visitorname:{placeholder:"cw.form.name.placeholder",message:"cw.form.name.question",postmessage:"common.name"},visitoremail:{placeholder:"cw.form.email.placeholder",message:"cw.form.email.question",postmessage:"cw.form.email"},visitorphone:{placeholder:"cw.form.phone.placeholder",message:"cw.form.phone.question",postmessage:"ne.enterphone"},department:{postmessage:"common.department",message:"embed.choose_department"},campaign:{message:"embed.campaign.label"}},r=function(e,t,i){u=i||u;var a=n(e,t);$.ajax({url:a,type:"GET",success:function(e){var t=e&&e[0].objString?e[0].objString.form:{},i=$Support.getParent().$ZSIQUtil.getAvuid();if(Object.keys(t).length)return ZSIQConversationForm.isOldFormView()||$Support.Util.isPreview()?(H(t),LSDebugger.postDebugInfo("Chat initiation started - Ismandatory field avail:"+$Support.Util.IsMandatoryFieldsAvailable()+" | avuid:"+i,null,"",!0),!0,void $Support.handleChatWindowUI()):(P()||$.isEmptyObject(u)||(u.contentdiv.find('[purpose="name"]').find(".sqico-edit").first().addClass("dN"),t.currwinobj=u,$Support.handleOnGoingchatActionsInConversation("formchat",t)),void o(e));LSDebugger.postDebugInfo("fetchvisitorconfigurations - Empty field list| avuid :  "+i,null,"",!0),!0,(ZSIQConversationForm.isOldFormView()||$Support.Util.isPreview())&&$Support.handleChatWindowUI(),!ZSIQConversationForm.isOldFormView()&&!ZSIQConversationForm.maualedit&&x(),delete ZSIQConversationForm.maualedit,ZSIQConversationForm.clearSessionStorage()},error:function(){ZSIQConversationForm.clearSessionStorage(),$Support.handleChatWindowUI()}})},n=function(e,t){ispreview=$Support.Util.isPreview();var i=s.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid,a=ispreview?"1":$Support.getParent().$ZSIQUtil.getAvuid();""!=a&&a||LSDebugger.postDebugInfo("AVUID empty for fetchvisitorconfig actual cookie val|"+s.LSDB.get("ZLD"+i+"avuid"),null,"",!0);var r=$Support.getAjaxURL("fetchvisitorconfigurations",dext),n=u&&u.question;return r+="?avuid="+a+"&lsid="+i+(!P()&&n?"&visitor_question="+n:"")+(P()||ispreview||t?"&fetchallfields="+!0:"")+(e?"&clear_context="+!0:"")},o=function(e){var t=e&&e[0].objString?e[0].objString.form:{},i=($Support.EmbedObj,t.msglist||[]),a=i.length,r=t.visitor_question;if(u.question||P()||!r||(!u.proactive&&(u.question=r),p(a,t.form_type,r)),"classic"==t.form_type||P())m(e);else if(1<a)l(t);else{var n=a?i[0]:{};h(n)}},p=function(e,t,i){var a=$Support.EmbedObj;1!=e&&"classic"!=t||($Support.Util.showMessageAreaUI("","","",u),u.showChatArea(),u.question=i,(u.istrigmsg||u.proactive)&&$BotImpl.formatAndDisplay({dname:a.visitorname,msg:getEscapedText(u.question),isques:u.question},u.winid))},m=function(e,t){$Support.Util.isPreview()&&t&&(u=t),S(e)},d=function(e,t,i){var a=s.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");t=t?"&meta="+encodeURIComponent(t):"";i=i||"",e=encodeURIComponent(e);var r=$Support.getAjaxURL("sendmessage",dext);r+="?avuid="+a+"&msg="+e+t+"&ignore="+i,$.ajax({url:r,type:"GET",success:function(e){var t=e&&e[0]?e[0].objString:{};if("context_completed"==t)return!0,void x();t.currwinobj=u,$Support.handleOnGoingchatActionsInConversation("formchat",t),h(e)}})},c=function(e,t){var i=e[0]&&e[0].objString?e[0].objString:e,a=i.form?i.form:i;a.msg=getEncodedText(a.msg);var r="classic"==t,n=$.extend({},a);return a.meta={},a.msglist&&!r||(a.msglist=[],a.msglist[0]=n,r&&(a.meta.input_card=n,a.meta.input_card.type=t)),a=r?a:w(a)},l=function(e){R(e);for(var t=e.msglist||[],i=0;i<t.length;i++)$BotImpl.iswidgetobj(t[i])&&(t[i].sender="-1");$Support.Util.showMessageAreaUI("","","",u),t.unshift({dname:$Support.EmbedObj.visitorname,chid:u.winid,msg:getEscapedText(u.question),isques:u.question});var a=t.length,r=t[a-1];if(!$BotImpl.iswidgetobj(r))return t=C(t),$Support.Util.populateChatUI(t),void x();var n=t.splice(0,a-1);n=C(n),n=g(n),$Support.Util.populateChatUI(n),!$Support.isNewHeader()&&$TH.populateSendBtn(LSResource.getRealValue("ne.send"),u.winid),h(t[0])},g=function(e){var t=$Support.EmbedObj;return u.istrigmsg?(u.question&&($Support.istriggeredchat=!0),[{sender:-1,dname:t.triggername,msg:getEscapedText(t.pmsg)}].concat(e)):u.proactive?($Support.getTranscriptFromSession(t.chatID)||[]).concat(e):e},f=function(){var e=$Support.getParent().$ZSIQUtil.getAvuid();s.LSDB.storeInSession(e+"_formcontextinitiated",!0)},v=function(e){return e.meta&&(e.meta.typing_delay=0,e.meta.disablesound=!0),e},S=function(e){V();var t=e&&e[0].objString?e[0].objString.form:{};t.dname=t.dname?t.dname:D(),t.dname=u.attendername||t.dname;var i=t.msglist?t.msglist:[];if(!function(e){var t=e[0]&&e[0].meta&&e[0].meta.field_name?e[0].meta.field_name:"";if(1==e.length&&ZSIQConversationForm.maualedit&&"department"==t)return!0}(i)){var a=i[0]?i[0].mtime:"",r=i.map(function(e){return e.meta&&e.meta.input_card?e.meta.input_card.type:""}).indexOf("campaign");-1!=r&&(i[r]=F(i[r],"classic"));var n=c(e,"classic");n.isdisablecache=!0,P()?(n=v(n),n=b(n)):($Support.Util.isPreview()&&(n=v(n)),n.callback=q,n.mtime=a),n.sender="-1",ZSIQTranscript.scroll(),$BotImpl.formatAndDisplay(n,u.winid)}},b=function(e){return e.isuseredit=ZSIQConversationForm.maualedit,e.triggerclbk=ZSIQConversationForm.triggerclbk,e.time=(new Date).getTime(),delete ZSIQConversationForm.maualedit,delete ZSIQConversationForm.triggerclbk,e.callback=function(e,t,i){if("siqformskip"!=i.currentTarget.id){var a="keyup"==i.type?$(i.currentTarget).find("#siqformsave"):$(i.target);$Support.checkAndUpdateInfo(a),V()}else L(e)},e},h=function(e){var t=$Support.EmbedObj,i=$Support.getParent().$ZSIQUtil.getAPIValues()||{},a=e[0]&&e[0].objString&&e[0].objString.meta?e[0].objString.meta:e.meta||{},r=a.input_card&&a.input_card.type?a.input_card.type:"",n=i[r.replace("visitor_","")],o="department"==a.field_name;if(n||o&&-1!=u.department){var s=n||t.department;d(s,"",!0)}else{e=I(e),a.input_card&&(a.input_card.fieldtype=r,a.input_card.type="conversationforminput"),"campaign"==r&&(e=F(e,"conversation"));var p,m=$Support.Util.isPreview();e=o?y(e):e,a=a.skippable?((p=a).skip_callback=function(){var e=$("#msgarea").parents(".usrinpt"),t={val:LSResource.getRealValue("cw.form.field.skip"),metaval:JSON.stringify({type:"skip",value:"-"})};e.find(".hint").remove(),$("#msgarea").removeClass("error_bar"),$("#msgbox_main").find(".flogo").show(),O("",t,"")},p):a;var l=c(e);/^(visitor_phone|visitor_name|visitor_email||department|campaign)$/.exec(r)||(l=_(l)),l.isdisablecache=!0,l.sender="-1",m&&l.meta&&(l.meta.typing_delay=0),$BotImpl.formatAndDisplay(l,u.winid),o&&(m?$BotImpl.disableComposer():_disableComposer())}},_=function(e){var t={checkbox:"multiple-select",radio:"select",selectbox:"suggestions"},i=e.msglist?e.msglist[0]:{},a=i.meta||{},r=i.meta.input_card?i.meta.input_card:{};return t[r.type]&&(a.callback=k,r.type=t[r.type]),"suggestions"==r.type&&(a.suggestions=r.options),i.iscustomfield=!0,e},I=function(e){var t=e[0]&&e[0].objString?e[0].objString:e,i=t.meta,a=i.input_card?i.input_card:{},r=a.type||i.field_name||"";return a.placeholder=a.placeholder?a.placeholder:ZSIQConversationForm.getDefaultPlaceholder(r.replace("_","")),t.dname=t.dname?t.dname:D(),t.msg=t.msg?getEncodedText(t.msg):ZSIQConversationForm.getDefaultMessage(r.replace("_","")),e},C=function(e){for(var t=0;t<e.length;t++){var i=e[t];$BotImpl.iswidgetobj(i)&&(e[t]=I(i),!i.sender&&(i.sender="-1"))}return e},y=function(e){for(var t=[],i=e&&e[0]&&e[0].objString?e[0].objString:{},a=i.meta?i.meta:e.meta||{},r=$Support.getEmbedDepartments(),n=r.length,o=0;o<n;o++){var s=r[o],p=U(s),m="title = "+LSResource.getRealValue("common."+p)+" dept_status = "+p;t.push({text:s.DNAME,value:s.ID,custatrr:m})}return a.suggestions=t,a.callback=k,i.msg=i.msg||LSResource.getRealValue("embed.choose_department"),e},w=function(e){var t=e.msglist?e.msglist[0]:e.objString,i=t?t.meta:{},a=i.input_card||{},r=a.maxlength||"100",n=i?i.format:"";n=n||a.type;var o=r?" charlimit "+r:"";return e.data_validate=i&&i.skippable?n+o:"required "+n+o,e.fieldtype="default",e},F=function(e,t){if("classic"==t||P())return e.msg=e.msg?e.msg:LSResource.getRealValue("embed.campaign.label"),e={meta:{field_name:"campaign",skippable:!0,format:"checkbox",key:"subscribe",hint:"",is_default_field:!0,options:[{text:e.msg,value:!0}]}};var i=e&&e[0]&&e[0].objString?e[0].objString:e,a=i.meta?i.meta:{};return i.msg=i.msg?i.msg:LSResource.getRealValue("embed.campaign.label"),a.input_card={type:"select",options:[{value:!0,text:LSResource.getRealValue("common.yes")},{value:!1,text:LSResource.getRealValue("common.no")}],data_key:"subscribe"},a.callback=k,a.skippable=!1,a.field_name="subscribe",e},j=function(e,t,i,a){if("subscribe"==e&&($Support.subscribe=JSON.parse(t)),"department"==e)ZSIQConversationManager.getChatWinObjById(a).department=t;else if(i&&null!=t){var r=$Support.EmbedObj.cinfo||{},n="object"==typeof t?t[0]?t[0].value:"":t;r[e]=n,$Support.EmbedObj.cinfo=r}else $Support.EmbedObj[e]=t},D=function(){return u.attendername||getEscapedText($Support.EmbedObj.eprops.agentname[1].name)||LSResource.getRealValue("ne.operator")},E=function(e){var t=e.length,a=[];for(i=0;i<t;i++)a.push(e[i].value);return a},k=function(e){var t,i=e.data_value,a=e.config||{};"object"==typeof i&&(i=E(i)),t={val:e.msg,metaval:JSON.stringify(meta={type:a.fieldtype,value:i})},t="subscribe"==a.fieldname?e.msg:t,$BotImpl.enableComposer(),j(a.fieldname,e.data_value,a.iscustomfield,e.chatid),O(e.element,e.data_value,t)},U=function(e){return e.ENGAGED?"engaged":e.STATUS?"online":"offline"},Z=function(e){var t=$Support.EmbedObj,i=$Support.getEmbedDepartments()||[],a=(i.length,e||t.department);for(var r in i){var n=i[r];if(n.ID===a)return n.STATUS}return t.status},A=function(e){$Support.EmbedObj;var t=$Support.getEmbedDepartments();t.length;for(var i in t){var a=t[i];if(a.NAME===e)return a.ID}},x=function(e){e?$Support.getComposer().val(u.question):ConversationFormInput.resetMessageArea(u.winid),t()},Q=function(e,t,i){s.getParent().$zoho.salesiq.visitor[e](i)},R=function(e){for(var t,i,a,r=e.msglist||{},n=r.length,o=!1,s=0;s<n;s++){var p=r[s],m=p.meta?p.meta:"";if(!m||o)if("department"!=i)if(o){var l=p[t]||(m?E(m.value).toString():"");j(a,l,!0),o=!1}else"campaign"==i&&p[t]?$Support.subscribe="Yes"==p[t]:$Support.EmbedObj[i]=p[t];else $Support.EmbedObj[i]=A(p[t]);else{if(m.card_data&&"skip"==m.card_data.type)continue;t=m.input_card?m.input_card.type:m.field_name,a=m.field_name,i=t?t.replace("_",""):"",/^(visitor_phone|visitor_name|visitor_email||department|campaign)$/.exec(t)||(o=!0,i=m.field_name)}}},O=function(e,t,i){var a=$Support.EmbedObj.visitorname,r=e?e.parents(".ziq_msg"):"",n=i||t,o="object"==typeof n?n.metaval:"";if(n="object"==typeof n?n.val:n,$Support.Util.removeSendClickAction(),i||t)if(N())_updateDeptValue(r,n);else{r&&r.find(".cmpnt-desc").length&&r.find(".msgbx").text(r.find(".cmpnt-desc").text()),$("#conversationoption").remove();var s={isvisitor:!0,sender:a,dname:a,msg:getEscapedText(n),time:MyDate.getHoursandMin((new Date).getTime(),!0,"bclient"),previoussender:!1,isdisablecache:!0};$BotImpl.formatAndDisplay(s,u.winid),Message.presender=a,ConversationFormInput.resetMessageArea(u.winid),d(n,o)}},q=function(e,t,i){if("siqformskip"==i.currentTarget.id&&(_storeClassicData(!0),L(e),!e.isuseredit&&!e.triggerclbk&&$BotImpl.formatAndDisplay(B(ZSIQConversationForm.classicformdata,e.dname),u.winid)),$Support.checkCustomFields(s.getFormContainer()),s.Util.validateFields(s.getFormContainer())){_storeClassicData(),!0;var a=u.contentdiv;s.Util.isCampaignEnabled()&&($Support.subscribe=a&&a.find('[purpose="subscribe"] input').is(":checked")),t?t(e):x(),V(),!e.isuseredit&&!e.triggerclbk&&$BotImpl.formatAndDisplay(B(ZSIQConversationForm.classicformdata,e.dname),u.winid)}};_storeClassicData=function(r){ZSIQConversationForm.classicformdata={},$("#siqform").find("[purpose]").each(function(){var e=$(this),t=e.attr("purpose");if("custom"==t)return!0;var i=e.attr("fieldkey"),a=e.val()||e.attr("val");return!!isUndefined(i)||(r?(ZSIQConversationForm.classicformdata[i]={msg:LSResource.getRealValue("cw.form.field.skip"),meta:{type:"skip",value:""}},!0):(a="department"==t?e.find("#dropheader").text():a,a="subscribe"==t?1==e.find("input").prop("checked"):a,(isUndefined(a)||""==a)&&(a=LSResource.getRealValue("cw.form.emptyfieldvalue","")),void(ZSIQConversationForm.classicformdata[i]=a)))}),r&&(ZSIQConversationForm.classicformdata.skip=!0)};var L=function(e){!0;var t=!(!e.isuseredit&&!e.triggerclbk);V(),t||x()},V=function(){var e=$("#siqform").parents(".ziq_msg");e.prev('[frstmsg="true"]').remove(),e.remove(),$BotImpl.enableComposer()},t=function(){var t=$Support.EmbedObj.pprops,i=T();$Support.updateInputValues(u);var e=s.EmbedObj.status&&Z(u.department)?function(){u.initiateChat()}:function(){if(i&&!s.EmbedObj.status){var e=u.contentdiv;return e.find(".sqico-edit").remove(),e.find("div[purpose=name]").attr("documentclick",""),u.hideUserEditUI(),$UI.appendChatConsentDiv(null,!1,t.chatcookiepolicyurl,u),void ZSIQTranscript.scroll()}$Support.EmbedObj.offlinedeptid=u.department,s.handleLeaveMessage(u.question,u.winid)};u.proactive&&(e=function(){var e=ZSIQConversationForm.getFormType()==CLASSIC_VIEW?ZSIQConversationForm.getFormatedResponse():"";$Support.joinProactiveChat(u.question,u,e)}),s.Util.handleStartChat(e,"",u.winid)},T=function(){var e=1==$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.isgdprenabled,t=$Support.EmbedObj.pprops,i=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent");return!(!e||!JSON.parse(t.isgdprenabled)||1!=JSON.parse(t.chatprivacyconfig)||i)},B=function(e,t,i){var a="";i=i||MyDate.getHoursandMin((new Date).getTime(),!0,"bclient");for(var r in e)if(e[r]&&"subscribe"!=r&&r){var n=e[r].meta||{};if("skip"==((n.card_data||{}).type||n.type||r)){a=LSResource.getRealValue("cw.form.field.skip");break}a+="<b>"+getEscapedText(r)+"</b><br>"+getEscapedText(e[r])+"<br>"}return{sender:t,dname:t,msg:a,isvisitor:!0,time:i,isdisablecache:!0}};_disableComposer=function(){setTimeout(function(){$BotImpl.disableComposer()},2e3)};var P=function(e){return ZSIQConversationForm.maualedit},M=function(){var e,t=$Support.getParent().$ZSIQUtil.getAvuid(),i=N();i&&(u.question=i,$Support.Util.showMessageAreaUI("","","",u),u.showChatArea()),f(),!i&&s.LSDB.storeInSession(t+"_vist_ques",u.question),e=[{sender:"-1",dname:D(),meta:{field_name:"department",skippable:!1,isskiptopost:!1},msg:LSResource.getRealValue("embed.choose_department"),mtime:""+(new Date).getTime(),currwinobj:u}],$Support.handleOnGoingchatActionsInConversation("formchat",e[0]),e=y(e[0]),(e=c(e)).isdisablecache=!0,$BotImpl.formatAndDisplay(e,u.winid),_disableComposer()};_updateDeptValue=function(e,t){e.prev("#bottype_msg").remove(),e.remove(),!0,x()};var N=function(){var e=$Support.getParent().$ZSIQUtil.getAvuid();return s.LSDB.getFromSession(e+"_vist_ques")},W=function(e){var t=$Support.fieldlist||[],i=t.map(function(e){return e.meta?e.meta.input_card?e.meta.input_card.type:e.meta.field_name:""}).indexOf(e);-1!=i&&t.splice(i,1)},G=function(){return!$Support.getCookieValue("ZLD"+$Support.EmbedObj.livelsid)||$Support.Util.IsMandatoryFieldsAvailable()||ZSIQConversationForm.getFormType()==CLASSIC_VIEW},H=function(e){if(e){for(var t=e.msglist||[],i=($Support.fieldlist=t).length,a=[],r=0;r<i;r++){var n=t[r],o=n.meta||{};if("department"!=o.field_name&&"subscribe"!=o.key){var s=o.input_card||{},p=s.type||o.field_name,m=$Support.EmbedObj.eprops;/^(visitor_phone|visitor_name|visitor_email||department|campaign)$/.exec(p)?m[{visitor_name:"isname",visitor_email:"isemail",visitor_phone:"isphoneno"}[p]]={0:"true",1:{ismandatory:!o.skippable,placeholder:s.placeholder,question:n.msg}}:a.push({hint:s.placeholder,index:r,name:o.field_name,options:s.options,required:!o.skippable,type:p,visibility:s.visibility,maxlength:s.maxlength,style:s.style,question:o.msg})}}$Support.customobj=a}};return{fetchConfigurations:function(e){if(u=e,!1,G())return f(),void r(!0);"-1"!=$Support.EmbedObj.department?x(!0):M()},handleStartChat:function(e){$TH.showChatArea(),!$Support.isNewHeader()&&$TH.populateSendBtn(LSResource.getRealValue("ne.send"));var t=s.getParent().$ZSIQUtil.getAPIValues();s.handleApiData(t),t.floatwindowfields&&s.handleFieldVisibility(t.floatwindowfields),s.Util.setMessageClass()},validateConversation:function(e,t){var i=$("#msgarea");if(i.parents(".usrinpt").find(".hint").remove(),i.removeClass("error_bar"),$("#msgbox_main").find(".flogo").show(),$Support.toggleSendButton(e),!t||13==s.Util.getKeyCode(t)){var a,r,n=i.attr("purpose");if(!i.validateInput()){var o={visitorname:"ne.errorinfo.name",visitoremail:"ne.errorinfo.email",visitorphone:"ne.errorinfo.phone"}[n];return(o=o?LSResource.getRealValue(o):/^number|email|url|percentage|percent|decimal|name|email|phone$/.exec(n)?LSResource.getRealValue("ne.errorinfo."+n):"")&&(a=o,(r=$("#msgarea").parents(".usrinpt")).find(".hint").remove(),$("#msgbox_main").find(".flogo").show(),a&&(r.append('<div class="hint">( '+a+" )</div>"),$("#msgbox_main").find(".flogo").hide())),void i.addClass("error_bar")}!function(e){var t=e.val()||$("#msgarea").val();if("true"==e.attr("iscustomfield")){var i=e.attr("fieldtype");j(i,t,!0)}else{var a=e.attr("purpose");"visitorname"==a&&Q("name","visitorname",t),"visitoremail"==a&&Q("email","visitoremail",t),"visitorphone"==a&&Q("contactnumber","visitorphone",t)}O(e,t)}(i)}},clearSessionStorage:function(){var e=$Support.getParent().$ZSIQUtil.getAvuid();$Support.LSDB.removeSessionStore(e+"_formcontextinitiated"),$Support.LSDB.removeSessionStore(e+"_vist_ques"),delete ZSIQConversationForm.classicformdata},checkInputVal:function(e){e.attr("value",$.trim(e.val())),e.val()||e.parent().removeClass("sel")},getOperatorName:D,getFormQuestion:function(){return s.EmbedObj.eprops.question[1].msg||LSResource.getRealValue("ne.operator.question","")},fetchFieldsToEdit:function(e,t,i){if(i&&(u=i),ZSIQConversationForm.maualedit=e,ZSIQConversationForm.triggerclbk=t){var a=$Support.EmbedObj;return u.question=$.trim(u&&u.composer.val())||$Widget.getLastMessage(),$BotImpl.formatAndDisplay({sender:a.visitorname,dname:a.visitorname,msg:u.question,isques:u.question},u.winid),u&&u.composer.val(""),void this.fetchConfigurations(u)}r()},updateAndGetClassicFormData:function(e){var t=e.msg;_classicformdata={};var i=t.msglist||[];i=C(i);for(var a,r=t.title||LSResource.getRealValue("ne.operator.question",""),n=MyDate.getHoursandMin(e.time,!0,"bclient"),o=t.msglist.length,s=0;s<o;){if(i[s]&&i[s].meta){a=i[s].dname||D();var p=i[s].meta.input_card?i[s].meta.input_card.type:"",m=p?ZSIQConversationForm.getDefaultPostMessage(p.replace("_","")):ZSIQConversationForm.getDefaultPostMessage(i[s].meta.field_name)||i[s].msg;_classicformdata[m]=i[s+1].meta&&i[s+1].meta.card_data?i[s+1]:i[s+1].msg}s+=2}return(i=[]).push({sender:"-1",dname:a,msg:r,time:n}),i.push(B(_classicformdata,"",n)),i},updateformconfig:function(){for(var e=$Support.fieldlist||[],t=$Support.EmbedObj.eprops||{},i=(t.agentname&&t.agentname[1],t.question&&t.question[1],$Support.EmbedObj.integprops||{}),a=i.integinfo?i.integinfo[$Support.enabledCampaignID]:{},r=a?a.subscribelabel:"",n=[{isenabled:"true"==t.isname[0],data:t.isname[1]||{},format:"text",type:"visitor_name"},{isenabled:"true"==t.isemail[0],data:t.isemail[1]||{},format:"email",type:"visitor_email"},{isenabled:"true"==t.isphoneno[0],data:t.isphoneno[1]||{},format:"phone",type:"visitor_phone"},{isenabled:$Support.Util.isCampaignEnabled(),data:{question:r},type:"campaign"}],o=[],s=0;s<n.length;s++){var p=n[s],m=p.isenabled,l=p.type;m?(W(p.type),o.push({dname:"",meta:{format:p.format,input_card:{placeholder:p.data.placeholder,type:l},skippable:!CommonUtil.parseToJSON(p.data.ismandatory),msg:p.data.question}})):W(p.type)}o.length&&(e=o.concat(e)),$Support.fieldlist=e},reSetFormValues:function(){!1},getFormType:function(){var e=$Support.EmbedObj,t=e.eprops;return e.isformremoval?t.formtype&&t.formtype[1]?t.formtype[1].val:void 0:"2"},getFormatedResponse:function(){var e=[],t=!(!ZSIQConversationForm.classicformdata||!ZSIQConversationForm.classicformdata.skip);for(var i in ZSIQConversationForm.classicformdata)t?"skip"!=i&&e.push(ZSIQConversationForm.classicformdata[i]):e.push({msg:ZSIQConversationForm.classicformdata[i]});return JSON.stringify(e)},checkContextInitiated:function(){var e=$Support.getParent().$ZSIQUtil.getAvuid();return!!$Support.LSDB.getFromSession(e+"_formcontextinitiated")},getDefaultPlaceholder:function(e){var t=a[e];return t?LSResource.getRealValue(t.placeholder):""},getDefaultMessage:function(e){var t=a[e];return t?LSResource.getRealValue(t.message):""},getDefaultPostMessage:function(e){var t=a[e];return t?LSResource.getRealValue(t.postmessage):""},isOldFormView:function(){return this.getFormType()==OLDFORM_VIEW&&!this.checkContextInitiated()},checkFormContext:function(){return!this.isOldFormView()&&!this.checkContextInitiated()&&(G()||"-1"==$Support.EmbedObj.department)},checkAndGetFormTranscript:function(e){var t=this.checkContextInitiated(),i=N();if(t||i){if(!e)return void ZSIQConversationManager.init({winid:(new Date).getTime()},"formview");var a=e;if(t&&!i)return f(),void r("","",a);i&&this.fetchConfigurations(a)}},formatAndPopulateTranscript:function(e,t,i){var a=e.chattrasncript,r=e.fieldtranscript,n=e.currindex+1;r=C(r);var o=a.slice(0,n-1).concat(r).concat(a.slice(n));$Support.Util.populateChatUI(o,t,i)},isCustomFieldExist:function(){var e=$Support.getParent().$ZSIQUtil.getAPIValues().customfield;return e&&e.length},isNewAppsUI:function(e){var t=parent.parent;if(e){if(t&&t.MESSANGER_SUBTAB)return!0}else if(t&&"siqforms"==t.MESSANGER_SUBTAB)return!0;return!1},fetchAllFields:function(){if($Support.Util.isPreview()&&$Support.fieldlist)return this.isNewAppsUI()&&H({msglist:$Support.fieldlist}),void $Support.handleChatWindowUI();r("",!0)},handleClassicConfig:m,updateFieldsData:H,handleConversationForm:h,getSelectedDeptstatus:Z}}(),ZSIQConversationForm.reSetFormValues();function CallImpl(){}var AV_INCOMINGCALL=1,AV_OUTGOINGCALL=2,AV_CONNECTING=3,AV_ONGOING=4,AV_RECONNECTING=5,AV_USERBUSY=6,AV_BODY=7,AV_CALLAGAIN=8,AV_RATING=9,AV_FDBCK=10,AV_FDBCKSUCCESS=11,AV_RATINGSUCCESS=12,AV_FDBKRATINGSUCCESS=13,AV_STARTRECORD=14,AV_RECORDING=15,AV_PLAY=16,AV_RECORDSENTSUCCESS=17,AV_DEPT=18,AV_MINIMIZE=1,AV_MAXIMIZE=2,AV_FEDBCK=3;CallImpl.updateUI=function(e,l){switch(e){case AV_OUTGOINGCALL:CallUIHandler.getTemplate(AV_OUTGOINGCALL,AV_MINIMIZE);break;case AV_CONNECTING:CallUIHandler.getTemplate(AV_CONNECTING,AV_MINIMIZE);break;case AV_ONGOING:CallUIHandler.getTemplate(AV_ONGOING,AV_MINIMIZE);break;case AV_RECONNECTING:CallUIHandler.getTemplate(AV_RECONNECTING,AV_MINIMIZE);break;case AV_BODY:CallUIHandler.getTemplate(AV_BODY,AV_MAXIMIZE),$(".cal-bodycont").on("scroll",function(e){CallImpl.handlescroll()});break;case AV_USERBUSY:if(!avimpl.isAudioRecordingSupported()){avimpl.terminateAudioCall();break}CallUIHandler.getTemplate(AV_USERBUSY,AV_MINIMIZE),avimpl.audiorecorder&&avimpl.audiorecorder.destroy(),avimpl.audiorecorder=Recorder(),avimpl.audiorecorder.init();break;case AV_RATING:CallUIHandler.getTemplate(AV_RATING,AV_MINIMIZE);break;case AV_CALLAGAIN:CallUIHandler.getTemplate(AV_CALLAGAIN,AV_MAXIMIZE);break;case AV_RATINGSUCCESS:CallUIHandler.getTemplate(AV_RATINGSUCCESS,AV_MINIMIZE);break;case AV_FDBCK:CallUIHandler.getTemplate(AV_FDBCK,AV_FEDBCK),$(".cal-footer").on("keyup",function(){CallImpl.checkFeedbackMsgHgt()}).focus();break;case AV_FDBCKSUCCESS:CallUIHandler.getTemplate(AV_FDBCKSUCCESS,AV_MAXIMIZE);break;case AV_RECORDING:CallUIHandler.getTemplate(AV_RECORDING,AV_MINIMIZE,-1);break;case AV_PLAY:CallUIHandler.getTemplate(AV_PLAY,AV_MINIMIZE,-1);break;case AV_RECORDSENTSUCCESS:CallUIHandler.getTemplate(AV_RECORDSENTSUCCESS,AV_MINIMIZE,-1)}},CallImpl.handlescroll=function(){var e=$(".cal-bodycont").scrollTop();if($("#call_inptfields").height()+$(".dup_div").height()<e)return $(".cal-deflnk").addClass("scrl_fix"),void $(".adocal-cont").addClass("scrl_anim");$(".adocal-cont").css("padding-top",25-e/15+"px").removeClass("scrl_anim"),$(".cal-visimg ").css("height",60-e/7+"px").css("width",60-e/7+"px"),$(".cal-cmpname").css("font-size",20-e/35+"px"),$(".cal-deflnk").removeClass("scrl_fix"),"theme4"==CallImpl.getTheme()&&$(".thme-bgimg").css("height",60-e/5.8+"px")},CallImpl.handleDeptClick=function(e){$(".cal-bodycont").animate({scrollTop:$(".cal-bodycont").height()-$("#call_inptfields").height()+$(".cal-deflnk").height()+81},"500")},CallImpl.handleDeptSelect=function(e){if(!$(e).attr("status"))return!(e.title="Offline");$Support.EmbedObj.department=e.id,$("#call_deptlist").children().removeClass("dep-sel"),e.className+=" dep-sel",$(".cal-bodycont").animate({scrollTop:$("#call_deptlist").height()+70},200),$("#dept_strtcall").removeClass("bg-grn").removeClass("bg-ddd").addClass("bg-grn")},CallImpl.startCall=function(){this.isCallWithChat=!0,this.updateUI(AV_BODY)},CallImpl.getAttenderImgHtml=function(){var e=ZSIQConversationManager.getChatWinObjById(avimpl.chid).attenderimagefkey;return e&&0!=e.split("_")[0]?'<div class="cal-visimg "><img src='+(e=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e+"/photo.ls?nps=404")+"></div>":'<div class="cal-visimg sqico-user"></div>'},CallImpl.compImgHtml=function(){var e=$Support.EmbedObj.clogo;return e?'<div class="cal-visimg "><img src='+e+"></div>":'<div class="cal-visimg sqico-user"></div>'},CallImpl.getCompImgHtmlCALFAQ=function(){return'<div class="faqcal-img"><img src='+$Support.EmbedObj.clogo+"></div>"},CallImpl.getAttenderImgCALFAQHtml=function(){var e=ZSIQConversationManager.getChatWinObjById(avimpl.chid).attenderimagefkey;return e&&0!=e.split("_")[0]?'<div class="faqcal-img"><img src='+(e=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e+"/photo.ls?nps=404")+"></div>":'<div class="faqcal-img sqico-user"></div>'},CallImpl.checkAndStartCall=function(e){if(!$("#dept_strtcall").hasClass("bg-ddd")){var l=$("#call_inptfields");if(!$Support.Util.validateFields(l))return $(".cal-bodycont").animate({scrollTop:0},500),!1;""!=$("#visname").val().trim()&&($Support.EmbedObj.visitorname=$("#visname").val()),""!=$("#visemail").val().trim()&&($Support.EmbedObj.visitoremail=$("#visemail").val()),this.isCallWithChat=!0,CallImpl.updateUI(AV_OUTGOINGCALL),$Support.startChat()}},CallImpl.checkFeedbackMsgHgt=function(){var e=$Support.container;$("#faqcall").length&&(e=$("#faqcall"));var l=e.find(".cal-footer"),a=e.find("#fdbkarea");l.removeAttr("style");var t=a[0].scrollHeight+2,i=140<t?{height:"140px",overflow:"auto"}:t<70?{height:"70px",overflow:"auto"}:{height:t+"px",overflow:"hidden"};l.css(i)},CallImpl.getCompValueForKey=function(e){return window.parent.$ZSIQWidget.getEmbedObject().cinfo[e]},CallImpl.isCallAloneEmbed=function(){return CallImpl.isCallWithChat},CallImpl.getAttenderName=function(){var e=ZSIQConversationManager.getChatWinObjById(avimpl.chid).attendername;return e?getEncodedText(e):""},CallImpl.handleSettingUI=function(e){if(0<$("#audio_setting",parent.document).length)return"none"===$("#audio_setting",parent.document).css("display")?void $("#audio_setting",parent.document).show():void $("#audio_setting",parent.document).hide();avaction.displaySettingUI()},CallImpl.getTheme=function(){var e=window.parent.$ZSIQWidget.getWidgetObject().calltheme;return e||"theme1"},CallImpl.getBackGndImg=function(e){return"theme4"!=this.getTheme()?"":'<div class="thme-bgimg" style="background-image:url('+("Comp"==e?$Support.EmbedObj.clogo:_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+$Support.EmbedObj.attenderimagefkey+"/photo.ls?nps=404")+')"></div>'},CallImpl.checkInputFields=function(){var e=$("#callfaq_inptfields");if(!$Support.Util.validateFields(e))return!1;""!=$("#visname").val().trim()&&($Support.EmbedObj.visitorname=$("#visname").val()),""!=$("#visemail").val().trim()&&($Support.EmbedObj.visitoremail=$("#visemail").val()),CallUIHandler.getTemplate(AV_DEPT,AV_MAXIMIZE)},CallImpl.checkDeptFields=function(){$("#dept_strtcall").parent().hasClass("fcal-enb")&&(this.isCallWithChat=!0,CallImpl.updateUI(AV_OUTGOINGCALL),$Support.startChat())},CallImpl.handleFAQClick=function(e){$("body").find("#faqcall").remove(),e&&$("body").append($Temp.getOnCallUI(avimpl.attenderimgurl)),$Support.container.find(".sqico-faqico").click(),document.getElementsByClassName("zsembd_audiocl")[0].sdrag()};function CallUIHandler(){}CallUIHandler.classmapp={},CallUIHandler.classmapp[AV_INCOMINGCALL]="",CallUIHandler.classmapp[AV_OUTGOINGCALL]="outcal",CallUIHandler.classmapp[AV_CONNECTING]="cal-recnct",CallUIHandler.classmapp[AV_ONGOING]="outcal",CallUIHandler.classmapp[AV_RECONNECTING]="cal-recnct",CallUIHandler.classmapp[AV_USERBUSY]="",CallUIHandler.classmapp[AV_RATING]="pL25",CallUIHandler.classmapp[AV_USERBUSY]="";var CALLALONE=1,CALLPLUSFAQ=2,CHATPLUSCALLPLUSFAQ=3;CallUIHandler.getTemplate=function(l,a,e){if("FAQPLUSCALL"!=CallImpl.getTheme()){switch((-1==e?$("#audiorec"):$("#audiocal")).replaceWith(this.mapTemp(l)),handleDrag(),setTimeout(function(){$(".zsembd_audiocl").hide()},1),a){case AV_MINIMIZE:$Support.getParent().$ZSIQWidgetUI.handleMinimizeCall();break;case AV_MAXIMIZE:$Support.getParent().$ZSIQWidgetUI.handleMinCall();break;case AV_FEDBCK:$Support.getParent().$ZSIQWidgetUI.handlefbCall()}}else 0<$("body").find("#faqcall").length?$("body").find("#faqcall").replaceWith(this.getTempForCALLPLUSFAQ(l,CALLPLUSFAQ)):$("body").prepend(this.getTempForCALLPLUSFAQ(l,CALLPLUSFAQ))},CallUIHandler.mapTemp=function(l){return"theme5"==CallImpl.getTheme()?this.getTempForSignChat(l):CallUIHandler.classmapp.hasOwnProperty(l)?this.getTempForThemes(l):this.getRequiredHtml(l)},CallUIHandler.getRequiredHtml=function(l,a){var e="";switch(l){case AV_INCOMINGCALL:e=a==CALLPLUSFAQ?this.getFQCALINCallhtml():this.getIncommingCallHtml();break;case AV_OUTGOINGCALL:e=a==CALLPLUSFAQ?this.getFQCALOUTCallhtml():this.getOutgoingCallHtml();break;case AV_CONNECTING:e=a==CALLPLUSFAQ?this.getFQCALConnectingCallhtml():this.getConnectingHtml();break;case AV_ONGOING:e=a==CALLPLUSFAQ?this.getFQCALOnCallhtml():this.getOnGoingCallHtml();break;case AV_RECONNECTING:e=this.getReConnectingHtml();break;case AV_USERBUSY:e=a==CALLPLUSFAQ?this.getFQCALUserBusyhtml():this.getUserBusyHtml();break;case AV_RATING:e=a==CALLPLUSFAQ?this.getFQCALRatinghtml():this.getRatingHtml();break;case AV_BODY:e=a==CALLPLUSFAQ?this.getFQCALBodyhtml():this.getBodyHtml();break;case AV_DEPT:e=this.getFQCALDepthtml();break;case AV_CALLAGAIN:e=a==CALLPLUSFAQ?this.getFQCALCallAgainhtml():this.getCallCancelledHtml();break;case AV_RATINGSUCCESS:e=this.getRatingSuccessHtml();break;case AV_FDBCK:e=a==CALLPLUSFAQ?this.getFQCALFDBKhtml():this.getFdbkratingHtml();break;case AV_FDBCKSUCCESS:e=a==CALLPLUSFAQ?this.getFQCALFDBKSucesshtml():this.getFdbkSuccessHtml();break;case AV_RECORDING:e=a==CALLPLUSFAQ?this.getFQCALRecordhtml():this.getRecordingHtml();break;case AV_PLAY:e=a==CALLPLUSFAQ?this.getFQCALAVPlayhtml():this.getRecordAVPlayHtml();break;case AV_RECORDSENTSUCCESS:e=a==CALLPLUSFAQ?this.getFQCALRecordSuccesshtml():this.getRecordSuccessHtml()}return e},CallUIHandler.getTempForThemes=function(l){return['<div class="cal-wrap" id="'+(l==AV_USERBUSY?"audiorec":"audiocal")+'"><div class="posrel dib-mid">','<div class="cal-widgt '+CallImpl.getTheme()+" "+CallUIHandler.classmapp[l]+'">','<div class="actbtn"><em class="sqico-min sqico-settings" id="call_stngicon" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div>',this.getRequiredHtml(l),"</div>","</div></div>"].join("")},CallUIHandler.getTempForSignChat=function(l){return['<div class="cal-wrap" id="audiocal"><div class="posrel dib-mid">','<div class="cal-widgt '+CallImpl.getTheme()+" "+CallUIHandler.classmapp[l]+'">','<div class="actbtn"><em class="sqico-min sqico-settings" id="call_stngicon" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div>',this.getRequiredHtml(l),"</div></div>"].join("")},CallUIHandler.getTempForCALLPLUSFAQ=function(l,a){return['<div class="faq-cal" id="faqcall"> <div class="fcal-actnbtn"> <em id="call_stngicon" class="sqico-settings dib-mid curP" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI()"></em> <em class="sqico-min siq-minimize-icon dib-mid curP" title="'+LSResource.getRealValue("common.minimize")+'" documentclick="min_iframe"></em> </div><div class="faqcal-wndw">',this.getRequiredHtml(l,a),"</div></div>"].join("")},CallUIHandler.getNameText=function(){var l=CallImpl.getAttenderName();return'<nav class="cal-actvevstr elips font18" title="'+l+'">'+l+"</nav>"},CallUIHandler.getOutgoingCallHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+" </div> ",'<div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+CallImpl.getCompValueForKey("name")+'</nav> <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.calling")+"</p> </div>",' <div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct cmn_disable" id="audiocall_outgoingend" onclick="avimpl.terminateAudioCall(true,true);"></span> </div>'].join("")},CallUIHandler.getIncommingCallHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> '+CallUIHandler.getNameText()+' <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.reconnecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> </div>'].join("")},CallUIHandler.getOnGoingCallHtml=function(){return[' <div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",' <div class="cal-vstrdetl"> '+CallUIHandler.getNameText()+' <p class="cal-usrdesc elips" id="sqico-timer">00:00</p> </div>',' <div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall();"></span> </div>'].join("")},CallUIHandler.getConnectingHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> '+CallUIHandler.getNameText()+' <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.connecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true,true)"></span> </div>'].join("")},CallUIHandler.getReConnectingHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> '+CallUIHandler.getNameText()+' <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.reconnecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> </div>'].join("")},CallUIHandler.getUserBusyHtml=function(){return['<div class="posrel usr-imginfo">'+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><nav class="cal-actvevstr elips font18">'+LSResource.getRealValue("av.info.oprbusy")+'</nav><p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.voicemsg")+"</p></div>",'<div class="cal-optns posrel textR"><span cntrl="startRecord" class="sqico-record bg-aaa"></span></div>'].join("")},CallUIHandler.getRatingHtml=function(){var l=$Support.EmbedObj.ratingtitle?$Support.EmbedObj.ratingtitle:LSResource.getRealValue("ne.rating.byline");return['<div class="posrel usr-imginfo">'+CallImpl.getAttenderImgHtml()+"</div>",'<div class="cal-vstrdetl textC"><nav class="cal-actvevstr elips font16">'+LSResource.getRealValue("av.info.rating")+'</nav><div class="rating font18"><span class="reaction_ico sad_icon" data-reaction="sad" documentclick="sendCallRating"></span><span class="reaction_ico neutral_icon" data-reaction="neutral" documentclick="sendCallRating"></span><span class="reaction_ico happy_icon" data-reaction="happy" documentclick="sendCallRating"></span></div><p class="c777 font14">'+l+"</p>","</div></div>"].join("")},CallUIHandler.getStarHTML=function(l){for(var a="",e=null!=l?"":'documentclick="sendCallRating"',s=0;s<5;s++)a+='<span class="sqico-star'+(s===l?" sel":"")+'" '+e+"></span>";return a},CallUIHandler.getCallCancelledHtml=function(){return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+'"> '+CallImpl.getBackGndImg("Comp")+'<div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+' <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc lH22 font14"></div> </div> </div>',' <div class="cal-bodycont posrel"> <p class="cal-weldesc lH22 c333">'+CallImpl.getCompValueForKey("desc")+'</p> <div class="sqico-call bg-grn mA" onclick="parent.$zohosq.call.start()"></div> </div> </div> </div>'].join("")},CallUIHandler.getFdbkratingHtml=function(){var l=ZSIQConversationManager.getChatWinObjById(avimpl.chid).rating;return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' cal-oflne" style="height:354px;"> '+CallImpl.getBackGndImg()+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> <div class="posrel dib-mid"> '+CallImpl.getAttenderImgHtml()+'<em class="reaction_ico '+$Support.rating+'_icon usr-rtng" title="'+l+'"></em></div> <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getAttenderName()+"</div> </div> </div>",' <div class="cal-bodycont posrel"> <div class="ofln-msg mT5">'+$Support.getReactionIndex(l)+'</div> </div> <div class="cal-footer" style="height:70px;"> <textarea class="bg-f6 font13 c333 lH20" dockeyup="feedback" dockeydown="textarea" id="fdbkarea" data-validate="required" placeholder="'+LSResource.getRealValue("av.info.fdkbckmsg")+'" autofocus></textarea> <div class="sqico-calsend fdbak-send msg-send" documentclick="sendCallFb"></div> </div> </div> </div>'].join("")},CallUIHandler.getFdbkSuccessHtml=function(){return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' cal-oflne"> '+CallImpl.getBackGndImg()+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> <div class="posrel dib-mid"> '+CallImpl.getAttenderImgHtml()+'<em class="reaction_ico '+$Support.rating+'_icon usr-rtng" title="'+$Support.rating+'"></em></div> <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getAttenderName()+"</div> </div> </div>",' <div class="cal-bodycont posrel"> <div class="ofln-msg mT5">'+LSResource.getRealValue("av.info.ratingandfbk")+'</div> <div class="sqico-call bg-grn mT25 mA" title="'+LSResource.getRealValue("av.info.callagain")+'" onclick="$Support.startChat()"></div> </div> </div> </div>'].join("")},CallUIHandler.getRecordingHtml=function(){return['<div class="cal-wrap ado-rec" id="audiorec"><div class="cal-widgt '+CallImpl.getTheme()+'">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+'</div><div class="cal-vstrdetl"><p class="cal-vstmsg" id="sqico-timer">00:00:00</p><p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.recordingaudio")+"</p></div>",'<div class="vc-recrd pR10" id="sqico-canvas"></div><div class="cal-optns posrel textR"><div class="recd-optn" cntrl="stopRecord" ></div><em class="font14 rec-timer" id="sqico-remtimer">00:00</em></div></div></div>'].join("")},CallUIHandler.getRecordAVPlayHtml=function(){return['<div class="cal-wrap" id="audiorec"><div class="posrel dib-mid"><div class="cal-widgt '+CallImpl.getTheme()+'">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><div id="slide" ><div id="fill" style="width: 2px;"></div><div id="thumb" style="left: 0px;"></div></div><div class="cal-usrdesc mT5"><div cntrl="playRecord" class="sqico-play font12 mR10 curP" title="'+LSResource.getRealValue("av.info.play")+'"></div><div id="sqico-timer" style="display:inline;">00:00 / 00:00</div></div></div><div class="cal-optns posrel textR"><span class="sqico-record  bg-aaa font19" cntrl="startRecord" title="'+LSResource.getRealValue("av.info.record")+'"></span><span class="sqico-videosend bg-blue mL20" cntrl="uploadRecord" title="'+LSResource.getRealValue("common.upload")+'"></span></div></div></div></div>'].join("")},CallUIHandler.getRecordSuccessHtml=function(){return['<div class="cal-wrap" id="audiocal"><div class="posrel dib-mid"><div class="cal-widgt '+CallImpl.getTheme()+' pL25">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><p class="cal-vstmsg textC">'+LSResource.getRealValue("av.info.voicesent")+'</p></div><div class="cal-optns posrel textR"><span class="sqico-call cal-acpt" onclick="parent.$zohosq.call.start()"></span></div></div></div></div>'].join("")},CallUIHandler.getBodyHtml=function(){var l=$Support.EmbedObj,a=($Support.EmbedObj.status,l.eprops);return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' ad-dep"> '+CallImpl.getBackGndImg("Comp")+' <div class="header"> <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+' <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc font14">'+LSResource.getRealValue("av.info.welcomemsg")+"</div> </div> </div>",'<div class="cal-bodycont posrel"> <div class="vistr-dtlfld" id=call_inptfields>',JSON.parse(a.isname[0])?this.getNameHTML(a.isname[1].ismandatory):"",JSON.parse(a.isemail[0])?this.getEmailHTML(a.isemail[1].ismandatory):"",'</div> <div class="mT15">',1<$Support.EmbedObj.deptlist.length?' <div class="dup_div posrel mT20"><div class="cal-deflnk mT20 curP font16" onclick="CallImpl.handleDeptClick()">'+LSResource.getRealValue("av.info.deptchoose")+"</div></div>":'<div class="sqico-call bg-grn mA" onclick="CallImpl.checkAndStartCall()"></div>',1<$Support.EmbedObj.deptlist.length&&(l.department,1)?this.getDeptList():"","</div></div> </div>"].join("")},CallUIHandler.getNameHTML=function(l,a){a=a||"";var e="optional",s="";e="required",LSResource.getRealValue("ne.required"),s=' docblur="required"';var t=$Support.Util.isInValidVisitorName($Support.EmbedObj.visitorname)?"":$Support.EmbedObj.visitorname,i=t?"dN":"";return'<label class="posrel"><input onkeyup="CallUIHandler.handletextfiled(this)" type="text" value="'+getEncodedText(t)+'" id="visname" class="siq-input-text-box" '+s+a+' info="name" autofocus purpose="visitorname" data-validate="'+e+' charlimit 100"/><span class="ph-mntry '+i+'">'+LSResource.getRealValue("ne.entername")+this.getRequiredHTML()+'</span><em class="sqico-invalid" title="'+LSResource.getRealValue("ne.required")+'"></em></label>'},CallUIHandler.getEmailHTML=function(l){LSResource.getRealValue("ne.required");var a=$Support.EmbedObj.visitoremail||"";return['<label class="posrel"><input onkeyup="CallUIHandler.handletextfiled(this)" type="text" id="visemail" value="'+a+'" class="siq-input-text-box" info="email" purpose="visitoremail" data-validate="required email charlimit 100" docblur="email" /><span class="ph-mntry '+(a?"dN":"")+'">'+LSResource.getRealValue("ne.enteremail")+this.getRequiredHTML()+'</span><em class="sqico-invalid" title="'+LSResource.getRealValue("ne.required")+'"></em></label>',this.getFetchMailHTML()].join("")},CallUIHandler.handletextfiled=function(l){$(l).siblings("span").addClass("dN"),""==l.value&&$(l).siblings("span").removeClass("dN")},CallUIHandler.getPhoneHTML=function(l){var a="optional",e="",s="";return"true"===l&&(a="required",e=" ("+LSResource.getRealValue("ne.required")+")",s=' docblur="required"'),'<div custom="phone"><input type="text" value="'+($Support.EmbedObj.visitorphone||"")+'" class="siq-input-text-box" id="visphone" placeholder="'+LSResource.getRealValue("ne.enterphone")+e+'" class="" '+s+' info="phone" purpose="visitorphone"  data-validate="'+a+' phone"/>'+this.getRequiredHTML("*")+"</div>"},CallUIHandler.getRequiredHTML=function(l){return l=l||"",'<em class="req siq-required" title="'+LSResource.getRealValue("ne.required")+'">*</em>'},CallUIHandler.getFetchMailHTML=function(l){return $Support.EmbedObj.fetchid?'<div class="fetchmail" id="fetchmail"><span class="sqico-fb"></span><span class="sqico-gplus"></span></div>':""},CallUIHandler.getDeptList=function(){var l="",a=$Support.EmbedObj.deptlist;for(i in a){var e=a[i].DNAME;l+='<span class="depmnt-items font14 curP" onclick="CallImpl.handleDeptSelect(this)" status="'+a[i].STATUS+'" id="'+a[i].ID+'">'+e+"</span>"}return['<div class="pL15" id="call_deptlist">',l,'</div> <div class="sqico-call bg-ddd mA mT25" id=dept_strtcall onclick="CallImpl.checkAndStartCall(this)"></div> '].join("")},CallUIHandler.getFQCALINCallhtml=function(){},CallUIHandler.getFQCALBodyhtml=function(){var l=$Support.EmbedObj,a=($Support.EmbedObj.status,l.eprops);return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="faq-cal-sec font14"> <div class="vistr-dtlfld" id="callfaq_inptfields">',JSON.parse(a.isname[0])?this.getNameHTML(a.isname[1].ismandatory):"",JSON.parse(a.isemail[0])?this.getEmailHTML(a.isemail[1].ismandatory):"",'</div> <div class="faqcal-btn cfff curP" onclick="CallImpl.checkInputFields(this)">'+LSResource.getRealValue("av.info.deptchoose")+"</div></div>"].join("")},CallUIHandler.getFQCALDepthtml=function(){var l="",a=$Support.EmbedObj.deptlist;for(i in a){var e=a[i].DNAME;l+='<span status="'+a[i].STATUS+'" call-dept="" id="'+a[i].ID+'">'+e+"</span>"}return setTimeout(function(){$("#FQCLdeptlist").on("click","[call-dept]",function(){$("#FQCLdeptlist").find("[call-dept]").removeClass("fcal-sel"),$(this).addClass("fcal-sel"),$Support.EmbedObj.department=this.id,$("#dept_strtcall").parent().removeClass("fcal-dis").addClass("fcal-enb")})},2),['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="faqcal-sec font14 textL"><div class="fcal-dephed dib-mid">'+LSResource.getRealValue("av.info.deptchoose")+'</div><div class="fcal-dept mT15" style="" id="FQCLdeptlist">',l,'</div></div> <div class="fcal-btnoptn dib-mid mT25 fcal-dis"><span class="fcal-btns sqico-call" onclick="CallImpl.checkDeptFields(this)" id="dept_strtcall"></span> <div class="cddd textC mT10">'+LSResource.getRealValue("av.info.call")+"</div> </div>"].join("")},CallUIHandler.getFQCALOUTCallhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.calling")+"</p> </div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span id="audiocall_mute" onclick="avimpl.toggleMute(this)" class="fcal-btns sqico-microphone"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn dib-mid mT40"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true,true);"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALConnectingCallhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.connecting")+"</p> </div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-microphone" id="audiocall_mute" onclick="avimpl.toggleMute(this)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true,true)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALOnCallhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getAttenderImgCALFAQHtml()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+'</div> <p class="cfff lH22 font16 faqcal-desc" id="sqico-timer">00:00</p> </div>','<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-microphone" id="audiocall_mute" onclick="avimpl.toggleMute(this)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick(true)"></span> <div class="cfff textC mT10 fcal-txt" >'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALRatinghtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",'<div class="fcal-fdback textC"><div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.rating")+'</div> <div class="rating mT30">'+this.getStarHTML()+'</div><p class="elips mT20 cfff font14">'+LSResource.getRealValue("av.info.ratingclick")+"</p>"].join("")},CallUIHandler.getFQCALFDBKhtml=function(){var l=ZSIQConversationManager.getChatWinObjById(avimpl.chid).rating;return['<div class="faqcal-head"><div class="posrel fcal-usrdetl">'+CallImpl.getAttenderImgCALFAQHtml()+'<em class="reaction_ico '+l+'_icon usr-rtng" title="'+l+'"></em></div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",'<div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.ratingsuccess")+'</div><div class="cal-footer bgfff" style="height:70px;"> <textarea class="bgfff font13 c333 lH20" dockeyup="feedback" dockeydown="textarea" id="fdbkarea" data-validate="required" placeholder="'+LSResource.getRealValue("av.info.fdkbckmsg")+'" autofocus></textarea> <div class="sqico-calsend fdbak-send msg-send" documentclick="sendCallFb"></div></div>'].join("")},CallUIHandler.getFQCALFDBKSucesshtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+'</div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",' <div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.ratingandfbk")+' </div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.callback")+"</div></div>"].join("")},CallUIHandler.getFQCALCallAgainhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></div>'].join("")},CallUIHandler.getFQCALUserBusyhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+LSResource.getRealValue("av.info.oprbusy")+' </div><p  class="cfff lH22 font16 faqcal-desc elips">'+LSResource.getRealValue("av.info.voicemsg")+"</p></div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-record" cntrl="startRecord"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div> </div> <div class="fcal-btnoptn"> <span class=" fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call bg-grn" onclick="$Support.startChat()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.callback")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALRecordhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc" id="sqico-timer">00:00:00</p> </div>','<div class="dtfix w100"><div class="vc-recrd" id="sqico-canvas" style="margin:-30px;"></div><div class="posrel" id="faqrcd_play" style="display:none;"> <div class="fcal-btnoptn"><span class="fcal-btns sqico-record  bg-aaa font22" cntrl="startRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div></div> <div class="fcal-btnoptn"><span cntrl="playRecord" class="fcal-btns sqico-play"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.play")+'</div></div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-voicesend cal-send" cntrl="uploadRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.send")+'</div></div></div><div id="faqrcd"> <div class="fcal-btnoptn"><div class="rec-tmr font18 mB10" id="sqico-remtimer">00:00</div><span class="fcal-btns str-recd" cntrl="stopRecord"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.stop")+"</div></div> </div></div>"].join("")},CallUIHandler.getFQCALAVPlayhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div><p id="sqico-timer" style="display:inline;">00:00</p></div>','<div class="cal-vstrdetl"><div class="vc-recrd" id="sqico-canvas" style="margin:-30px;"></div></div><div class="cal-optns posrel textR"> <div class="fcal-btnoptn"><span class="fcal-btns sqico-record  bg-aaa" cntrl="startRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div></div> <div class="fcal-btnoptn"><span cntrl="playRecord" class="fcal-btns sqico-play"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.play")+'</div></div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-voicesend cal-send" cntrl="uploadRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.send")+"</div></div></div></div></div></div>"].join("")},CallUIHandler.getFQCALRecordSuccesshtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.voicesent")+"</p> </div>",'<div class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></div>'].join("")},CallUIHandler.getInitialHtml=function(){return['<div class="cal-wrap" id="audiocal"><div class="adocal-cont '+CallImpl.getTheme()+'">'+CallImpl.getBackGndImg("Comp")+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("common.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+" <div> ",'<div class="cal-cmpname font20 fontB elips" title="'+CallImpl.getCompValueForKey("name")+'">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc"></div> </div> </div>','<section class="cal-bodycont"> <p class="cal-weldesc c333 lH22">'+CallImpl.getCompValueForKey("desc")+'</p> <div class="cal-deflnk lH22 dib-mid curP" onclick="CallImpl.startCall()">'+LSResource.getRealValue("av.info.callnow")+"</div> </section> </div> </div>"].join("")};var getBrowserFromUserAgent=function(e){var t=e.toLowerCase(),r="unknown-unknown";if(-1<t.indexOf("msie")){var i=e.substring(e.indexOf("MSIE")).split(";")[0];r=i.split(" ")[0].replace("MSIE","IE")+"-"+i.split(" ")[1]}else-1<t.indexOf("edge")?r=e.substring(e.indexOf("Edge")).split(" ")[0].replace("/","-"):-1<t.indexOf("safari")&&-1<t.indexOf("version")?r=e.substring(e.indexOf("Safari")).split(" ")[0].split("/")[0]+"-"+e.substring(e.indexOf("Version")).split(" ")[0].split("/")[1]:-1<t.indexOf("opr")||-1<t.indexOf("opera")?-1<t.indexOf("opera")?r=e.substring(e.indexOf("Opera")).split(" ")[0].split("/")[0]+"-"+e.substring(e.indexOf("Version")).split(" ")[0].split("/")[1]:-1<t.indexOf("opr")&&(r=e.substring(e.indexOf("OPR")).split(" ")[0].replace("/","-").replace("OPR","Opera")):-1<t.indexOf("chrome")?r=e.substring(e.indexOf("Chrome")).split(" ")[0].replace("/","-"):-1<t.indexOf("firefox")&&(r=e.substring(e.indexOf("Firefox")).split(" ")[0].replace("/","-"));return r},Recorder=function(){"use strict";var s,i,n,c,u,a,p,d,g,o,f,l,m,v,y=0,h=!0,w=!1,R=0,S=0,q=null,L=function(){},x=function(){},A=function(){},C=function(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null,window.AudioContext&&navigator.getUserMedia&&window.URL&&window.Worker,!0},b=function(){s.addEventListener("click",I)},I=function(e){var t=e.target,r=t.getAttribute("cntrl");l[r]&&l[r](t)},T=function(){var e=URL.createObjectURL(new Blob(["( "+E+" )()"]),{type:"javascript"});(i=new Worker(e)).onmessage=function(e){"view"==e.data.key&&(a=e.data.value)}};m=function(e){var t=f[e];t.add&&t.trigger.classList.add(t.add),t.remove&&t.trigger.classList.remove(t.remove),t.trigger.setAttribute("cntrl",t.cntrl),t.trigger.setAttribute("title",t.title)};var M=function(){(s=window.parent.document.querySelector("#user_busy")).zsiqdrag(s,!0),b(),g=s.querySelector("#sqico-timer");var e,t,r,i=s.querySelector("#sqico-canvas");i.innerHTML='<canvas id="level_audio2"></canvas>',i=i.querySelector("#level_audio2"),p={elem:i,ctx:i.getContext("2d"),step:-4,bufferLength:null,dataArray:null,stepincrement:2,waveTrigger:null,lineX:0},e=s.querySelector('[cntrl="settings"]'),t=s.querySelector('[cntrl="playRecord"]'),r=s.querySelector('[cntrl="stopRecord"]'),f={start:{trigger:e,cntrl:"startRecord",add:"zsiqmico-record",remove:"zsiqmico-settings",title:LSResource.getRealValue("av.info.recordagain")},stop:{trigger:r,cntrl:"stopRecord",add:"zsiqmico-stop",remove:"zsiqmico-send",title:LSResource.getRealValue("av.info.stop")},setting:{trigger:e,cntrl:"settings",add:"zsiqmico-settings",remove:"zsiqmico-record"},play:{trigger:t,cntrl:"playRecord",add:"zsiqmico-play",remove:"zsiqmico-pause",title:LSResource.getRealValue("av.info.play")},pause:{trigger:t,cntrl:"pauseRecord",add:"zsiqmico-pause",remove:"zsiqmico-play",title:LSResource.getRealValue("av.info.pause")},send:{trigger:r,cntrl:"uploadRecord",add:"zsiqmico-send",remove:"zsiqmico-stop",title:LSResource.getRealValue("av.info.send")},add:{trigger:r,cntrl:"uploadRecord",add:"zsiq_media_mL13",title:LSResource.getRealValue("av.info.send")},remove:{trigger:r,cntrl:"uploadRecord",remove:"zsiq_media_mL13",title:LSResource.getRealValue("av.info.send")}},L=function(){R=0,m("setting"),f.setting.trigger.style.display="none",f.play.trigger.style.display="none",m("remove"),m("stop"),Q(!0),y=6e3},x=function(){m("send"),f.setting.trigger.style.display="flex",f.play.trigger.style.display="flex",m("add"),m("play"),m("start"),y=R,R=0},A=function(){s.remove()}},U=function(){(s=document.querySelector("#audiorec"))||(s=document.querySelector("#faqcall")),b(),L=function(){R=0,y=6e3,CallImpl.updateUI(AV_RECORDING),(s=document.querySelector("#audiorec"))||(s=document.querySelector("#faqcall")),g=s.querySelector("#sqico-timer"),o=s.querySelector("#sqico-remtimer");var e,t,r,i=s.querySelector("#sqico-canvas");"FAQPLUSCALL"==CallImpl.getTheme()?(i.innerHTML='<canvas id="level_audio2" style="height:100px;width: 100%;"></canvas>',i=i.querySelector("#level_audio2"),p={elem:i,ctx:i.getContext("2d"),step:-4,bufferLength:null,dataArray:null,stepincrement:2,waveTrigger:null,lineX:0},e=s.querySelector('[cntrl="settings"]'),t=s.querySelector('[cntrl="playRecord"]'),r=s.querySelector('[cntrl="stopRecord"]'),f={start:{trigger:e,cntrl:"startRecord",add:"sqico-recorder",remove:"sqico-settings",title:LSResource.getRealValue("av.info.voicemessage")},stop:{trigger:r,cntrl:"stopRecord",add:"sqico-chkbx",remove:"sqico-videosend",title:LSResource.getRealValue("av.info.stop")},setting:{trigger:e,cntrl:"settings",add:"sqico-settings",remove:"sqico-recorder"},play:{trigger:t,cntrl:"playRecord",add:"sqico-play",remove:"sqico-pause",title:LSResource.getRealValue("av.info.play")},pause:{trigger:t,cntrl:"pauseRecord",add:"sqico-pause",remove:"sqico-play",title:LSResource.getRealValue("av.info.play")},send:{trigger:r,cntrl:"uploadRecord",add:"sqico-videosend",remove:"sqico-chkbx",title:LSResource.getRealValue("av.info.send")}}):(i.innerHTML='<canvas id="level_audio"  style="height: 60px;width: 72px;padding: 10px 10px 10px 0px;" ></canvas>',i=i.querySelector("#level_audio"),p={elem:i,ctx:i.getContext("2d"),bufferLength:null,dataArray:null,waveTrigger:null,slider:null,lineX:0});b()},x=function(){if(y=R,R=0,"FAQPLUSCALL"==CallImpl.getTheme())return $("#faqrcd_play").css("display",""),void $("#faqrcd").css("display","none");CallImpl.updateUI(AV_PLAY),(s=document.querySelector("#audiorec"))||(s=document.querySelector("#faqcall")),b();var e=s.querySelector('[cntrl="playRecord"]');(g=s.querySelector("#sqico-timer")).innerHTML="00:00 / "+te(),p.slider=s.querySelector("#slide"),p.slider.style.cursor="pointer";var r=p.slider.querySelector("#thumb"),i=p.slider.querySelector("#fill"),n=0,t=getBrowserFromUserAgent(navigator.userAgent).split("-")[0],a="Chrome"==t||"Opera"==t;function o(e){var t=r.offsetLeft-(n-e.clientX);t>p.slider.clientWidth-4||t<-4||(r.style.left=t+"px",i.style.width=t+"px",R=y/parseInt(p.slider.clientWidth)*t,c&&(c.currentTime=a?R/200:R/100),n=e.clientX)}function l(e){document.onmouseup=null,document.onmousemove=null,w&&c&&(K(),c.play())}p.slider.onclick=function(e){var t=e.clientX-p.slider.getBoundingClientRect().left-5;t>p.slider.clientWidth-4||t<-4||(r.style.left=t+"px",i.style.width=t+"px",R=y/parseInt(p.slider.clientWidth)*t,c&&(w&&c.pause(),c.currentTime=a?R/200:R/100,w&&c.play()))},r.onmousedown=function(e){e.stopPropagation(),n=e.clientX,document.onmouseup=l,w&&c&&(c.pause(),clearInterval(d)),document.onmousemove=o},f={play:{trigger:e,cntrl:"playRecord",add:"sqico-play",remove:"sqico-pause"},pause:{trigger:e,cntrl:"pauseRecord",add:"sqico-pause",remove:"sqico-play"}}},A=function(){CallImpl.updateUI(AV_RECORDSENTSUCCESS)}},V=function(){!w&&h&&(L(),i.postMessage({command:"clear"}),c=null,t(),h=!1)},O=function(){h||(x(),n.close(),D(),i.postMessage({command:"getView"}),Q(!0),h=!0)},k=function(){c&&(w=!1,clearInterval(d),c.pause(),(!CallImpl.isCallWithChat||"FAQPLUSCALL"==CallImpl.getTheme())&&Q(!1)),m("play")},P=function(){if(m("pause"),c)return w=!0,(!CallImpl.isCallWithChat||"FAQPLUSCALL"==CallImpl.getTheme())&&H(X,25),c.play(),void K();c=new Audio,w=!0,"FAQPLUSCALL"==CallImpl.getTheme()&&H(X,25),e(),K()},e=function(){var e=URL.createObjectURL(new Blob([a],{type:"audio/wav"}));if(c.src=e,!CallImpl.isCallWithChat){(n=new AudioContext).resume();var t=n.createMediaElementSource(c);u=n.createAnalyser(),t.connect(u),u.connect(n.destination),H(X,25)}c.play()},F=function(){var e,t,r,i,n;s.removeEventListener("click",I),k(),A(),t=window.lamejs?(r=a,i=lamejs.WavHeader.readHeader(r),n=new Int16Array(r.buffer,i.dataOffset,i.dataLen/2),e=function(e,t,r){for(var i=[],n=new lamejs.Mp3Encoder(e,t,128),a=r.length,o=0;1152<=a;o+=1152){var l=r.subarray(o,o+1152),s=n.encodeBuffer(l);0<s.length&&i.push(new Int8Array(s)),a-=1152}var c=n.flush();return 0<c.length&&i.push(new Int8Array(c)),new Blob(i,{type:"audio/mp3"})}(i.channels,i.sampleRate,n),new File([e],"Audio.mp3",{type:"audio/mp3"})):(e=new Blob([a],{type:"audio/wav"}),new File([e],"Audio.wav",{type:"audio/wav"})),z(t)},z=function(e){LSDragDrop.pos=0,LSDragDrop.nooffiles=1,LSDragDrop.uploadFile($Support.chidmappinglist[v],[e]),W(),SiqAVRouter.container.audioImpl.pushVoiceToServer(v)},W=function(){clearInterval(d),Q(!0),p=l=f=null,i&&(i.terminate(),i=null),n&&("closed"!=n.state&&n.close(),n=null),s&&s.remove()},t=function(){(n=new AudioContext).resume(),i.postMessage({command:"setProperty",audioFormat:"audio/wav",bufferSize:4096,channels:1,sampleRate:n.sampleRate});var e=SiqAVRouter&&SiqAVRouter.container,t=e.MediaDetails.getBrowserName();window.$Temp&&(q=setTimeout(function(){$(window.parent.document).find("body").append($Temp.getMediaSetting(t)),clearTimeout(q)},1500)),e.MediaPermission.getAudioStream(r,_)},r=function(e){e=e||SiqAVRouter&&SiqAVRouter.container.MediaPermission.getStreamByType("audio"),window.$Temp&&(clearTimeout(q),SiqAVRouter.container.detailsHandler.closeViewMediaPermission()),s.onclick||b(),S=n.currentTime,e;var t=n.createMediaStreamSource(e),r=t.context,i=(r.createScriptProcessor||r.createJavaScriptNode).call(r,4096,2,2);u=n.createAnalyser(),i.onaudioprocess=B,t.connect(u),u.connect(i),i.connect(n.destination),CallImpl.isCallWithChat&&"FAQPLUSCALL"!=CallImpl.getTheme()?H(J,50):H(X,25)},B=function(e){var t=[];Y(n.currentTime-S);for(var r=0;r<1;r++)t.push(e.inputBuffer.getChannelData(r));i.postMessage({command:"record",buffer:t})},D=function(){SiqAVRouter.container.MediaPermission.closeStreamByType("audio")},_=function(e){if(window.$Temp&&"NotAllowedError"==e.name){var t=SiqAVRouter&&SiqAVRouter.container.MediaDetails.getBrowserName();$(window.parent.document).find("body").append($Temp.getAskMediaPermission(t))}W()},E=function(){var i,n=[],a=0,o=2,l=0,s={record:function(e){n.push(e.buffer[0]),e.buffer[1]&&n.push(e.buffer[1])},getView:function(){postMessage({key:"view",value:function(e){function t(e,t,r){for(var i=0;i<r.length;i++)e.setUint8(t+i,r.charCodeAt(i))}var r=new ArrayBuffer(44+2*e.length),i=new DataView(r);return t(i,0,"RIFF"),i.setUint32(4,36+2*e.length,!0),t(i,8,"WAVE"),t(i,12,"fmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,o,!0),i.setUint32(24,l,!0),i.setUint32(28,4*l,!0),i.setUint16(32,2*o,!0),i.setUint16(34,16,!0),t(i,36,"data"),i.setUint32(40,2*e.length,!0),function(e,t,r){for(var i=0;i<r.length;i++,t+=2){var n=Math.max(-1,Math.min(1,r[i]));e.setInt16(t,n<0?32768*n:32767*n,!0)}}(i,44,e),i}(function(){i=new Float32Array(n.length*a);var e=0;if(1==o)for(var t=0;t<n.length;t++)for(var r=0;r<a;r++)i[e++]=n[t][r];else if(2==o)for(var t=0;t<n.length;t+=2)for(var r=0;r<a;r++)i[e++]=n[t][r],i[e++]=n[t+1][r];return i}())})},setProperty:function(e){e.audioFormat,a=e.bufferSize,o=e.channels,l=e.sampleRate},clear:function(){n=[]}};self.onmessage=function(e){var t=e.data,r=t.command;s[r]&&s[r](t)}};var H=function(e,t){p.bufferLength=u.frequencyBinCount,p.dataArray=new Uint8Array(p.bufferLength),p.elem.style.backgroundColor="rgba(0,0,0,0)",p.waveTrigger&&clearInterval(p.waveTrigger),p.waveTrigger=setInterval(function(){requestAnimationFrame(e)},t)},X=function(){u.getByteTimeDomainData(p.dataArray),G(),h&&(p.lineX=p.elem.width/y*(R<y-1?R:0),j(p.ctx));for(var e=0,t=0;t<p.bufferLength;t++){var r=p.dataArray[t]/128*(p.elem.height/10)*1.5;e=Math.max(e,r)}p.step+=p.stepincrement;var i=p.step;N(e/1.5,i),N(-e/1.5,1.5*i),N(e/2,3*i)},j=function(e){e.beginPath(),e.moveTo(p.lineX-1,50),e.lineTo(p.lineX-1,100),e.stroke()},N=function(e,t){var r=p.ctx,i=0,n=0,a=1.5*p.elem.width/10,o=e/(p.elem.height/6);for(o*=e,p.ctx.strokeStyle="rgb(35, 141, 233)",r.beginPath();i<p.lineX;)n=p.elem.height/2+o*Math.sin((i+t)/a),r.lineTo(i,n),i+=1;for(r.stroke(),p.ctx.strokeStyle="white",r.beginPath();i<p.elem.width;)n=p.elem.height/2+o*Math.sin((i+t)/a),r.lineTo(i,n),i+=1;r.stroke()},Q=function(e){p&&(p.waveTrigger&&clearInterval(p.waveTrigger),e&&(p.lineX=0))},G=function(){p.ctx.lineWidth=1.5,p.ctx.clearRect(0,0,p.elem.width,p.elem.height),p.ctx.fillStyle="rgba(100,100,100,0)",p.ctx.fillRect(0,0,p.elem.width,p.elem.height),p.ctx.moveTo(0,p.elem.height/2)},J=function(){var e,t=p.ctx,r=p.dataArray,i=(p.bufferLength,p.elem.width),n=i/36,a=p.elem.height,o=0;u.getByteFrequencyData(p.dataArray);var l=CallImpl.getTheme();t.fillStyle="theme3"==l?"rgb(51, 51, 51)":"rgb(255,255,255)",t.fillRect(0,0,i,a);for(var s=n/4,c=18;0<=c;c--){var d=a/(e=r[9<c?18-c:c]);d<1&&0!=e&&(e=a*d),t.fillStyle="theme3"==l?"white":"rgb(73, 113, 127)",t.lineJoin="round",t.lineWidth=s,t.fillRect(o+s/2,(a-e)/2+s/2,n-s,e-s),o+=2*n}},Y=function(e){R=parseInt(100*e);var t=parseInt(R/100),r=parseInt(t/60);if(y<=R)return ee((R=y)%100,t%60,r),void O();ee(R%100,t%60,r)},K=function(){clearInterval(d),d=setInterval(function(){var e=parseInt(R/100),t=parseInt(e/60);ee(R%100,e%60,t),y<=R?Z():R++},10)},Z=function(){clearInterval(d),Q(),R=0,w=!1,m("play"),CallImpl.isCallWithChat&&(g.innerHTML="00:00 / "+te())},ee=function(e,t,r){var i,n=CallImpl.isCallWithChat?te():"";g.innerHTML=(r<10?"0"+r:r)+":"+(t<10?"0"+t:t),n&&h&&p.slider?(g.innerHTML+=" / "+n,(i=parseInt(p.slider.clientWidth)/y*(R<y-1?R:0))>p.slider.clientWidth-4||(p.slider.children[1].style.left=i+"px",p.slider.children[0].style.width=i+"px")):g.innerHTML+="."+(e<10?"0"+e:e),n&&!h&&(o.innerHTML=n)},te=function(){var e=parseInt(y/100)-parseInt(R/100),t=parseInt(e/60);return(t<10?"0"+t:t)+":"+((e%=60)<10?"0"+e:e)};return{init:function(e,t){var r,i;r=e,i=t,C()?(v=i,T(),l={startRecord:V,stopRecord:O,pauseRecord:k,playRecord:P,uploadRecord:F,cancelRecord:W},r?U():M(),V()):W()},destroy:function(){W()},isAudioRecordingSupported:function(){return C()}}};function avaction(){}function mediafailureoffer(a,e){if(window.$Temp&&avaction.clearMediaPermissionPop(),!avaction.callObj.mediaStream||!avaction.callObj.chid)if(a&&a.name){switch(a.name){case"NotFoundError":case"DevicesNotFoundError":message=LSResource.getRealValue("av.info.microphone.notavailable");break;case"SourceUnavailableError":case"PermissionDeniedError":case"SecurityError":case"NotAllowedError":default:message=LSResource.getRealValue("av.info.microphone.blocked")}"NotAllowedError"==a.name&&window.$Temp&&$(window.parent.document).find("body").append($Temp.getAskMediaPermission(avimpl.getCurrentBrowerName())),avaction.callObj.checkMediaPermission(message,avaction.callObj.chid),e&&("agent"==avaction.callObj.type?avaction.callObj.rejectCallInvite("reject",avaction.callObj.audioId,avaction.callObj.chid):avaction.callObj.rejectCallInvite(avaction.callObj.chid,null)),LSDebugger.postDebugInfo("Audio Call - Inside Filure media | PeerConnection "+avaction.callObj.pc,null,null,!0)}else avaction.callObj.StartAfterMediaPermission()}avaction.TYPE="AUDIO",avaction.supportedbrowsers=["Chrome","Firefox","Opera","Safari","Edge"],avaction.transfercallpermission=!0,avaction.enableTransferCall=!1,avaction.getScreenID=function(){return window.webkitRTCPeerConnection?'{"mandatory": { "chromeMediaSource": "desktop", "maxWidth": 1920, "maxHeight": 1080, "minAspectRatio": 1.77 }, "optional": [] }':'{"mediaSource":"screen"}'},avaction.constraints={AUDIO:{audio:!0,video:!1},VIDEO:{audio:!0,video:!0},SCREEN_SHARE:{audio:!0,video:JSON.parse(avaction.getScreenID())},SCREEN_VIEW:{audio:!0,video:!1}},avaction.getObject=function(a){return"undefined"==typeof AgentCall||"agent"!==a.msg.media.mode||a.msg.media.visitoraccess?avimpl:AgentCall},avaction.init=function(a){avaction.callObj=avaction.getObject(a);var e,n=a.msg,t=n.media;if("credential"!==a.msg.cbtype&&"call_credential"!==n.operation||(avaction.callObj.setCredentials(t),e="added credential data successfully"),"invite"!==a.msg.cbtype&&"call_initiate"!==n.operation||((t.credentials||a.msg.credential)&&avaction.callObj.setCredentials(t),avaction.callObj.showInvitation(t),e="added credential data and invitation successfully"),"accept"===a.msg.status||"call_accept"===n.operation)if(this.requestStream(t,UPSTREAM),"agent"===a.msg.media.mode){avaction.callObj.acceptedTime();var i=AgentDB.getWMSIDFromLSUID(JSON.parse(a.msg.media.opruser).lsuid);AgentCall.wmsid=i}else avaction.callObj.acceptedTime=Date.now();if("reject"!==a.msg.cbtype&&"call_reject"!==n.operation||("function"==typeof avaction.callObj.showRejectedBanner&&avaction.callObj.showRejectedBanner(t),avaction.callObj.handleUserBusy()),"candidate"!==a.msg.cbtype&&"call_candidates"!==n.operation||(avaction.callObj.connection_estb?avaction.addIceCandidate(t):(avaction.callObj.newcandidate||(avaction.callObj.newcandidate=[]),avaction.callObj.newcandidate.push(t))),"answer"===a.msg.cbtype||"call_answer"===n.operation){var c=JSON.parse(t.session);if(avaction.callObj.pc.setRemoteDescription(new RTCSessionDescription(c)),avaction.callObj.connection_estb=!0,avaction.callObj.newcandidate)for(var o in avaction.callObj.newcandidate)avaction.addIceCandidate(avaction.callObj.newcandidate[o]);avaction.callObj.pc.onaddstream=avaction.callObj.pc.ontrack=function(a){avaction.callObj.remoteStream&&avaction.callObj.remoteStream.active||avaction.callObj.addremotestream(a)}}"end"!==a.msg.status&&"call_end"!==n.operation||avaction.callObj.endCall(),"offer"!==a.msg.cbtype&&"call_offer"!==n.operation||this.requestStream(t,DOWNSTREAM),"cancel"!==a.msg.cbtype&&"call_cancel"!==n.operation&&"miss"!==a.msg.cbtype&&"call_miss"!==n.operation||avaction.callObj.clear(t.chatid),avaction.callObj.sendStats(a,e)},avaction.setNRSServers=function(a){this.NRSServers=a},avaction.setCredentials=function(a){!avimpl.active&&(avimpl.id=a.id);var e=JSON.parse(a.credentials);avaction.setNRSSereverUrls(e.user_name,e.token,e.servers),avaction.callObj.chid=a.chatid},avaction.setNRSSereverUrls=function(a,e,n){var t=n.split(","),i={iceServers:[]};for(var c in t)i.iceServers.push({urls:t[c],username:a,credential:e});avaction.callObj.iceServerlist=i,LSDebugger.postDebugInfo("Audio Call - Ice Servers "+avaction.callObj.iceServerlist+" | Server urls "+this.NRSServers,null,null,!0)},avaction.clearMediaPermissionPop=function(){clearTimeout(avaction.mediaTimer),avimpl.closeViewMediaPermission()},avaction.requestStream=function(e,n){if(!avaction.callObj.iceServerlist)return LSDebugger.postDebugInfo("Audio Call - End on reload| chid |"+avaction.callObj.chid+" | Data "+e+" |type "+n,null,null,!0),void avaction.callObj.endOnReload();if(avaction.callObj.getMediaApi=avaction.getUserMedia(),window.webkitRTCPeerConnection?(avaction.callObj.hostbrowser="Chrome",window.RTCPeerConnection=webkitRTCPeerConnection):window.mozRTCPeerConnection&&(avaction.callObj.hostbrowser="Firefox",window.RTCPeerConnection=mozRTCPeerConnection),avaction.callObj.chid=e.chatid,avaction.callObj.mediaStream){var a=avaction.callObj.mediaStream;n==UPSTREAM?avaction.initializeConnection(a,n):n==DOWNSTREAM&&(avaction.callObj.offer=CommonUtil.parseToJSON(e.offer),avaction.initializeConnection(a,n))}else{if(window.$Temp&&(avaction.mediaTimer=setTimeout(function(){$(window.parent.document).find("body").append($Temp.getMediaSetting(avimpl.getCurrentBrowerName())),clearTimeout(avaction.mediaTimer)},1500)),!avaction.callObj.getMediaApi)return navigator.mediaDevices.getUserMedia(avaction.constraints[avaction.TYPE]).then(function(a){n==UPSTREAM?avaction.initializeConnection(a,n):n==DOWNSTREAM&&(e.offer?avaction.callObj.offer=CommonUtil.parseToJSON(e.offer):avaction.callObj.offer=CommonUtil.parseToJSON(e.session),avaction.initializeConnection(a,n)),window.$Temp&&avaction.clearMediaPermissionPop()}).catch(function(a){mediafailureoffer(a,n)}),!1;avaction.callObj.getMediaApi.call(navigator,avaction.constraints[avaction.TYPE],function(a){n==UPSTREAM?avaction.initializeConnection(a,n):n==DOWNSTREAM&&(e.offer?avaction.callObj.offer=CommonUtil.parseToJSON(e.offer):avaction.callObj.offer=CommonUtil.parseToJSON(e.session),avaction.initializeConnection(a,n)),window.$Temp&&avaction.clearMediaPermissionPop()},function(a){mediafailureoffer(a,n)})}},avaction.initializeConnection=function(a,t){if(avaction.callObj.chid){var e={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};if(avaction.callObj.pc=new RTCPeerConnection(avaction.callObj.iceServerlist),avaction.callObj.localStream=localStream=a,avaction.getUserMedia()?avaction.callObj.pc.addStream(a):avaction.callObj.localStream.getTracks().forEach(function(a){avaction.callObj.pc.addTrack(a,avaction.callObj.localStream)}.bind(this)),LSDebugger.postDebugInfo("Audio Call - Added local Stream | Stream "+a+" | PeerConnection "+avaction.callObj.pc+" type "+t,null,null,!0),t==DOWNSTREAM&&avaction.callObj.pc.setRemoteDescription(new RTCSessionDescription(avaction.callObj.offer)),LSDebugger.postDebugInfo("Audio Call - Added candidate in Queue | avaction.callObj.newcandidate "+avaction.callObj.newcandidate+" | PeerConnection "+avaction.callObj.pc+" | connectionstate "+avaction.callObj.connection_estb,null,null,!0),avaction.callObj.pc.onicecandidate=function(a){avaction.callObj.addcandidate(a)},avaction.callObj.pc.onaddstream=avaction.callObj.pc.ontrack=function(a){avaction.callObj.remoteStream&&avaction.callObj.remoteStream.active||avaction.callObj.addremotestream(a)},LSDebugger.postDebugInfo("Audio Call - Added onicecandidate and onaddstream | Stream "+a+" | PeerConnection "+avaction.callObj.pc+" type "+t,null,null,!0),"function"==typeof avaction.callObj.addAudioElemts&&avaction.callObj.addAudioElemts(),t==UPSTREAM?avaction.getUserMedia()?avaction.callObj.pc.createOffer().then(avaction.callObj.successOffer,avaction.sendLog,e):avaction.callObj.pc.createOffer(e).then(avaction.callObj.successOffer).catch(avaction.sendLog):("Firefox"===avaction.hostbrowser&&(e=e.mandatory),avaction.getUserMedia()?avaction.callObj.pc.createAnswer(avaction.callObj.successAnswer,avaction.sendLog,e):avaction.callObj.pc.createAnswer(e).then(avaction.callObj.successAnswer).catch(avaction.sendLog),avaction.callObj.connection_estb=!0),avaction.callObj.newcandidate)for(var n in avaction.callObj.newcandidate)avaction.addIceCandidate(avaction.callObj.newcandidate[n]);avaction.callObj.pc.oniceconnectionstatechange=function(a){var e=avaction.callObj.pc.iceConnectionState;if(LSDebugger.postDebugInfo("Audio Call - State change event | event "+e+" | PeerConnection "+avaction.callObj.pc,null,null,!0),e==AV_CONNECTED)avaction.callObj.connectionStatus=!0,avaction.callObj.webrtcStatus=1,avaction.callObj.callConnected(a),avaction.callObj.sendStats(null,"call connected"),(0==avaction.callObj.reconcount||avaction.callObj.isreconnectstate)&&avaction.callObj.sendConnectionStatus("callconnected");else if(e==AV_FAILED){if(avaction.callObj.connectionStatus=!1,t==UPSTREAM){var n=t;avaction.checkConnectionAndCall(avaction.callObj.callReconnect,avaction.checkConnectionActivity,n),avaction.callObj.sendStats(null,"webrtc failed upstream")}else avaction.callObj.callReconnect(t),avaction.callObj.sendStats(null,"webrtc failed downstream");avaction.callObj.connection_estb=!1,(0==avaction.callObj.reconcount||avimpl.isreconnectstate)&&avaction.callObj.sendConnectionStatus("callfailed")}else"disconnected"==e&&(avaction.callObj.reconnecttime=(Date.now()-avimpl.getStartTime())/1e3,avaction.checkConnectionAndCall(avaction.callObj.callDisconnected,avaction.callObj.callDisconnected))}}},avaction.addIceCandidate=function(a){var e;LSDebugger.postDebugInfo("Audio Call - Inside Add Ice Candidate | data "+a+" | PeerConnection "+avaction.callObj.pc,null,null,!0),e=a.candidates?JSON.parse(a.candidates):JSON.parse(a.msg.candidate);var n=new RTCIceCandidate({sdpMid:e.id,sdpMLineIndex:e.label,candidate:e.candidate});avaction.callObj.pc.addIceCandidate(n)},avaction.checkMediaPermission=function(){if(avaction.callObj.getMediaApi=avaction.getUserMedia(),window.$Temp&&(avaction.mediaTimer=setTimeout(function(){$(window.parent.document).find("body").append($Temp.getMediaSetting(avimpl.getCurrentBrowerName())),clearTimeout(avaction.mediaTimer)},1500)),!avaction.callObj.getMediaApi)return navigator.mediaDevices.getUserMedia(avaction.constraints[avaction.TYPE]).then(function(a){mediafailureoffer(null),avaction.callObj.mediaStream=a}).catch(function(a){mediafailureoffer(a)}),!1;avaction.callObj.getMediaApi.call(navigator,avaction.constraints[avaction.TYPE],function(a){mediafailureoffer(null),avaction.callObj.mediaStream=a},function(a){mediafailureoffer(a)})},avaction.sendLog=function(){LSDebugger.postDebugInfo("Audio Call - Inside Filure offer | PeerConnection "+avaction.callObj.pc,null,null,!0)},avaction.getBrowserFromUserAgent=function(a){var e=a.toLowerCase(),n="unknown-unknown";if(-1<e.indexOf("msie")){var t=a.substring(a.indexOf("MSIE")).split(";")[0];n=t.split(" ")[0].replace("MSIE","IE")+"-"+t.split(" ")[1]}else-1<e.indexOf("edge")?n=a.substring(a.indexOf("Edge")).split(" ")[0].replace("/","-"):-1<e.indexOf("safari")&&-1<e.indexOf("version")?n=a.substring(a.indexOf("Safari")).split(" ")[0].split("/")[0]+"-"+a.substring(a.indexOf("Version")).split(" ")[0].split("/")[1]:-1<e.indexOf("opr")||-1<e.indexOf("opera")?-1<e.indexOf("opera")?n=a.substring(a.indexOf("Opera")).split(" ")[0].split("/")[0]+"-"+a.substring(a.indexOf("Version")).split(" ")[0].split("/")[1]:-1<e.indexOf("opr")&&(n=a.substring(a.indexOf("OPR")).split(" ")[0].replace("/","-").replace("OPR","Opera")):-1<e.indexOf("chrome")?n=a.substring(a.indexOf("Chrome")).split(" ")[0].replace("/","-"):-1<e.indexOf("firefox")&&(n=a.substring(a.indexOf("Firefox")).split(" ")[0].replace("/","-"));return n},avaction.isBrowserSupported=function(a,e){var n=this.getBrowserFromUserAgent(a),t=n.split("-")[0],i=parseInt(n.split("-")[1]),c=!1;switch(t){case"Chrome":c=23<=i;break;case"Firefox":c=22<=i;break;case"Opera":c=18<=i;break;case"Safari":c=11<=i}return!c||!e||!(!avaction.getUserMedia()&&!navigator.mediaDevices.getUserMedia)},avaction.getUserMedia=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null},avaction.displaySettingUI=function(a){var r={camera:[],mic:[],speaker:[]},s={};navigator.mediaDevices.enumerateDevices().then(function(a){a.forEach(function(a){"videoinput"==(s[a.kind+"&"+a.deviceId]=a).kind?r.camera.push(a):"audioinput"==a.kind?r.mic.push(a):"audiooutput"==a.kind&&r.speaker.push(a)});var n='<div class="siq-setngs-view font16" id="audio_setting"> <div class="setngs-head c666"><span class="sel-bor" mdevice-switch="mic">Audio Input</span> <span mdevice-switch="speaker" >Sound Output</span> </div>';if(r.mic.length){var t=avaction.callObj.localStream?avaction.callObj.localStream.getAudioTracks()[0].label:"default";n+='<div class="setngs-optn c333 font14 mL20" mdevice-cnt="mic">',r.mic.forEach(function(a){var e="";t===a.deviceId&&(e='class="sqico-tick"'),n+="<div "+e+' deviceid="'+a.deviceId+'">'+a.label+"</div>"}),n+="</div>"}if(r.speaker.length){t="default";n+='<div class="setngs-optn c333 font14 mL20" mdevice-cnt="speaker" style="display:none;">',r.speaker.forEach(function(a){var e="";t===a.deviceId&&(e='class="sqico-tick"'),n+="<div "+e+' deviceid="'+a.deviceId+'">'+a.label+"</div>"}),n+="</div>"}n+="</div>",$(window.parent.document).find("body").append(n),$("#audio_setting",parent.document).on("click","[mdevice-switch]",function(){$("#audio_setting",parent.document).find("[mdevice-switch]").removeClass("sel-bor");var a=$(this).addClass("sel-bor").attr("mdevice-switch");$("#audio_setting",parent.document).find("[mdevice-cnt]").hide(),$("#audio_setting",parent.document).find('[mdevice-cnt="'+a+'"]').show()}),$("#audio_setting",parent.document).on("click","[deviceid]",function(){var a=$(this).parent().attr("mdevice-cnt");if($("#audio_setting",parent.document).find('[mdevice-cnt="'+a+'"]').children().removeClass("sqico-tick"),$(this).addClass("sqico-tick"),"mic"!=a){var e=$(this).attr("deviceid"),n=document.getElementById("remoteaudio");void 0!==n.sinkId&&n.setSinkId(e).then(function(){})}});var e=parent.document.getElementById("siqiframe").getBoundingClientRect(),i=document.getElementById("call_stngicon").getBoundingClientRect(),c=parent.document.getElementById("audio_setting").style,o=e.left+i.left,l=e.top+i.top;c.left=CallImpl.CALLFAQ?o-260+"px":o-284+"px",c.top=CallImpl.CALLFAQ?l+15+"px":l-31+"px",$(document).click(function(a){$(a.target).closest("#audio_setting",parent.document).length||$(a.target).closest("#call_stngicon",parent.document).length||$("#audio_setting",parent.document).is(":visible")&&$("#audio_setting",parent.document).hide()})})},avaction.checkConnectionAndCall=function(a,e,n){$("body").append('<img id="ntwcheckimg" style="opacity:0" />'),$("#ntwcheckimg").on("load",function(){"function"==typeof a&&avaction.successCallBack(a,n),$("#ntwcheckimg").remove()}),$("#ntwcheckimg").on("error",function(){"function"==typeof e&&avaction.errorCallBack(a,e,n),$("#ntwcheckimg").remove()}),$("#ntwcheckimg").attr("src","https://img.zohocdn.com/salesiq/images/spacer_592ebefc7104d681d57852665e9ad514_.gif?nocache="+(new Date).getTime())},avaction.checkConnectionActivity=function(a,e,n){avaction.reconnectinterval||(avaction.reconnectinterval=setInterval(function(){avaction.checkConnectionAndCall(a,"",n)},5e3))},avaction.successCallBack=function(a,e){avaction.connectionStatus=!0,avaction.reconnectinterval&&(clearInterval(avaction.reconnectinterval),avaction.reconnectinterval=null),a(e)},avaction.errorCallBack=function(a,e,n){avaction.connectionStatus=!1,e!=avaction.checkConnectionActivity?e():e(a,e,n)},avaction.transferInitiateReq=function(a,e){if(!AgentDB.getRepresentative()[CurrentUser.getLSUID()].callstatus||"DEPARTMENT"!=a.type){var n=a.chid,t=e?a.creator:a.sender,i=a.visitorid,c=a.mediaid;a.transferReqTimeout=setTimeout(function(){PortalUI.rejectTransChat(n,t,i,c)},3e4),avaction.addCallTransferObj(a,e),avaction.showcallTransferInvitation(a,e),Sound.playTune("vchat-transfer",6)}},avaction.showcallTransferInvitation=function(a,e){if(1===$("body").find(".call_wh").length&&$(".call_wh").find(".call_pickup").length<2?($("#additionalcallcount").remove(),$(".call_wh").append(Template.getTransferReqUI(a,e))):0===$("body").find(".call_wh").length&&$("body").append('<div class="call_wh">'+Template.getTransferReqUI(a,e)+"</div>"),2==$(".call_wh").find(".call_pickup").length){var n=avaction.getCallTransferOBJ(),t=Object.keys(n).length-2;$("#additionalcallcount").remove(),0<t&&$(".call_wh").append('<div class="call_more sqico-call" id="additionalcallcount"><em>+'+t+"more Calls</em></div>")}},avaction.checkAndUpdateCallTransferInvitation=function(){for(var a=avaction.getCallTransferOBJ(),e=Object.keys(a),n=0;n<e.length;n++){var t=e[n],i=a[t],c=t,o=i.msg_obj,l=i.is_invt;1!=$("#transreq_"+c).length&&avaction.showcallTransferInvitation(o,l)}},avaction.removeTransreqWaiting=function(a){$("#transreq_"+a).remove()},avaction.addCallTransferObj=function(a,e){var n=e?a.creator:a.sender,t=a.chid,i=a.visitorid,c=a.mediaid,o=a.transferReqTimeout;avaction.setCallTransferOBJ(t,{exuser_id:n,visitor_id:i,media_id:c,transferreq_timeout:o,msg_obj:a,is_invt:e})},avaction.setCallTransferOBJ=function(a,e){var n=avaction.getCallTransferOBJ();n[a]=e,sessionStorage.setItem("calltransferObj",CommonUtil.toJSON(n))},avaction.getCallTransferOBJ=function(a){var e=sessionStorage.getItem("calltransferObj");if(!e)return{};var n=CommonUtil.parseToJSON(e);return a?n[a]:n},avaction.clearCallTransferObj=function(a){var e=avaction.getCallTransferOBJ();delete e[a],sessionStorage.setItem("calltransferObj",CommonUtil.toJSON(e))},avaction.checkAndClearCallTransObj=function(a){avaction.cleartransferreqinterval(a),avaction.clearCallTransferObj(a);for(var e=avaction.getCallTransferOBJ(),n=Object.keys(e),t=0;t<n.length;t++){a=n[t];avaction.cleartransferreqinterval(a);var i=avaction.getCallTransferOBJ(a),c=i.exuser_id,o=i.visitor_id,l=i.media_id;avaction.rejectCallTransfer(a,c,o,l)}},avaction.cleartransferreqinterval=function(a){var e=avaction.getCallTransferOBJ(a).transferreq_timeout;clearInterval(e)},avaction.rejectCallTransfer=function(a,e,n,t){var i={};(i=lsnocachefix("json")).visitorid=n,i.chid=a,i.exuserid=e,i.mediaid=t;var c=Visitors.list[n];c.TRANS_TYPE&&"DEPARTMENT"==c.TRANS_TYPE&&(i.transtype=c.TRANS_TYPE),$ld.ajax({url:"rejtranschat.do",type:"POST",data:i,success:function(a){}}),avaction.clearCallTransferObj(a)};$FAQ=function(){_searchtimer=0,_appsenabled=!1;var l=function(){return _SCHEMA+"://"+_EMBEDSERVERURL},t=function(t){var i=$Support.LSDB.getFromSession(f());$("#faqdiv").html($Temp.getLoadingHTML());var e=$Support.EmbedObj.mappeddept,a=$Support.EmbedObj.livelsid,s="",r="",o=$Support.LSDB.getFromSession("lastsynctime_article");e&&"-1"!==e&&(s="department_id="+e),o&&i&&(r=(s?"&":"")+"client_sync_time="+o);var d=s+r;d=d+(d?"&":"")+"app_id="+a,$Support.getParent().$ZSIQUtil.ajax(l()+"/visitor/v2/"+_SCREENNAME+"/articles/count?"+d,function(e){var a=JSON.parse(e).data;a.data?($Support.LSDB.removeAllFAQValuesFromSession(),$Support.LSDB.storeInSession(f(),a.data),$Support.LSDB.storeInSession("lastsynctime_article",a.client_sync_time),t(a.data)):t(i)},"",!0)},p=function(e,a,t,i){$.ajax({url:l()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages/"+a+"/vote?type="+i,type:"POST",dataType:"json",success:function(e){t(e)}})},n=function(e,a,t,i){var s,r=a?"_"+a:"";if(s=_appsenabled?$Support.LSDB.getFromSession("faq"+r):$Support.LSDB.getFromSession("faq_"+e+r),i||!s){var o="",d=99;a?(o="&canned_category_id="+a,d=i?99:15,$("#"+a).html('<div class="cat_loading">'+$Temp.getLoadingHTML()+"</div>")):$("#faqdiv").html($Temp.getLoadingHTML());o=a?"&canned_category_id="+a:"";_appsenabled?o+="&app_id="+$Support.EmbedObj.livelsid:o+="&department_id="+e,$Support.getParent().$ZSIQUtil.ajax(l()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages?limit="+d+o,function(e){var a=JSON.parse(e).data;t(a)},function(){},!0)}else t(s)},i=function(e){var a=$Support.LSDB.getFromSession(f());if(a){var t=[];if(_appsenabled)t=a;else for(var i=0;i<a.length;i++)if(a[i].department_id===e){t=a[i].categoryinfo;break}var s="";for(i=0;i<t.length;i++){var r=t[i].categoryid,o=getEncodedText(t[i].categoryname);s+='<div class="posrel" category_id="'+r+'" data-type="accordian"><div data-type="accordian-item"><div id="'+r+'"></div><div class="artcle-viewal" documentclick="extendview">'+LSResource.getRealValue("faq.article.viewall")+'</div></div><div data-type="accordian-header" class="dsp_table faq-cat"><div class="sbold sqico-faqcat txtelips" title="'+o+'">'+o+'</div><div class="sqico-darrow"></div></div></div>'}}var d=$("#faqdiv"),c=!d.find("#article-wrap").length;d.html('<div id="article-wrap">'+s+"</div>"),c&&d.hide().fadeIn(),$Support.Util.handleAccordian(function(e){var a=d.attr("department_id"),t=e.parent().attr("category_id");n(a,t,function(e){_appsenabled?$Support.LSDB.storeInSession("faq_"+t,e):$Support.LSDB.storeInSession("faq_"+a+"_"+t,e),v(a,"",e,t),15<e.length&&u(t)})})},v=function(e,a,t,i){t=t||(_appsenabled?$Support.LSDB.getFromSession("faq_"):$Support.LSDB.getFromSession("faq_"+e));for(var s=S(a),r=0,o="",d=[],c=0;c<t.length;c++){var n={};if("object"==typeof t[c]&&(n=$Support.LSDB.getFromSession("article_"+t[c].id)||t[c]),0!==getObjectSize(n)){var l=n.visitors_viewed,p=1==l?LSResource.getRealValue("common.view"):LSResource.getRealValue("faq.views"),v=CommonUtil.decodeHTML(n.message).replace(/<br *\/?>/gi," ");v=getEncodedText(v);var u=n.visitors_liked?"<em  likeid="+n.id+' class="sqico-like">'+n.visitors_liked+"</em>":"",f=l?"<em viewid="+n.id+">"+l+" "+p+"</em>":LSResource.getRealValue("faq.noviews");o+='<div class="dsp_table faqarticle" documentclick="faqpreview" article-id="'+n.id+'"><div class="sqico-faqarticle"></div><div class="f15"><em class="font16">'+getEncodedText(v)+'</em><p class="font14 article">'+f+u+"</p></div></div>",d.push(n.id),r++}}s&&$("#"+i).html(o),r&&!s&&$("#faqdiv").html(o),r||$("#faqdiv").html(m(a))},u=function(e){$("#"+e).addClass("view_article"),$(".artcle-viewal").attr("categoryid",e)},m=function(e){var a=(e=getEncodedText(e)||"")?LSResource.getRealValue("faq.noarticles"):LSResource.getRealValue("faq.empty.articles"),t=-1==$Support.EmbedObj.chatID?LSResource.getRealValue("ne.chatnow"):LSResource.getRealValue("ne.gotochat");return'<div id="nofaqs" class="nofaq"><div class="dis_cell"><div class="faq-reslt-img"></div><p>'+e+"</p>"+a+($Support.EmbedObj.status&&!$Support.isChatExist()?'<div class="chatnw"><em class="wincustom_clr" proptype = "faqchtnow"  documentclick="showchatui">'+t+"</em></div>":"")+"</div></div>"},S=function(e){return!e&&(!!$Support.EmbedObj.faqaccess.length&&"1"==$Support.EmbedObj.faqaccess[1].orderbycategory)},f=function(e){return e?"faq_"+e:"faq_count_"+$Support.EmbedObj.mappeddept},o=function(e,a){for(var t="",i=0;i<e.length;i++){var s=e[i],r=s.count;if(0!==r){var o=s.department_name;void 0!==a&&-1===o.toLowerCase().indexOf(a.toLowerCase())||(r=1===r?r+" "+LSResource.getRealValue("faq.article"):r+" "+LSResource.getRealValue("faq.articles"),t+='<div class="dsp_table faqlst" documentclick="faqcategory" department="'+o+'" departmentid="'+s.department_id+'"><div class="sqico-faqdept"></div><div><em class="sbold">'+o+'</em><p class="font14 article">'+r+"</p></div></div>")}}var d=$("#faqdiv");if(t){var c=!d.find(".faqlst").length;d.html(t),c&&d.hide().fadeIn()}else d.html(m(a))},d=function(e){$(".faq-srch").remove();var a=e.title||"",t=e.placeholder||LSResource.getRealValue("faq.search.hint");$Support.isNewHeader()?!e.hasarrow||$("#showsiqconv").show():a=e.hasarrow?'<span class="sqico-larrow" documentclick="showfaq"></span>'+a:a;var i=e.desc||"",s=e.classname||"";$("#attname").html(a);var r=e.hasarrow?"":" fulwdth";$("#attabtme").html(i).after('<div class="faq-srch min-view '+r+'" documentclick="faqsearch"><span class="sqico-search"></span><input type="text" id="faqsearch-field" placeholder="'+t+'" dockeyup="searchfaq" dockeydown="searchfaq"/><em class="sqico-close"></em></div>'),("2"===$Support.container.attr("themeid")?$("#cmpylogo"):$("header")).removeClass("category").addClass(s),$Support.Util.removeHeaderType(),$Support.Util.reSetHeaderClass(),$("#complogo").parent().removeClass("hide_fontico")},g=function(e,a){var t=$Support.LSDB.getFromSession("article_"+e.id[0]),i={2:"visitors_viewed",3:"visitors_liked",4:"visitors_disliked"},s=e.type[0];t[i[s]]=parseInt(t[i[s]])+1,$Support.LSDB.storeInSession("article_"+e.id[0],t);var r=1==t[i[s]]?LSResource.getRealValue("common.view"):LSResource.getRealValue("faq.views");a.find("em[viewid="+e.id+"]").text(t[i[s]]+" "+r),"3"==s&&$("#faqdiv").find("em[likeid="+e.id+"]").text(t[i[s]])};return{showFAQUI:function(e){if(!$Support.Util.isPreview()){ZSIQConversationManager.resetLastViewd();var i=$("#faqdiv");i.length||($("footer").before('<div id="faqbox" class="siq_content"><div class="zsiq-wrap"><div class="zsiq-wrap-body"><div class="zsiq-wrap-child"><span>Q</span><div class="zsiq-wrp-lne"></div></div><div class="zsiq-wrap-child"><span>A</span><div class="zsiq-wrp-lne"></div></div></div><div class="zsiq-wrap-body2"><div class="zsiq-wrap-child"><span>Q</span><div class="zsiq-wrp-lne"></div></div><div class="zsiq-wrap-child"><span>A</span><div class="zsiq-wrp-lne"></div></div></div></div><div id="faqdiv" docwheel="handlescroll"></div></div>'),i=$("#faqdiv")),e.addClass("sel").prev(".sel").removeClass("sel"),i.parents(".siqembed").children("section").hide();var s=$Support.EmbedObj.mappeddept,r=!0;t(function(e){if(e[0]&&!e[0].hasOwnProperty("department_id")&&(_appsenabled=!0),_appsenabled)0<(a=$Support.LSDB.getFromSession(f())).length?$FAQ._showCategory(a):i.html(m());else if(o(e),s&&"-1"!==s){for(var a=$Support.LSDB.getFromSession(f()),t=0;t<a.length;t++)if(a[t].department_id==s&&0<a[t].count){$FAQ.showCategory(void 0,a[t]),r=!1;break}r&&i.html(m())}}),$Support.Util.updateViewAttribute("faqview"),$FAQ.toggleHeaderSearchClass(!0);var a=($Support.getParent().$ZSIQUtil.getAPIValues()||{}).articlecontent||{};r&&(d({title:a.title||$Support.Util.getFAQLabel(),desc:a.subline||LSResource.getRealValue("faq.header.desc"),placeholder:a.placeholder||LSResource.getRealValue("faq.search.hint")}),$("#faqdiv").removeAttr("department_id")),$Support.Util.calculateContentHeight()}},showCategory:function(e,a){if(!$Support.Util.isPreview()){var t=a?a.department_id:e.attr("departmentid");$("#faqdiv").attr("department_id",t),S()?i(t):n(t,"",function(e){_appsenabled?$Support.LSDB.storeInSession("faq_",e):$Support.LSDB.storeInSession("faq_"+t,e),v(t,"",e)}),d({title:a?a.department_name:e.attr("department"),classname:"category",hasarrow:!a}),$FAQ.toggleHeaderSearchClass(!0),$Support.isNewHeader()&&$TH.checkAboutmeClass()}},_showCategory:function(e){$Support.Util.isPreview()||(S()?i():n(void 0,"",function(e){$Support.LSDB.storeInSession("faq_",e),v(void 0,"",e)}),$FAQ.toggleHeaderSearchClass(!0),$Support.isNewHeader()&&$TH.checkAboutmeClass())},handleSearch:function(a){if(!$Support.Util.isPreview()){a.removeClass("min-view category");var t=a.find("input").focus();$FAQ.toggleHeaderSearchClass(),a.find(".sqico-close").on("click",function(e){a.addClass("min-view"),$FAQ.toggleHeaderSearchClass(!0),t.val(""),$FAQ.searchFAQ(t,e),e.stopPropagation()})}},toggleHeaderSearchClass:function(e){var a=$Support.container.find("header");e?a.removeClass("faq_srch"):a.addClass("faq_srch")},showFAQPreview:function(d){var t,i,e,a,c=d.attr("article-id"),n=$Support.getParent().$ZSIQUtil.getCookieValue("Article_"+c);t=c,i=function(e){if(!e||!e.message)return $(window.parent.document).find("body").append('<div class="zsiq_prv_main" zsiqclose="true" docclick = "zsiqclose" id="zsiqimagepreview"><div id="zsiqfaqpreview" class="siq-empty-slate" articleid="{ARTICLEID}"><div class="siq-emtyimg"><img src="https://img.zohocdn.com/salesiq/images/articleemptystate_7ae02f0de4ec926861ff157cbbcb8201_.svg"></div><p class="siq-emtydesc">'+LSResource.getRealValue("faq.empty.desc")+'</p></div><div class="zsiq-footer"><em class="sqico-close" zsiqclose="true" docclick = "zsiqclose"></em></div></div>'),void $Support.getParent().$ZSIQUtil.bindEventsForImgPreview();p(JSON.stringify({type:"2"}),c,function(e){g(e,d)},2);var a,t,i,s='<div class="zsiq_prv_main" zsiqclose="true" id="zsiqimagepreview" docclick = "zsiqclose"><div id="zsiqfaqpreview" articleid="{ARTICLEID}"><div class="zsiq-prev-header" id="zsiq-prev-header">{HEADER}</div><div class="zsiq-prev-content"><div>{CONTENT}</div></div><div class="zsiq-footer">{VOTE}'+($Support.EmbedObj.status&&!$Support.isChatExist()?'<div class="zsiq-cbtn siqico-chat" proptype = "faqchtnow" docclick = "zsiqstartchat">{CHATNOW}</div>':"")+'</div><em class="siqico-close" zsiqclose="true" docclick = "zsiqclose" ></em></div></div>',r=$Support.isChatExist()?LSResource.getRealValue("ne.gotochat"):LSResource.getRealValue("ne.chatnow"),o=""===n?(t=(a=e).visitors_liked||"",i=a.visitors_disliked||"",'<div class="zsiq-aside">'+($Support.isMobileWidth()?"":LSResource.getRealValue("faq.ishelpful"))+'<span class="siqico-like" docclick = "zsiqfaqvote" data-vote="3">'+t+'</span><span class="siqico-dislike" docclick = "zsiqfaqvote"  data-vote="4">'+i+"</span></div>"):"";s=s.replace(/{HEADER}/g,getEncodedText(e.message)).replace(/{ARTICLEID}/g,c).replace(/{VOTE}/g,o).replace(/{CHATNOW}/g,r).replace(/{CONTENT}/g,e.article_info.content),$(window.parent.document).find("body").append(s),$Support.getParent().$ZSIQUtil.bindEventsForImgPreview()},e=$Support.LSDB.getFromSession("article_"+t)||{},a=e.article_info,e&&a&&a.content?i(e):$Support.getParent().$ZSIQUtil.ajax(l()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages/"+t,function(e){var a=JSON.parse(e).data;$Support.LSDB.storeInSession("article_"+t,a),i(a)},function(){},!0)},updateVote:function(e,a){a=$(a);JSON.stringify({type:a.attr("data-vote")});var t=a.parents("#zsiqfaqpreview");p(0,t.attr("articleid"),function(e){g(e,a),a.parent().html(LSResource.getRealValue("faq.feedback"))},a.attr("data-vote"))},getHeaderMessage:function(e){var a=JSON.parse(CommonUtil.decodeHTML(e));return"object"==typeof a?a.header:""},searchFAQ:function(s,e){clearTimeout(_searchtimer);var a=$Support.Util.getKeyCode(e);if(!(-1<["37","38","39","40","13","9","16"].indexOf(a))){var r=$.trim(s.val()).toLowerCase();!r||r.length<3?function(e){var a=$("#faqdiv").attr("department_id");if(a||_appsenabled){if(""===e&&S())return i(a);v(a,e)}else t(function(e){o(e)})}(r):_searchtimer=setTimeout(function(){var e,t,a,i;e=r,t=function(e){r===s.val().toLowerCase()&&v("",r,e)},a=$("#faqdiv").attr("department_id"),i=l()+"/"+_SCREENNAME+"/searchcanned.ls?query="+e+"&entities=2&mode=listview",i+=a?"&department_id="+a:"",i+="&app_id="+$Support.EmbedObj.livelsid,$Support.getParent().$ZSIQUtil.ajax(i,function(e){var a=JSON.parse(e);a&&0==a[0].res_count&&(a=[]),t(a)},"",!0)},500)}},updateMessageCount:function(e){if("newmsg"===e||"newchat"===e||"triggerchat"===e){var a=$Support.getUnreadCount();a&&($("#conv-tab").addClass("count").find(".siqc_eletype").show().html(a)[0].className="siqc_eletype")}},showAllArticlesInCategory:function(e){e.parent().find(".view_article").removeAttr("style").removeClass("view_article");var a=$("#faqdiv").attr("department_id"),t=e.attr("categoryid");n(a,t,function(e){v(a,"",e,t)},!0)},_noResultsHTML:m}}();$BotImpl=function(){var n,o={},p=[],m=ZSIQTranscript,c=function(e){d();var t=T(e);$.isEmptyObject(t)||""==t.chatdiv.html()&&h("",e)},d=function(){o={},clearInterval($BotImpl.timer),m.removeTyping()},l=function(e,t){var i=e.chid||e.enc_chid;if(m.removeTyping(),(!e.meta||!e.meta.disablesound)&&v(i),a(e)?$Widget.showBotReply(e):(e.isbotmessage=S(e),e.time=MyDate.getHoursandMin(e.time,!0,"bclient"),e.html=m.getTranscript(e,!1,i),m.updateTranscript(e,i)),t)return d(),e.meta&&(e.meta[$Widget.input_card]||"pending"==e.meta.action)||h("",i),$BotImpl.resetDisableComposerTimer(),void(e.meta&&("pending"==e.meta.action&&f("pending",18e4,i),"wait_for_user_input"==e.meta.behaviour&&f("","",i)));m.showTyping(e)},a=function(e){return!!e.meta&&(e.meta[$Widget.display_card]||e.meta[$Widget.input_card]||e.meta.suggestions)},u=function(e,t,i){if(0==getObjectSize(o)||i){var a=e.meta;if($Support.chidmappinglist&&(e.chid=$Support.chidmappinglist[e.chid]||t),clearInterval($BotImpl.timer),!a)return e.msg&&!e.msg.msglist?void ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript(e,"",t)},t):void s(e);o=e,a.image&&(e.bot_image=e.meta.image),r(e,e.chid),e.msglist?g(e,1):l(e,!0)}else p.push(e)},r=function(e,t){if(!e.isdisablecache){var i=e.msglist;if(i)for(var a=0;a<i.length;a++)$Support.updateChatCache($.extend({},e,i[a]),"",t);else $Support.updateChatCache(e,"",t)}},s=function(e){for(var t=e.msg.msglist,i=0;i<t.length;i++){var a=t[i],n=$.extend({msg:a.msg,meta:a.meta},e.msg);n.replies="",u(n,e.chid,!0)}},g=function(t,e){t=t||o;var i=m.getMessageID(t),a=t.chid||t.enc_chid;if(i&&m.isMessageExist(i,a))d();else{var n=t.msglist;if(n){f("","",a),m.showTyping(t),e=e||0;var r=m.getMessageDelay(t),s=0;$BotImpl.timer=setInterval(function(){if(T(a).chatdiv){if(s<n.length){var e=$.extend({},t,n[s]);l(e,s===n.length-1)}s==n.length-1&&0!=p.length&&(Message.updateLastMessagePostTime(),u(p.shift())),s++}else c(a)},e*r)}else d()}},v=function(e){KeyHandler.isWindowFocused()||($Support.getParent?$Support.getParent().$ZSIQWidgetUI.getWidgetState()==$Support.getParent().$ZSIQWidgetUI.F_WINDOW&&!T(e).isSoundOff()&&EmbedSound.play("smessage"):EmbedSound.play("smessage"))},f=function(e,t,i){var a=T(i),n=a.composer;n&&(n.attr("disabled","true"),"pending"==e?n.attr("placeholder",LSResource.getRealValue("common.pleasewait")):n.attr("placeholder",LSResource.getRealValue("ne.message.choose")),a.contentdiv.find("#action_icons").show(),b(t,i))},h=function(e,t){clearTimeout(n);var i=T(t);$.isEmptyObject(i)||((e=e||i.composer).removeAttr("disabled"),i.checkAndFocusMessageArea(),e.attr("placeholder",LSResource.getRealValue("ne.message.hitenter")),i.contentdiv.find("#action_icons").show())},b=function(e,t){if(e){n=setTimeout(function(){h("",t),ZSIQTranscript.removeTyping();var e=T(t).contentdiv.find("#typgstatus");e.text(""),e.attr("tooltip","")},e);var i={};if(t&&-1!=t)$Support.LSDB.set("ZLD"+$Support.EmbedObj.livelsid+"disablecomposer",{},e),i.dname=$Support.EmbedObj.attendername,i.sender=$Support.EmbedObj.attender;else{var a=Bot.getBotOBJ();i.dname=a.name,i.sender=a.id}ZSIQTranscript.showTyping(i)}},S=function(e){try{return"b"==e.sender.split("_")[2][0]}catch(e){return!1}},T=function(e){return ZSIQTranscript.getChatWindowOBJ(e)};return{formatAndDisplay:u,resetValues:c,disableComposer:f,enableComposer:h,iswidgetobj:a,isBotMessage:S,resetMessageSequence:function(){m.removeTyping(),clearInterval($BotImpl.timer),g()},resetDisableComposerTimer:function(){clearTimeout(n),$Support.EmbedObj&&$Support.LSDB.remove("ZLD"+$Support.EmbedObj.livelsid+"disablecomposer"),ZSIQTranscript.removeTyping()},callback_expiry:18e4,checkAndScheduleComposerDisable:function(e){var t=$Support.LSDB.get("ZLD"+$Support.EmbedObj.livelsid+"disablecomposer");if(t){var i=t.time+t.ttl-(new Date).getTime();$Support.LSDB.remove("ZLD"+$Support.EmbedObj.livelsid+"disablecomposer"),f("pending",i,e)}},removeWidgets:function(){var e=$("[input-card]");if(!(e.size<=0)){var t=e.parents(".ziq_msg"),i=t.find(".cmpnt-desc").html();i?_msgobj.meta&&_msgobj.meta.input_card&&t.find(".msgbx").html(i):("undefined"==typeof BotPreview?Message:BotPreview).animate(t,!0,function(e){e.remove()}),$("#conversationoption").remove()}}}}();$Clickoutside={callbackfn:null,dest:null,src:null,ignoreesckey:null,bindclick:function(l,c,i,n){null!=this.callbackfn&&this.dest!=c&&this.callbackfn(),this.callbackfn=l,this.dest=c,this.src=i,this.ignoreesckey=n},handledclick:function(l){var c=getEventSourceId(l);if(null!=this.callbackfn&&this.src!=c){var n=$(getSource(l)).parents();for(i=0;i<n.length;i++)if($(n[i]).attr("id")==this.src||$(n[i]).attr("id")==this.dest)return;this.callbackfn(),this.callbackfn=null,this.dest=null,this.src=null}},handleEscape:function(l){if(!this.ignoreesckey&&null!=this.callbackfn)return this.callbackfn(),this.callbackfn=null,this.dest=null,!(this.src=null)}},$(document).on("click",function(l){$Clickoutside.handledclick(l)});$Widget=function(){var n,d,i,o={},l="",g="",p="",a=function(){d.callback=d.callback||u,t()},m=function(){return"undefined"==typeof BotPreview?Message:BotPreview},t=function(){var t={skip:function(){c()},select:function(){Singleselect.init(d,n)},"multiple-select":function(){Multiselect.init(d,n)},slider:function(){Slider.init(d,n)},"range-slider":function(){Slider.init(d,n)},links:function(){Button.init(d,n)},calendar:function(){s(d,n)},"range-calendar":function(){d.range=!0,s(d,n)},"happiness-rating":function(){d.callback=f,Rating.smiley_init(d,n)},"star-rating":function(){d.callback=f,Rating.star_init(d,n)},like:function(){d.callback=f,Rating.like_init(d,n)},suggestions:function(){Suggestions.init(d,n)},location:function(){ZMaps.init(d,n)},articles:function(){BotArticle.init(d,n)},timeslots:function(){BotTimeSlot.init(d,n)},"date-timeslots":function(){BotTimeSlot.init(d,n)},input:function(){ZSIQInput.init(d,n)},classic:function(){ZSIQForm.init(d,n)},conversationforminput:function(){ConversationFormInput.init(d,n)},video:function(){ZSIQLinkInfo.init(d,n)},contact:function(){ZSIQContactCard.init(d,n)},relatedphrases:function(){ZSIQRelPhrases.init(d,n)},"single-product":function(){ZSIQCarousal.init(d,n)},"multiple-product":function(){ZSIQCarousal.init(d,n)},suggestions:function(){Suggestions.init(d,n)}},e=d.type;if(/^(visitor_phone|visitor_name|visitor_email||phone|number|text|email|url|percent|decimal|double|website|textarea|tel|name|password)$/.exec(e)&&(e="input"),"function"==typeof t[e])return t[e](),void(d.skippable&&t.skip());d.actions&&h(),d.image&&(o.bot_image=d.image,r(""))},s=function(t,e){var i='<a><div class="cmpnt-btnurl elips sqico-calendar" id="bot_calender"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+(getEncodedText(t.label)||LSResource.getRealValue("common.schedule"))+"</em></div></a>",n=$Widget.getLayout();n=(n=(n=n.replace(/{BOT_WIDGET}/g,i)).replace(/{CLASSNAME}/g,"botbtn")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(n),t.hint="calendar"===t.type?LSResource.getRealValue("widget.calendar.hint"):LSResource.getRealValue("widget.rangecalendar.hint"),t.contentdiv=ZSIQTranscript.getChatWindowOBJ(t.chatid).contentdiv,t.contentdiv.find("#bot_calender").on("click",function(){zDatepicker.init(t,e)})},c=function(){var t=ZSIQTranscript.getChatWindowOBJ(d.chatid).contentdiv,e='<div class="cmpnt-skip dib-mid" id="skipquestion">'+LSResource.getRealValue("common.skip")+'<em class="mL5 sqico-skip font8"></em></div>',i=t&&t.find('[proptype="msgdiv"] .msgbx').last().parent();i.find("#skipquestion").length||(i.append(e),$("#skipquestion").click(function(){$(this).remove(),u({type:"skip",chatid:d.chatid,msg:"-",id:n,skipped:!0}),d.skip_callback&&d.skip_callback()}),ZSIQTranscript.scroll())},r=function(t,e,i){p="";var n=$Widget.getMessageOBJ(),a=n.meta||{},s=a.display_card&&a.display_card.type;if(s=!s&&a.related_phrases?"relatedphrases":s,n.isgetwidgethtml)return p=t,void(n.widget_cname=i);var c=$.extend({},n),r=n.time||n.mtime,o=i;-1!=["suggestions","relatedphrases"].indexOf(s)?$.extend(c,{msg:n.msg,time:MyDate.getHoursandMin(r,!0,"bclient"),isbotmessage:!0,iswidget:!0,widget_cname:o,suggestionhtml:t||""}):$.extend(c,{msg:t||n.msg,time:MyDate.getHoursandMin(r,!0,"bclient"),isbotmessage:!0,iswidget:!0,widget_cname:o}),e&&(c.is_ignoreformat=!0),c.html=ZSIQTranscript.getTranscript(c,"",d.chatid),ZSIQTranscript.updateTranscript(c,d.chatid)},u=function(t){var e=t.chatid;$BotImpl.enableComposer("",e);var i=ZSIQTranscript.getChatWindowOBJ(e);i.contentdiv.find("#skipquestion").remove();var n=t.msg,a=t.value||n;if(n){var s=t.id,c=("true"===$("#bot_widget"+s).attr("hasquestion")?$("#bot_widget"+s):$("#cmpnt"+s)).parents(".ziq_msg"),r=c.find(".cmpnt-desc").html();r?o.meta&&o.meta.input_card&&c.find(".msgbx").html(r):m().animate(c,!0,function(t){t.remove()}),l={type:t.type,value:a},t.data_id&&(l.id=t.data_id),i.contentdiv.find("#conversationoption").remove(),g=n,$Support.sendMessage(g,i.composer),o.active=!1}else m().formatAndDisplay(o)},f=function(i){var t=$("#cmpnt"+i.id).parents(".ziq_msg"),n=i.chatid,a=ZSIQTranscript.getChatWindowOBJ(n);a.contentdiv.find("#skipquestion").remove(),$BotImpl.enableComposer("",i.chatid);m().animate(t,!0,function(t){if(o.active=!1,i.ratinghtml){i.star&&(i.ratinghtml=i.ratinghtml.replace(/<\/div>$/,"<em>"+i.msg+"</em></div>")),o.mode="botrating",o.ratinghtml=i.ratinghtml,o.chid=n,o.msg=getEncodedText(t.find(".cmpnt-desc").text());var e=i.value;o.value=e,t.remove(),l={type:i.type,value:e},m().formatAndDisplay(o),g=i.msg,$Support.sendMessage(g,a.composer)}})},v=function(t,e){for(var i=Object.keys(t).length,n=e&&1==i?'class="single-btn "':"",a="",s=0;s<i;s++){var c=t[s],r=c.type;"url"==r&&(a+='<a href="'+c.link+'" target="_blank" prop="labelcontainer "'+n+'><div class="cmpnt-btnurl elips" prop="url"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+c.label+"</em></div></a>"),"client_action"==r&&(a+='<a prop="ctacontainer" '+n+' name="'+c.name+'" data-val = "'+c.clientaction_name+'"  {BINDEVENT}><div class="cmpnt-btnurl elips" prop="callback" ><em class="dib-mid clr-azurblu cmpnt-cusclr" prop="callback">'+c.label+"</em></div></a>")}return a},h=function(){var t=d.actions,e=$Widget.isPreview(),i=(Object.keys(t).length,e?{}:$Support.getParent().$ZSIQUtil.getAPIValues()||{});i=i.clientaction||{};var n=$Widget.getLayout();n=(n=(n=(n=ZSIQTranscript.getFormatedHTML(n)).replace(/{BOT_WIDGET}/g,v(d.actions).replace(/{BINDEVENT}/g,'documentclick = "handleCta"'))).replace(/{CLASSNAME}/g,"botbtn")).replace(/{WIDGET_TYPE}/g,"display-card"),$Widget.attachHTML(n,!0)};return{input_card:"input_card",display_card:"display_card",suggestions:"suggestions",showBotReply:function(t){var e=t.meta;function i(){d.callback=t.callback||e.callback||"",d.validate=t.data_validate,d.isuseredit=t.isuseredit,d.iscustomfield=t.iscustomfield,d.triggerclbk=t.triggerclbk,d.fieldname=e&&e.field_name||"",e.skippable&&(d.skippable=e.skippable,d.skip_callback=e.skip_callback||""),d.chatid=t.enc_chid||t.chid}n=t.time||t.mtime||(new Date).getTime(),o={sender:t.sender,msgid:t.msgid,meta:e,time:n,dname:t.dname,msg:t.msg,isbotmessage:t.isbotmessage,isgetwidgethtml:t.isgetwidgethtml},d={},e[this.input_card]&&(d=e[this.input_card],e[this.display_card]&&(d.image=e[this.display_card].image),i(),a()),e[this.display_card]&&("suggestions"==(d=e[this.display_card]).type&&this.formatSuggestionObj(t),i(),a()),e.related_phrases&&(d.msglist=e.related_phrases,d.type="relatedphrases",i(),a()),e.suggestions&&!t.isgetwidgethtml&&(d.type="suggestions",d.list=e.suggestions,t.msg&&this.handleMessage(t),i(),a())},formatSuggestionObj:function(t){d.list=d.phrases,d.isdisplaycard=!0},handleMessage:function(t){var e=t.enc_chid||t.chid,i=t.meta;t.isbotmessage=$BotImpl.isBotMessage(t),t.time=MyDate.getHoursandMin(n,!0,"bclient"),i&&i[this.display_card]&&(t.bot_image=i[this.display_card].image),t.iswidget=!0,t.html=ZSIQTranscript.getTranscript(t,"",e),ZSIQTranscript.updateTranscript(t,e)},getWidgetHTML:function(t){$Widget.showBotReply($.extend(t,{isgetwidgethtml:!0}));var e=$Widget.getMessageOBJ();return e.widget_cname&&(t.widget_cname=e.widget_cname),p||t.msg},getLayout:function(){return function(){o.msg=o.msg?o.msg:"";var t=!!o.msg,e="4"===$Support.container.attr("themeid")?" cmpnt-transtheme":"",i=d.image&&"articles"!=d.type?'<div class="cmpnt-sldimg mB10"><img src="'+d.image+'" onload="$Support.handleUploadImageLoad( this )" style="display: none;"></div>':"";return'<div class="posrel" id="cmpnt'+n+'"><div class="cmpnt-wrap'+e+' {CLASSNAME}" id = "btnurl">'+i+'<div class="cmpnt-body-cont" id = "cmpnt_body'+n+'"><div class="cmpnt-desc lH20 c000"> '+o.msg+' </div><div {WIDGET_TYPE} id="bot_widget'+n+'" hasquestion = "'+t+'">{BOT_WIDGET}</div></div></div></div>'}()},attachHTML:function(t,e,i){r(t,e,i)},removeComponent:function(t){!function(t){if(0<Object.keys(o).length&&void 0===o.active){var e=$("#bot_widget"+n);0<e.length&&void 0===e.attr("isbutton")&&m().animate(e.parents(".ziq_msg"),!0,function(t){t.remove()})}t.contentdiv.find("#conversationoption").remove()}(t)},getMessageOBJ:function(){return o},isPreview:function(){return"undefined"!=typeof BotPreview},skipQuestion:function(t){if($BotImpl.enableComposer("",t.chatid),"-1"!=(i=$Support.getSkipObj()).chatid){var e=t||i.data;$.ajax({url:i.url,type:"POST",dataType:"json",data:JSON.stringify(e),success:function(){i.bottimer&&clearTimeout(i.bottimer)}})}},getLocationWidgetHtml:function(t){return'<a><div class="cmpnt-btnurl elips sqico-location" id="bot_location"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+((e=t)?getEncodedText(e):LSResource.getRealValue("widget.location.set"))+"</em></div></a>";var e},getCtaHtml:function(t,e){return v(t,e)},getMetaData:function(){return"object"==typeof l?$.extend({},l):l},clearMetaData:function(){l=""},getMetaCardData:function(){return(t={}).card_data=$.extend({},l),t;var t},getLastMessage:function(){return g},clearLastMessage:function(){g=""}}}();Slider=function(){var s=function(t,e){this.RIGHT_ARROW=39,this.LEFT_ARROW=37,this.dotoffset=[],this.config_obj={values:t.values||["1","2","3","4"],initialheadposition:t.initialheadposition||"1",showcurrentposition:t.showcurrentposition||!0,enablearrowkeyopertion:t.enablearrowkeyopertion||!0,range:"range-slider"===t.type,callback:t.callback||function(){}},this.msgid=e,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv};return s.prototype.renderSlider=function(){this.renderComponentHtml(),this.setDivOBJ(),this._sliderwidth=this.contentdiv.find("#range-wrap").outerWidth();for(var t=this.config_obj.values,e="",i=0;i<t.length;i++)this.config_obj.values[i]=""+t[i],e+='<span class="range-point" data-type="slider-point"><em class="range-dot" title="'+t[i]+'" data-type="sliderdot" dot='+i+'></em><em class="range-value"></em></span>';this.$rangepoint.html(e),this.$rangeelem=this.$rangepoint.children();for(var s=0;s<this.$rangeelem.length;s++)this.dotoffset[s]=this.$rangeelem[s].offsetLeft;this.updateSliderPosition(this.dotoffset[this.config_obj.initialheadposition],this.$sliderrighthead),this.config_obj.range&&this.updateSliderPosition(this.dotoffset[0],this.$sliderlefthead),this.negwidth=this.contentdiv.find("#cmpnt"+this.msgid).parents(".msgbx")[0].clientWidth-this._sliderwidth-this.$sliderrighthead.outerWidth()/2,this.negwidth+="undefined"==typeof BotPreview?0:$("#botpreviewwindow").offset().left},s.prototype.renderComponentHtml=function(){var t=this.config_obj.values.length,e='<div class="sld-cont" id = "slidercont"><div class="dtfix mB10 w100 c999" id = "slider"><div class="dcell">'+this.config_obj.values[0]+'</div><div class="dcell textR">'+this.config_obj.values[t-1]+'</div></div><div class="range posrel textC" id="range-wrap"><span class="range-path" id="range-body"><span id="slider-val" class="range-val" style="position: absolute;height: 5px;border-radius: 4px;left: 0;"></span>'+(this.config_obj.range?'<span class="range-handle" id="sliderlefthead" style="left:0px" tabindex="2"></span>':"")+'<span class="range-handle" id="sliderrighthead"  style="left:65px" tabindex="1" ></span></span><div id="range-point-wrap" class="range-point-wrp"></div><div class="dtfix textL cmpnt-ftr"><div class="dcell clr-azurblu dib-mid" id="range-display"></div><div class="textR dcell"><div class="sqico-tick" id="range-selected"></div></div></div></div></div>',i=$Widget.getLayout();i=(i=(i=i.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botslider")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(i)},s.prototype.setDivOBJ=function(){var t=this.contentdiv.find("#cmpnt"+this.msgid);this.$displayelem=t.find("#range-display"),this.$rangepoint=t.find("#range-point-wrap"),this.$sliderrighthead=t.find("#sliderrighthead"),this.$sliderlefthead=t.find("#sliderlefthead"),this.$rangeval=t.find("#slider-val")},s.prototype.handleEvents=function(){var i=this,t=this.contentdiv.find("#cmpnt"+this.msgid);function e(t){var e=this;$(document).bind("mouseup touchend",function(t){$(document).off("mouseup touchend mousemove touchmove"),i.handleHeaderMovement(t)}),$(document).on("mousemove touchmove",function(t){i.handleHeaderMovement(t,e)})}this.ismousedown=!1,this.$sliderrighthead.bind("mousedown touchstart",e),this.config_obj.range&&this.$sliderlefthead.bind("mousedown touchstart",e),t.find("#range-body").click(function(t){i.handleNearestClick(t)}),this.$rangeelem.click(function(t){i.handleDotClicked(t)}),t.find("#range-selected").click(function(){i.handleCallBack()}),this.config_obj.enablearrowkeyopertion&&(this.$sliderrighthead.keyup(function(t){i.handleKeyOperation(t,this)}),this.config_obj.range&&this.$sliderlefthead.keyup(function(t){i.handleKeyOperation(t,this)}))},s.prototype.handleHeaderMovement=function(t,e){if(t.stopPropagation(),"mousemove"==t.type||"touchmove"==t.type){var i=("touchmove"==t.type?t.originalEvent.touches[0].pageX:t.pageX)-this.negwidth,s=$(e);this.updateSliderPosition(i,s)}else{var o=this.$sliderrighthead;if(this.handlePointMove(o[0].offsetLeft,o),this.config_obj.range){var n=this.$sliderlefthead;this.handlePointMove(n[0].offsetLeft,n)}}},s.prototype.handlePointMove=function(t,e){this.updateSliderPosition(this.getNearestPointPosition(t),e)},s.prototype.handleNearestClick=function(t){var e=t.target.id||"";if("sliderrighthead"!==e&&"sliderlefthead"!==e){var i=this.getNearestPointPosition(t.pageX-this.negwidth);this.moveNearestHeader(i)}},s.prototype.handleDotClicked=function(t){var e=t.target.getAttribute("dot");null!=this.dotoffset[e]&&this.moveNearestHeader(this.dotoffset[e])},s.prototype.moveNearestHeader=function(t){var e=this.$sliderrighthead,i=e[0].offsetLeft;if(this.config_obj.range){var s=this.$sliderlefthead[0].offsetLeft;e=s<t&&t<i?t-s<i-t?this.$sliderlefthead:this.$sliderrighthead:t<i?this.$sliderlefthead:this.$sliderrighthead}this.updateSliderPosition(t,e)},s.prototype.handleKeyOperation=function(t,e){t.currentTarget.id;var i=e.offsetLeft,s=t.keyCode,o=this.dotoffset.indexOf(i);if(s==this.RIGHT_ARROW&&o<this.dotoffset.length-1)var n=this.dotoffset[o+1];else{if(!(s==this.LEFT_ARROW&&0<o))return;n=this.dotoffset[o-1]}this.handlePointMove(n,$(e))},s.prototype.updateSliderPosition=function(t,e){if(!this.config_obj.range||this.checkHeaderMove(t,e)){t=t>this._sliderwidth?this._sliderwidth:t<0?0:t,this.contentdiv.find(".range-value").empty(),e.css("left",t),this.$rangeval.css("width",t);var i=this.$sliderrighthead[0].offsetLeft;if(this.config_obj.range){var s=this.$sliderlefthead[0].offsetLeft;s<i?this.highlightSelectedPoint(s,i):this.highlightSelectedPoint(i,s)}else this.highlightSelectedPoint(this.dotoffset[0],i);this.config_obj.showcurrentposition&&this.handleDisplayValue()}},s.prototype.checkHeaderMove=function(t,e){if("sliderrighthead"===e[0].id){var i=this.dotoffset.indexOf(this.$sliderlefthead[0].offsetLeft);return this.dotoffset[i+1]<=t}i=this.dotoffset.indexOf(this.$sliderrighthead[0].offsetLeft);return t<=this.dotoffset[i-1]},s.prototype.highlightSelectedPoint=function(t,e){this.$rangeelem.removeClass("sel");for(var i=0;i<this.config_obj.values.length;i++)t<=this.dotoffset[i]&&e>=this.dotoffset[i]&&this.$rangeelem[i].classList.add("sel");this.$rangeval.css("left",t+"px").css("width",e-t+"px")},s.prototype.handleDisplayValue=function(){var t=this.$sliderrighthead[0].offsetLeft;this.showPointValues(t);var e=this.getTextForPoint(this.getNearestPointPosition(t));if(this.config_obj.range){var i=this.$sliderlefthead[0].offsetLeft;this.showPointValues(i),e=this.getTextForPoint(this.getNearestPointPosition(i))+" - "+e}this.$displayelem.text(e)},s.prototype.showPointValues=function(t){var e=this.dotoffset.indexOf(t);0<e&&e<this.dotoffset.length-1&&(this.contentdiv.find(".range-value")[e].innerText=this.config_obj.values[e])},s.prototype.getTextForPoint=function(t){var e=this.dotoffset.indexOf(t);return-1<e?this.config_obj.values[e]:""},s.prototype.getNearestPointPosition=function(t){for(var e=this.dotoffset.length,i=0;i<e-1;i++){var s=this.dotoffset[i],o=this.dotoffset[i+1];if(s<=t&&t<=o)return t-s<=(o-s)/2?s:o}},s.prototype.handleCallBack=function(){var t=this.$displayelem.text(),e=this.config_obj.range?"range-slider":"slider",i="range-slider"==e?t.split(" - "):t;this.config_obj.callback({type:e,msg:t,id:this.msgid,value:i,chatid:this.chatid})},{init:function(t,e){if(t.values&&1<t.values.length){var i=new s(t,e);return i.renderSlider(),void i.handleEvents()}t.callback("",e)}}}();var Multiselect=function(){var e=function(t,i){this.dataval=t.options,this.callback=t.callback,this.max_selection=t.max_selection||this.dataval.length,this.min_selection=t.min_selection||0,this.componentid=i,this.select_label=t.select_label,this.userconfig=t,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv};return e.prototype={sel_count:0,populateButtons:function(){var t=$Widget.getLayout();t=(t=(t=t.replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botrating")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(t),this.bindEvent()},getButtonHtml:function(){for(var t='<div id = "mselect"><div class="cmpnt-optn-list" id="multiselect">',i=0;i<this.dataval.length;i++){var e=this.dataval[i];if(e&&"object"==typeof e)t+="<div "+(e.custatrr||"")+'" op_id="'+(e.id||"")+'" data-value = "'+e.text+'"><span class="cmpnt-mul-optn"></span>'+getEncodedText(e.text)+"</div>";else t+='<div data-value = "'+e+'"><span class="cmpnt-mul-optn"></span>'+getEncodedText(e)+"</div>"}return t+='</div><div class="compnt-btn" id = "cnfmsel">'+(this.select_label?this.select_label:LSResource.getRealValue("common.confirm"))+"</div></div>"},bindEvent:function(){var t=this;this.contentdiv.find("#multiselect [data-value]").off("click.multiple").on("click.multiple",function(){t.handleMultiselection(this)}),this.contentdiv.find("#cnfmsel").click(function(){t.handleConfirm(this)})},handleMultiselection:function(t){(t=$(t)).hasClass("sel")?(t.find("span").removeClass("sqico-tick"),t.removeClass("sel"),this.sel_count--,0==this.sel_count&&this.contentdiv.find(".compnt-btn").removeClass("btn-enbl")):this.sel_count<this.max_selection&&(t.find("span").addClass("sqico-tick"),t.addClass("sel"),this.sel_count++,this.contentdiv.find(".compnt-btn").addClass("btn-enbl"))},handleConfirm:function(t){var i="",e=$(t).parent().find("[data-value]"),n=e.length,s=[],a=0;if(0!=this.sel_count){for(var l=0;l<n;l++)$($(e)[l]).hasClass("sel")&&(i&&(i+=", "),s[a]=this.dataval[l],a++,i+=$($(e)[l]).attr("data-value"));this.callback({type:"multiple-select",msg:i,id:this.componentid,value:s,element:$(t),config:this.userconfig,data_value:s,chatid:this.chatid})}}},{init:function(t,i){t.options?new e(t,i).populateButtons():t.callback("",i)}}}();var Button=function(){var i=function(t){this.buttonurl=t.links,this.callback=t.callback,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv};return i.prototype={populateButtons:function(t){var n=$Widget.getLayout();n=(n=(n=(n=ZSIQTranscript.getFormatedHTML(n)).replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botbtn")).replace(/{WIDGET_TYPE}/g,"display-card"),$Widget.attachHTML(n,!0),this.contentdiv.find("#bot_widget"+t).attr("isbutton",!0)},getButtonHtml:function(){for(var t='<div class="font14 posrel" id = "buttonurl">',n=0;n<this.buttonurl.length;n++){var i=this.buttonurl[n],a=i.url;if(a){var e=i.hideicon?"":"sqico-reply",r="";i.icon&&" "!=i.icon&&(e="",r='<span class="cmpnt-btnimg"><img src="'+i.icon+'"></span>');var c=i.target?i.target:"_blank";t+='<a href = "'+a+'" target="'+(c="_self"===c?"_parent":c)+'" data-value = "'+a+'"><div class="cmpnt-btnurl elips '+e+'">'+r+'<em class="dib-mid clr-azurblu elips">'+(getEncodedText(i.text)||a)+"</em></div></a>"}}return t+="</div>"}},{init:function(t,n){t.links?new i(t).populateButtons(n):t.callback("",n)}}}();Rating=(BotRating=function(t,e){this.type=t.type||"smiley",this.image=t.data||this.getRatingobj(t)||"",this.level=t.level||5,this.callback=t.callback||function(){},this.msgid=e,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv},BotRating.prototype.smileyobj={3:{text:["common.neutral","common.good","common.great"],classname:["cmpnt-rtng","cmpnt-rtng good","cmpnt-rtng great"]},5:{text:["smiley.angry","smiley.sad","common.neutral","common.good","common.great"],classname:["cmpnt-rtng angry","cmpnt-rtng sad","cmpnt-rtng","cmpnt-rtng good","cmpnt-rtng great"]}},BotRating.prototype.getRatingobj=function(t){return"smiley"===t.type?this.smileyobj[t.level]:"gesture"===t.type?{text:["common.like","common.dislike"]}:void 0},BotRating.prototype.renderRating=function(){var t=this.type;"smiley"!=t?"star"!=t?"gesture"==t&&this.renderGestureHtml():this.renderStarHtml():this.renderSmileyHtml()},BotRating.prototype.renderSmileyHtml=function(){for(var t=this.image,e=' <div class="textC cmpnt-rtng-cont" id="rating-wrap">',i=0;i<this.level;i++)e+='<div class="'+(t.classname[i]||this.smileyobj[this.level].classname[i])+'" id="rating'+(i+1)+'" data-type="smile-rating-'+t.text[i]+'" index='+(i+1)+'><div></div><span class="c666 dib-mid mT5" purpose="text">'+LSResource.getRealValue(t.text[i])+"</span></div> ";e+="</div>";var a=$Widget.getLayout();for(a=(a=(a=a.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botrating")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(a),i=0;i<t.length;i++)""!==t.imageurl[i]&&$("#rating"+(i+1)).find("div")[0].setAttribute("style","background:url('"+t.imageurl[i]+"')no-repeat 0px 0px/95%")},BotRating.prototype.renderStarHtml=function(){for(var t=5<this.level?"cmpnt-rtng-cont":"",e="",i=this.level;1<=i;i--)e+='<div class="sqico-star" star-count="'+i+'"></div>';var a='<div class="textC rating mT10 rtl" id="rating-wrap"><em class = "'+t+'">'+e+"</em></div>",n=$Widget.getLayout();n=(n=(n=n.replace(/{BOT_WIDGET}/g,a)).replace(/{CLASSNAME}/g,"botrating")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(n)},BotRating.prototype.renderGestureHtml=function(){var t=this.image,e='<div class="textC cmpnt-rtng-cont" id="rating-wrap"><div class="cmpnt-rtng" id="like-rating" data-type="gesture-rating-like"><div class="sqico-like"></div><span class="c666" purpose="text">'+LSResource.getRealValue(t.text[0])+'</span></div> <div class="cmpnt-rtng" id="dislike-rating" data-type="gesture-rating-dislike"><div class="sqico-dislike"></div><span class="c666" purpose="text">'+LSResource.getRealValue(t.text[1])+"</span></div> </div>",i=$Widget.getLayout();i=(i=(i=i.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botrating")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(i)},BotRating.prototype.handleEvents=function(){var t=this.contentdiv.find("#cmpnt"+this.msgid),e=this;t.find("#rating-wrap").click(function(t){e.handleClicked(t)})},BotRating.prototype.handleClicked=function(t){"star"!=this.type?"smiley"==this.type?this.handleSmileyRating(t):this.handleGestureRating(t):t.target.hasAttribute("star-count")&&this.handleStarRating(t)},BotRating.prototype.handleSmileyRating=function(t){var e=t.target.parentElement;if(e.hasAttribute("data-type")){var i=$(e).find("[purpose=text]").text(),a=$(e).attr("index"),n=e.lastChild.remove();$(n).remove(),this.callback({type:"happiness-rating",value:a,msg:i,ratinghtml:e.outerHTML,id:this.msgid,chatid:this.chatid})}},BotRating.prototype.handleGestureRating=function(t){var e=t.target.parentElement;if(e.hasAttribute("data-type")){var i=$(e).find("[purpose=text]").text(),a=i==$("#like-rating").find("[purpose=text]").text(),n=e.lastChild.remove();$(n).remove(),this.callback({type:"like",value:a,msg:i,ratinghtml:e.outerHTML,id:this.msgid,chatid:this.chatid})}},BotRating.prototype.handleStarRating=function(t){var e=t.target,i=e.getAttribute("star-count");this.callback({type:"star-rating",value:i,msg:i,ratinghtml:e.outerHTML,id:this.msgid,star:!0,chatid:this.chatid})},{init:function(t,e){if(t.type&&""!=t.type){var i=new BotRating(t,e);i.renderRating(),i.handleEvents()}else t.callback("",e)},smiley_init:function(t,e){t.type="smiley",Rating.init(t,e)},star_init:function(t,e){t.type="star",Rating.init(t,e)},like_init:function(t,e){t.type="gesture",Rating.init(t,e)}});"use strict";var zDatepicker=function(){var z={months:["date.january","date.february","date.march","date.april","date.may","date.june","date.july","date.august","date.september","date.october","date.november","date.december"],abbrmonths:["date.jan","date.feb","date.mar","date.apr","date.may","date.jun","date.jul","date.aug","date.sep","date.oct","date.nov","date.dec"],pad:function(e,t){return e<10&&(e="0"+e),e},toString:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd",a=(e="string"==typeof e?new Date(e):e).getFullYear(),i=this.pad(e.getMonth()+1),s=this.pad(e.getDate()),n="";switch(t){case"yyyy-mm-dd":n=a+"-"+i+"-"+s;break;case"yyyy/mm/dd":n=a+"/"+i+"/"+s;break;case"dd-mm-yyyy":n=s+"-"+i+"-"+a;break;case"dd/mm/yyyy":n=s+"/"+i+"/"+a;break;case"mm-dd-yyyy":n=i+"-"+s+"-"+a;break;case"mm/dd/yyyy":n=i+"/"+s+"/"+a;break;case"readable":n=s+"-"+LSResource.getRealValue(this.abbrmonths[e.getMonth()])+"-"+a}return n},toMonthAndYearString:function(e){return LSResource.getRealValue(this.months[e.getMonth()])+" "+e.getFullYear()},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},compareDay:function(e,t,a){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1),t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1);var i=!1;switch(a){case"le":i=e<=t;break;case"ge":i=t<=e;break;case"g":i=t<e;break;case"l":i=e<t}return i},moveMonth:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t)},listDates:function(e){for(var t=[],a=new Date(e.getFullYear(),e.getMonth(),1).getDay(),i=0==a?-6:1-a,s=1;s<=42;s++)t.push(new Date(e.getFullYear(),e.getMonth(),i++));return t},toDate:function(e,t){var a,i=e.indexOf("/")?e.split("/"):e.split("-");return i=i.map(Number),"yyyy-mm-dd"==t||"yyyy/mm/dd"==t?a=new Date(i[0],i[1]-1,i[2]):"dd-mm-yyyy"==t||"dd/mm/yyyy"==t?a=new Date(i[2],i[1]-1,i[0]):"mm-dd-yyyy"!=t&&"mm/dd/yyyy"!=t||(a=new Date(i[2],i[0]-1,i[1])),a},toTimezone:function(e,t){var a=e.getTime()+6e4*e.getTimezoneOffset();return new Date(a+36e5*parseFloat(t.replace(":",".")))},convertToDate:function(e){var t=new Date;if(e.match(/^\+/g)){var a=t.getDate()+parseInt(e.match(/([0-9]+)/)[0]);return s=new Date(t.getFullYear(),t.getMonth(),a,1)}if(e.match(/^-/g)){a=t.getDate()-parseInt(e.match(/([0-9]+)/)[0]);return new Date(t.getFullYear(),t.getMonth(),a,1)}if(e.match(/^[0-9]+$/))return new Date(parseInt(e));if(e.match(/^\s*([0-9]{13,14})\s*-\s*([0-9]{13,14})\s*$/i)){var i=e.match(/([0-9]{13,14})/gi);return[new Date(parseInt(i[0])),new Date(parseInt(i[1]))]}if(e.match(/^\s*last\s*([0-9]+)\s*days\s*$/gi)){a=t.getDate()-parseInt(e.match(/([0-9]+)/)[0]);return[new Date(t.getFullYear(),t.getMonth(),a,1),t]}if(e.match(/^\s*next\s*([0-9]+)\s*days\s*$/gi)){a=t.getDate()+parseInt(e.match(/([0-9]+)/)[0]);var s=new Date(t.getFullYear(),t.getMonth(),a,1);return[t,s]}return e.match(/^\s*future\s*$/gi)?[t,void 0]:e.match(/^\s*past\s*$/gi)?[void 0,t]:void 0}},M={overlay:'<div class="zsiq-datepicker-overlay" id="datepicker_body"><div class="cmpnt-cal-wrap" ><div class="cmpnt-calndr"><em class="siqico-close" data-target="close"></em><em class="siqico-larrow siqmob_back" id="siqdateback"></em><header class="calndr-head"><span class="siqico-calendar zsiq-lH22 zsiq-flex_GS0">!{label}</span><span id="selectedDateInfo" class="zsiq-elips zsiq-mR10 zsiq-mL10 zsiq-lH22"></span><div class="calndr-sedulbtn zsiq-flex_GS0" data-target="schedule">!{schedule}</div></header><div id="zsiqdatepicker"></div></div></div></div>',main:'<div class="zdatepicker"><div class="calndr-mnthname"><em class = "calndr-nxtprev siqico-larrow" data-target="prev-month"></em>!{date_info}<em class = "calndr-nxtprev siqico-rarrow" data-target="next-month"></em></div><div class = "calndr-detlvw"><em class = "calndr-nxtprev siqico-larrow" data-target="prev-month"></em><div class = "cmpnt-calvw">!{body}</div><em class = "calndr-nxtprev siqico-rarrow" data-target="next-month"></em></div>!{showTime}</div>',daysSpan:"<div>!{shortDay}</div>",dropDown:'<div class="calndr-drpdwn"><div class = "calndr-drp"><span class="calndr-setval">!{currentValue}</span><em class="siqico-darrow"></em></div><div class = "calndr-drp-dwnvw"> !{value} </div></div>',weekWrapperStart:'<div class="cmpnt-days">',meridiemAM:'<div class="cal-timtype"><span data-target="meridiem" data="AM" class="active">!{AM}</span><span data-target="meridiem" data="PM">!{PM}</span></div>',meridiemPM:'<div class="cal-timtype"><span data-target="meridiem" data="AM">!{AM}</span><span data-target="meridiem" data="PM" class="active">!{PM}</span></div>',timeTemplate:'<div class="calndr-settime"><div class="zsiq-flex">!{timeBody}</div>!{timezoneBody}</div>',weekWrapperEnd:"</div>",currentDay:"<div><div data='!{data}' data-target='date' class='currentday'>!{day}</div></div>",normalDay:"<div><div data='!{data}' data-target='date' class='normalday'>!{day}</div></div>",disabledDay:"<div><div data='!{data}' data-target='disabledday' class='disabledday'>!{day}</div></div>",selectedDay:"<div><div data='!{data}' data-target='date' class='selectedday'>!{day}</div></div>",RangeselectedDay:"<div class='zrangeHolder!{extra}'><div data='!{data}' data-target='date' class='selectedrange'>!{day}</div></div>",monthsView:'<div class="zdatepicker"><div class = "zdatepicker_header"><span class="zdatepicker_info zdatepicker_offset" data-target="yr-info"> !{year} </span></div><div class="zdatepicker_body">!{body}</div></div>',normalMonth:"<span data-target='month' data='!{month}' class='zdatepicker_normalmonth'>!{month}</span>",yearsView:"<div class=\"zdatepicker\"><div class = 'zdatepicker_header'><span class = 'zdatepicker_prev_month' data-target='prev-year'>&lsaquo;</span><span class = 'zdatepicker_info'>!{year_info}</span><span class = 'zdatepicker_next_month' data-target='next-year'>&rsaquo;</span></div><div class = \"zdatepicker_body\">!{body}</div></div>",normalYear:"<span data-target='year' data='!{year}' class='zdatepicker_normalyear' data-target='yr-info'>!{year}</span>",timezone:'<div class="zsiq-lH22 zsiq-clr-azurblu zsiq-mT30" id="datepicker_timezone" style="position: relative;"><span class="zsiq-elips" style="cursor:pointer;display:block;text-align:center;" data-target="showtzlist">!{currentTimezone}</span></div>'},i=function(e,t){this.options={format:"yyyy/mm/dd",range:e.range,view:e.view||0,onselect:e.callback,selected:"",showTime:e.time,tz:e.tz,label:e.label,from:e.from&&z.convertToDate(e.from),to:e.to&&z.convertToDate(e.to),limit:e.limit&&z.convertToDate(e.limit),select_label:e.select_label},this.msgid=t,this.type=e.type,this.chatid=e.chatid,this.options.limit=this.options.limit||[this.options.from,this.options.to]};return i.prototype={init:function(){var d,e,c=new Date,l=z.toString(c,this.options.format),n=c.getFullYear(),t=c.getHours();this.hours=z.pad(g(12<t?t-12:t,1)),this.minutes=z.pad(g(c.getMinutes(),5)),this.meridiem=c.toLocaleTimeString("en-US").slice(-2);var a,m="",h="",i=TimeZone.getCurrentTimeZone();this.timezone=i.gmt,this.tz_name=i.name;var p=function(e){d.innerHTML="",d.insertAdjacentHTML("beforeend",e)},u=function(e,t,a,i,s){for(var n=M.dropDown.replace("!{currentValue}",z.pad(g(e,i))),r="",o=t;o<=a;o+=i)r+="<div data='"+z.pad(o)+"' data-target='"+s+"'>"+z.pad(o)+"</div>";return n.replace("!{value}",r)};function g(e,t){return e-e%t}var s,v=function(){return M.timezone.replace("!{currentTimezone}",this.tz_name)}.bind(this),r=function(){var e=M.main.replace("!{date_info}",z.toMonthAndYearString(c)),a="",i="",t=M.weekWrapperStart;if(z.listDates(c).forEach(function(e){var t="";0===e.getDay()&&(a+=M.weekWrapperStart),i=z.isSameMonth(c,e)?this.options.range&&e>=z.toDate(m,this.options.format)&&e<=z.toDate(h,this.options.format)?M.RangeselectedDay:l&&z.isSameDay(z.toDate(l,this.options.format),e)?M.selectedDay:this.options.limit&&(this.options.limit[0]&&!z.compareDay(e,this.options.limit[0],"ge")||this.options.limit[1]&&!z.compareDay(e,this.options.limit[1],"le"))?M.disabledDay:M.normalDay:M.disabledDay,a+=i.replace("!{day}",e.getDate()).replace("!{data}",z.toString(e,this.options.format)),6===e.getDay()&&(a+=M.weekWrapperEnd),this.options.range&&z.isSameDay(e,z.toDate(m,this.options.format))&&(t="Start"),this.options.range&&z.isSameDay(e,z.toDate(h,this.options.format))&&(t="End"),a=a.replace("!{extra}",t)}.bind(this)),["date.su","date.mo","date.tu","date.we","date.th","date.fr","date.sa"].forEach(function(e){t+=M.daysSpan.replace("!{shortDay}",LSResource.getRealValue(e))}),t+=M.weekWrapperEnd,e=e.replace("!{body}",t+a),this.options.showTime){var s=M.timeTemplate,n=u(this.hours,1,12,1,"hours"),r=u(this.minutes,0,55,5,"minutes"),o=("PM"==this.meridiem?M.meridiemPM:M.meridiemAM).replace("!{AM}",LSResource.getRealValue("time.AM")).replace("!{PM}",LSResource.getRealValue("time.PM"));s=s.replace("!{timeBody}",n+r+o),e=(e=e.replace("!{showTime}",s)).replace("!{timezoneBody}",this.options.tz?v():"")}else e=e.replace("!{showTime}","");(p(e),this.options.showTime)&&d.querySelectorAll(".calndr-drp").forEach(function(e){e.onclick=function(e){var t=d.querySelector(".show");t&&t!=this.nextSibling&&t.classList.remove("show"),this.nextElementSibling.classList.toggle("show"),e.stopImmediatePropagation()}});this.isDateWithinRange(l)||$('[data="'+l+'"]').addClass("disabledday")}.bind(this),o=function(){var e=M.monthsView.replace("!{year}",c.getFullYear()),t="";z.months.forEach(function(e){t+=M.normalMonth.replace("!{month}",LSResource.getRealValue(e)).replace("!{month}",LSResource.getRealValue(e))}),p(e.replace("!{body}",t))},y=function(){for(var e=n,t=M.yearsView.replace("!{year_info}",e-7+"-"+(e+7)),a="",i=[],s=e-7;s<=e+7;s++)i.push(s);i.forEach(function(e){a+=M.normalYear.replace("!{year}",e).replace("!{year}",e)}),p(t.replace("!{body}",a))},f={date:function(e){if(this.options.range)if(m)if(m&&!h){if(h=e,z.toDate(m,this.options.format)>z.toDate(h,this.options.format)){var t=m;m=h,h=t}this.options.selected=[m,h],this.updateHeader()}else m&&h&&(m=e,h="");else m=e;l=e,this.options.range||(this.options.selected=e,this.updateHeader()),r()}.bind(this),"prev-month":function(){c=z.moveMonth(c,-1),r()},"next-month":function(){c=z.moveMonth(c,1),r()},disabledday:function(e){var t=z.toDate(e,this.options.format);this.isDateWithinRange(t)&&(c=t,r(),f.date(e))}.bind(this),"mo-yr-info":o,month:function(e){var t=z.months.indexOf(e);c=new Date(c.setMonth(t)),r()},"yr-info":y,year:function(e){c=new Date(c.setFullYear(parseInt(e))),o()},"prev-year":function(){n-=15,y()},"next-year":function(){n+=15,y()},hours:function(e){this.hours=e,r()}.bind(this),minutes:function(e){this.minutes=e,r()}.bind(this),schedule:function(){this.options.range&&!h||!this.isDateWithinRange()||(this.options.onselect({type:this.type,msg:this.getReadableSelection(),id:this.msgid,value:this.getValues(),chatid:this.chatid}),e.parentNode.removeChild(e),removeEventListener("click",a))}.bind(this),close:function(){e.parentNode.removeChild(e),removeEventListener("click",a)},meridiem:function(e){this.meridiem=e,r()}.bind(this),showtzlist:function(){d.querySelector("#datepicker_timezone").insertAdjacentHTML("beforeend",TimeZone.getTimeZoneHTML(!1)),d.querySelector("#tz-list input").addEventListener("input",function(e){TimeZone.handleSearch(e,this,!1)}),b()},timezone:function(e,t){this.timezone=e,this.tz_name=t.innerHTML,d.querySelector("#tz-list").remove(),b(!0),r()}.bind(this)},D=this,w=function(e,t,a){var i=d.querySelector(".calndr-settime");if(!i)return!0;var s=i.querySelector("#tz-list"),n=i.querySelector(".show");if(t=t?t.value:"",s){if("timezone"===t)return f.timezone(a,e),D.updateHeader(),!1;if(e===s||"showtzlist"===t||s.contains(e))return!1;s.remove(),b(!0)}else n&&e!==n&&n.classList.remove("show");return!0},b=function(e){var t=window.parent.document.querySelector("#siqdateback");e?t.classList.remove("siqshowbckico"):t.classList.toggle("siqshowbckico")};s=M.overlay.replace("!{label}",getEncodedText(this.options.label)||LSResource.getRealValue("common.scheduleameeting")).replace("!{schedule}",getEncodedText(this.options.select_label)||LSResource.getRealValue("common.schedule")),window.parent.document.body.insertAdjacentHTML("beforeend",s),e=window.parent.document.querySelector("#datepicker_body"),d=window.parent.document.querySelector("#zsiqdatepicker"),r(),this.options.selected=l,this.updateHeader(),a=e.addEventListener("click",function(e){var t,a,i;e.stopPropagation(),a=(t=e).target.attributes&&t.target.attributes["data-target"],i=t.target.attributes.data&&t.target.attributes.data.value,w(t.target,a,i)&&a&&(f[a.value](i),D.updateHeader())})},updateHeader:function(){var e=window.parent.document.querySelector("#selectedDateInfo");e&&(e.innerHTML=this.getReadableSelection())},getReadableSelection:function(){var e=this.options.tz?" "+this.timezone:"",t=this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"";if("object"==typeof this.options.selected){var a=this.getRangeString();return a.from+" to "+a.to+t+e}var i=z.toDate(this.options.selected,this.options.format);return z.toString(i,"readable")+t+e},getRangeString:function(){var e=z.toDate(this.options.selected[0],this.options.format),t=z.toDate(this.options.selected[1],this.options.format);return{from:z.toString(e,"readable"),to:z.toString(t,"readable")}},getValues:function(){var e=this.options.tz?{tz:this.timezone}:{},t=this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"";if(this.options.range){var a=this.getRangeString();return e.from_time=a.from+t,e.to_time=a.to+t,e}return e.time=z.toString(z.toDate(this.options.selected,this.options.format),"readable")+t,e},handleTimeFormat:function(){var e=this.getReadableSelection();if(!this.options.showTime)return e;var t=(-1==e.indexOf("GMT")?e:e.substring(e.indexOf(" GMT"),0)).split(/\s(.+)/)[1],a=t.split(":"),i=a[0],s=a[1].split(" ");if(-1==t.indexOf("AM")&&12!=i)i=parseInt(a[0])+12;return e.replace(t,i+":"+s[0]+":00")},getTimestamp:function(){if(this.options.range){var e=new Date(this.options.selected[0]),t=new Date(this.options.selected[1]);return this.options.tz&&(e=z.toTimezone(e,this.timezone.replace("GMT","")),t=z.toTimezone(t,this.timezone.replace("GMT",""))),e.getTime()+"-"+t.getTime()}var a=this.options.selected+(this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"");return a=new Date(a),this.options.tz&&(a=z.toTimezone(a,this.timezone.replace("GMT",""))),a.getTime()},isDateWithinRange:function(e){if(this.options.from||this.options.to){var t=this.options.from?new Date(this.options.from):"",a=this.options.to?new Date(this.options.to):"",i="",s="";if(e||(e=this.options.selected),this.options.range){if(!e||"string"==typeof e)return!0;if(!e[0])return!1;i=new Date(e[0]),s=new Date(e[1])}else s=i=new Date(e);if(t&&z.compareDay(i,t,"l"))return!1;if(a&&z.compareDay(s,a,"g"))return!1}return!0}},{init:function(e,t){var a=new i(e,t);return a.init(),a}}}();var Suggestions=function(){var s=function(t,i){this.dataval=t.list,this.callback=t.callback,this.id=i,this.componentid=i,this.type=t.type,this.userconfig=t,this.chatid=t.chatid,this.isdisplaycard=t.isdisplaycard,this.chatdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).chatdiv};return s.prototype={populateButtons:function(){var t=this.getButtonHtml(),i=this.chatdiv,s=i.children().last();i.find("#conversationoption").remove(),this.isdisplaycard?$Widget.attachHTML(t,!0):0===i.find(".zsiq_transferdiv").length?s.append(t):s.prev().append(t),ZSIQTranscript.scroll(),this.bindEvent()},getButtonHtml:function(){var t="",i="conversationoption";if(i=this.isdisplaycard?i+this.id:i,"suggestions"!==this.type)return'<div class="zsiq_transferdiv fnt13" style="" id="skipquestion"><span class="bot_opt">Skip</span>';for(var s=0;s<this.dataval.length;s++){var a=this.dataval[s];if(a&&"object"==typeof a){var e=a.custatrr||"",n=a.id||"";t+='<span class="choose mB10" purpose="custom" '+e+' val="'+a.text+'" prop="'+this.type+'" sug_id="'+n+'" data-value = "'+a.value+'">'+getEncodedText(a.text)+"</span>"}else{var o=getEncodedText(this.dataval[s]);t+='<span class="choose mB10" purpose="custom" val="'+o+'" prop="'+this.type+'">'+o+"</span>"}}return'<div class="options textR mT20" id="'+i+'" data-type="'+this.type+'">'+t+"</div>"},bindEvent:function(){var i=this;$(this.chatdiv).off("click.suggest","span[prop=suggestions]").on("click.suggest","span[prop=suggestions]",function(t){i.chooseField(this)})},chooseField:function(t){t=$(t),this.callback({msg:t.attr("val"),id:this.componentid,element:t,config:this.userconfig,data_value:t.attr("data-value"),config:this.userconfig,data_id:t.attr("sug_id"),type:t.attr("prop"),chatid:this.chatid})}},{init:function(t,i){($BotImpl.enableComposer("",t.chatid),t.list)?new s(t,i).populateButtons():t.callback("",i)}}}();var Singleselect=function(){var a=function(t,e){this.dataval=t.options,this.callback=t.callback,this.select_label=t.select_label,this.componentid=e,this.userconfig=t,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv};return a.prototype={populateButtons:function(){var t=$Widget.getLayout();t=(t=(t=t.replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botsselect")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(t),this.bindEvent()},getButtonHtml:function(){for(var t='<div class="cmpnt-optn-list" id="singleselect">',e=0;e<this.dataval.length;e++){var a=this.dataval[e];if(a&&"object"==typeof a)t+="<div "+(a.custatrr||"")+'" op_id="'+(a.id||"")+'" data-value = "'+a.value+'">'+getEncodedText(a.text)+"</div>";else t+='<div data-value = "'+this.dataval[e]+'">'+getEncodedText(this.dataval[e])+"</div>"}return t+="</div>"},bindEvent:function(){var t=this;this.contentdiv.find("#singleselect [data-value]").off("click.select").on("click.select",function(){t.handleSingleselection(this)})},handleSingleselection:function(t){(t=$(t)).parent().find("[data-value]").removeClass("sel"),t.addClass("sel"),this.callback({msg:t.text(),id:this.componentid,type:"select",element:t,config:this.userconfig,data_value:t.attr("data-value"),data_id:t.attr("op_id"),chatid:this.chatid})}},{init:function(t,e){t.options?new a(t,e).populateButtons():t.callback("",e)}}}();var BotArticle=function(){var a=function(t,i){this.data=t,this.data.id=i,this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv};return a.prototype={renderArticle:function(){var t=$Widget.getLayout();t=(t=(t=t.replace(/{BOT_WIDGET}/g,ZSIQTranscript.getCustomArticleCard(this.data))).replace(/{CLASSNAME}/g,"")).replace(/{WIDGET_TYPE}/g,"display-card"),$Widget.attachHTML(t),this.contentdiv.find("#cmpnt"+this.data.id).parents(".msgbx").addClass("artcle-vw")},setEvents:function(){var i=this;this.data.articles&&this.data.articles.length&&this.contentdiv.off("click.article","#rel-articles-"+this.data.id).on("click.article","#rel-articles-"+this.data.id,function(t){i.handleClicked(t)})},handleClicked:function(t){var i=t.target;$(i).attr("article-id")&&$FAQ.showFAQPreview($(i))}},{init:function(t,i){var e=new a(t,i);e.renderArticle(),e.setEvents()},handleClicked:function(t){var i=t.target,e=$(i).attr("article-id");e&&Educate.faqPreview(e,$(i),void 0,void 0,function(){this.contentdiv.find("#faqpreview_footer").remove()},!0)}}}();var BotTimeSlot=function(){var e=["date.january","date.february","date.march","date.april","date.may","date.june","date.july","date.august","date.september","date.october","date.november","date.december"],i=["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"],s=function(t,e){this.data=t,this.label=getEncodedText(t.label)||LSResource.getRealValue("widget.timeslot.shedulemeeting"),this.select_label=t.select_label,this.time=e||Date.now(),this.minutes=0,this.shedule={time:"",time_str:"",date:"",date_str:"",tz:"",gmt:""},this.chatid=t.chatid,this.contentdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).contentdiv},o=function(t){return LSResource.getRealValue(e[t])},m=function(t){return LSResource.getRealValue(i[t])},a=function(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++){var s=e[i];if(s.date==t)return s.time}return e[t]};s.prototype={init:function(){var t=this.data.slots;if(t)if("timeslots"==this.data.type){var e=new Date;this.shedule.date=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear(),this.shedule.date_str=m(e.getDay())+", "+o(e.getMonth())+" "+e.getDate()+", "+e.getFullYear(),this.datelist=[this.shedule.date],this.data.slots={},this.data.slots[this.shedule.date]=t,this.limit=1}else this.datelist=function(t){var e=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var s=t[i];e.push(s.date)}else e=Object.keys(t).sort(function(t,e){var i=t.split("/").reverse().join(),s=e.split("/").reverse().join();return i<s?-1:s<i?1:0});return e}(t),this.limit=2<this.datelist.length?3:this.datelist.length,this.index=0;if(this.data.tz){var i=TimeZone.getCurrentTimeZone();this.shedule.gmt=i.gmt,this.shedule.tz=i.gmt+" "+i.name}this.setButtonUI()},setButtonUI:function(){var t='<div class="cmpnt-btnurl elips sqico-calendar" id="bot_timeslot"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+this.label+"</em></div>",e=$Widget.getLayout();e=(e=(e=e.replace(/{BOT_WIDGET}/g,t)).replace(/{CLASSNAME}/g,"botbtn")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(e),this.contentdiv.find("#bot_timeslot").on("click",function(t){this.contentdiv.find(".cmpnt-wrap").removeClass("botbtn"),this.contentdiv.find("#bot_timeslot").replaceWith(this.getTimeSlotHTML()),this.renderTimeSlot(this.data)}.bind(this))},getTimeSlotHTML:function(){return'<div class="cmpnt-wrap" id="timeslot-'+this.time+'"><div class="cmpnt-body-cont" id="title-zone"></div><div class="posrel textC" id="timeslot-select"></div>'+this.getNextPrevHTML()+"</div>"},getNextPrevHTML:function(){return'<a><div class="cmpnt-nxtprev" id="timeslot-move" slot="date"><div class="c333"><div class="dib-mid" move="prev"><em class="sqico-larrow"></em><em class="dib-mid clr-azurblu">'+LSResource.getRealValue("common.prev")+'</em></div></div><div class="c333 cmpnt-prev"><div  class="dib-mid"  move="next"><em class="sqico-larrow"></em><em class="dib-mid clr-azurblu">'+LSResource.getRealValue("common.next")+"</em></div></div></div></a>"},renderTimeSlot:function(t){this.elem=this.contentdiv.find("#timeslot-"+this.time);var e="timeslots"==this.data.type?"time":"date";this.setDateTimeSlots(e),this.elem.find("#timeslot-move").attr("slot",e),this.setTitleAndZone();var i=this;this.elem.find("#timeslot-move [move]").on("click",function(t){i.handleMoveClick(this,t)})},setTitleAndZone:function(){var t="timeslots"==this.data.type?"widget.timeslot.selecttime":"widget.timeslot.selectday",e='<div class="font15"><div class="font16 c555 mB10 lH22"><em class="sqico-larrow" move=""></em>'+this.label+'</div><div class="mB10 clr-azurblu lH22 curP elips" tz="" id="tz_drpdown"></div><div class="c888 lH22" slot-title >'+LSResource.getRealValue(t)+"</div></div>";this.elem.find("#title-zone").html(e);var i=this;this.elem.find("#title-zone .sqico-larrow").hide().on("click",function(t){i.handleBackArrow()}),this.elem.find("#tz_drpdown").on("click",function(t){"date"!=i.elem.find("#timeslot-move").attr("slot")&&"timeslots"!=i.data.type||i.elem.has("#tz-list").length||i.showTimeZoneList(t)}),this.setTimeZone(),ZSIQTranscript.scroll()},showTimeZoneList:function(t){if(this.data.tz){var e=TimeZone.getTimeZoneHTML(!0);this.elem.find("#timeslot-select").after(e);var i=this;this.elem.find("#tz-list").on("click",function(t){i.handleTimeZoneClick(t)}),this.elem.find("#tz-list input").on("input",function(t){TimeZone.handleSearch(t,this,!0)}),l(i,t)}},setDateTimeSlots:function(t){var e=this,i="";this.data.slots&&(i="date"==t?this.getDateSlots():this.getTimeSlots()),this.elem.find("#timeslot-select").html(i),this.elem.find("#timeslot-select ["+t+"]").on("click",function(t){e.handleDateTimeClick(this,t)}),ZSIQTranscript.scroll()},handleTimeZoneClick:function(t){var e=t.target;e.hasAttribute("data")&&(this.elem.find("#tz-list").remove(),this.shedule.gmt=$(e).attr("data"),this.shedule.tz=$(e).html(),this.setTimeZone())},setTimeZone:function(){var t=this.data.tz?this.shedule.tz:"timeslots"==this.data.type?this.shedule.date_str:"";this.elem.find("#tz_drpdown").html(t)},handleDateTimeClick:function(t,e){if("date"==this.elem.find("#timeslot-move").attr("slot")){var i=$(t).attr("date");if(i){this.shedule.date=i,this.shedule.date_str=$(t).text(),this.minutes=0,this.elem.find("#timeslot-move").attr("slot","time"),this.setDateTimeSlots("time");var s=this.elem.find("#title-zone");s.find(".sqico-larrow").show(),s.find("#tz_drpdown").html(this.shedule.date_str),s.find("[slot-title]").html(LSResource.getRealValue("widget.timeslot.selecttime"))}}else{var l=$(e.target).attr("time");l&&(this.shedule.time=l,this.shedule.time_str=$(e.target).text(),this.setSelectedResult(),this.elem.find("#timeslot-select").hide(),this.elem.find("#timeslot-move").hide().attr("slot","confirm"))}},setSelectedResult:function(){var s=this.shedule.date_str+" at "+this.shedule.time_str,t=this.select_label?this.select_label:LSResource.getRealValue("common.confirm"),e='<div class="font15"><div class="font16 c555 mB10 lH22"><em class="sqico-larrow" move="prev"></em>'+this.label+'</div><div class="mB10 lH22 c000">'+s+'</div><div class="lH22 c000">'+this.shedule.tz+'</div><div class="compnt-btn cal-scdule" id="confirm">'+t+"</div></div></div>";this.elem.find("#title-zone").html(e);var l=this;this.elem.find("#title-zone .sqico-larrow").on("click",function(t){l.handleBackArrow()}),s+=" "+this.shedule.tz,this.elem.find("#confirm").on("click",function(t){var e={id:l.time,msg:s,type:l.data.type,chatid:l.chatid},i="timeslots"==l.data.type?l.shedule.time:l.shedule.date+" "+l.shedule.time;e.value={tz:l.shedule.gmt,slot:i},l.data.callback(e)})},enableBackArrow:function(){this.elem.find("#title-zone .sqico-larrow").show()},handleBackArrow:function(){var t=this.elem.find("#timeslot-move").attr("slot");"time"==t?(this.elem.find("#title-zone .sqico-larrow").hide(),this.elem.find("#timeslot-move").attr("slot","date"),this.setDateTimeSlots("date"),this.elem.find("#title-zone [slot-title]").html(LSResource.getRealValue("widget.timeslot.selectday")),this.setTimeZone()):"confirm"==t&&(this.elem.find("#timeslot-move").show().attr("slot","time"),this.elem.find("#timeslot-select").show(),this.setTitleAndZone(),"timeslots"!=this.data.type&&(this.elem.find("#title-zone .sqico-larrow").show(),this.elem.find("#tz_drpdown").html(this.shedule.date_str)),this.setDateTimeSlots("time"))},handleMoveClick:function(t){var e=$(t).attr("move"),i=this.elem.find("#timeslot-move").attr("slot");if("date"==i){if("prev"==e){var s=this.index-this.limit;this.index=s<0?0:s}else if("next"==e){s=this.index+this.limit;this.index=s>=this.datelist.length?this.index:s}this.setDateTimeSlots("date")}else if("time"==i){if("prev"==e){s=this.minutes-6;this.minutes=s<0?0:s}else if("next"==e){s=this.minutes+6;this.minutes=s>=a(this.shedule.date,this.data.slots).length?this.minutes:s}this.setDateTimeSlots("time")}},getDateSlots:function(){var t,e="",i=this.elem.find("#timeslot-move");3<this.datelist.length?$(i).show():$(i).hide();for(var s=this.index;s-this.index<this.limit;s++){var l=this.datelist[s];if(!l)break;var a=-1!=l.indexOf("/")?l.split("/"):l.split("-"),n=a[1];n=isNaN(parseInt(n))?new Date("0-"+n).getMonth():n-1,t=new Date(a[2],n,a[0]),a=l;var d=o(t.getMonth())+" "+t.getDate()+", "+t.getFullYear();e+=' <div class="cmpnt-btnurl cmpnt-cal-date" date="'+a+'" ><em class="c333">'+m(t.getDay())+'</em><em class="c777"> '+d+"</em></div>"}return e},getTimeSlots:function(){var t="",e=a(this.shedule.date,this.data.slots),i=this.elem.find("#timeslot-move");if(!e)return"";function s(t){if(!t)return"";var e=t.split(":"),i=e[0]%=24;i=(i=12==i?12:i%12)<10?"0"+i:i;var s=11<e[0]?LSResource.getRealValue("time.PM"):LSResource.getRealValue("time.AM");return 2<e[1].length&&(e[1]=e[1].substring(0,2)),"00"==i&&"00"==e[1]&&(i=12),'<em time="'+t+'">'+i+":"+e[1]+" "+s+"</em>"}6<e.length?$(i).show():$(i).hide();for(var l=this.minutes;l-this.minutes<6;l++)t+=e[l]?'<div class="cmpnt-btnurl cmpnt-cal-time" id="">'+s(e[l++])+s(e[l])+"</div>":"";return t}};var l=function(t,e){$Clickoutside&&$Clickoutside.bindclick(function(){t.elem.find("#tz-list").remove()},"tz-list","tz_drpdown",!0,e)};return{init:function(t,e){new s(t,e).init()}}}();var ZMaps=function(){var c,n,o,i,l,s,r,d,u,g,p,v=function(){try{return $Support.getZMapKeys()}catch(e){return{zmapapicss:_ZMAPCSSURL,zmapstaticurl:_ZMAPSTATICURL,zmapapiurl:_ZMAPAPIURL,zmapapikey:_ZMAPAPIKEY,mapboxgl:window.mapboxgl}}},f=function(){p=$Widget.isPreview()?window:window.parent},a=function(){var e=$Widget.getLocationWidgetHtml(c.label),t=$Widget.getLayout();t=(t=(t=t.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"bot-locatn")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(t),(d=document.querySelector("#bot_location")).addEventListener("click",m)},m=function(){T(c.lat,c.lng)},y=function(e,t){var a=p.document;a.body.insertAdjacentHTML("beforeend",E("overlay")),o=a.querySelector("#glocation_body");var n=a.querySelector("#widget_holder"),i=a.createElement("div");i.style.height="700px",n.insertAdjacentElement("beforeend",i),_event=o.addEventListener("click",function(e){e.stopPropagation(),A(e)});var l=I(M,500);(r=a.querySelector("#searchplace")).addEventListener("input",function(e){var t=e.target.value.length;r.parentElement.querySelector("[data-target = 'suggclose']").style.display=t?"block":"none",1<t?l(e.target.value):z()}),r.addEventListener("keyup",function(e){S(e.keyCode)}),L(e,t,i)},L=function(e,t,a){var n={container:a,zoom:12,center:[t,e],style:v().zmapstaticurl+"vector/styles/bright.json"};(i=new g.Map(n)).addControl(new g.NavigationControl,"bottom-right"),h(e,t),c.radius?i.on("style.load",function(){x(e,t)}):(i.on("click",function(e){h(e.lngLat.lat,e.lngLat.lng)}),i.flyTo({center:[t,e],zoom:12}))},h=function(e,t){if(l)return l.setLngLat({lat:e,lng:t}),void q(e,t,function(e){s.setHTML('<div class="font15">'+e.display_name+"</div>")});var a=document.createElement("span");a.className="siqico-location",a.style["font-size"]="25px";var n={anchor:"center",draggable:!c||!c.radius,element:a,offset:[-0,-12]};l=new g.Marker(n).setLngLat({lat:e,lng:t}).addTo(i),q(e,t,function(e){s=new g.Popup({offset:1}).setHTML('<div class="font15">'+e.display_name+"</div>"),l.setPopup(s)})},b=function(e,t,a){return v().zmapstaticurl+"v2/staticimage?lat="+e+"&lon="+t+"&zoom=12&height=250&width=300&marker=true"},q=function(e,t,a){var n=JSON.stringify({lat:e,lon:t});$.ajax({url:v().zmapstaticurl+"v1/query/rgeocode",type:"GET",data:{params:n,api_key:v().zmapapikey},success:function(e){a(e)}})},M=function(t){if(r.value.length<2)z();else{var e=p.document.querySelector("#autocomplete");e.style.display="block",e.innerHTML='<em class="siq_loading"></em>';var a=l.getLngLat(),n={q:t,limit:4,autocomplete:"true",priorityLat:a.lat,priorityLon:a.lng};n=JSON.stringify(n),$.ajax({url:v().zmapstaticurl+"v1/pelias/query/geocode",type:"GET",data:{params:n,api_key:v().zmapapikey},success:function(e){r.value===t&&_(e)}})}},z=function(){var e=p.document.querySelector("#autocomplete");e.innerHTML="",e.style.display="none"},S=function(e){var t,a=p.document.querySelector("#map_sugg"),n={38:function(){t?(t.previousElementSibling?t.previousElementSibling.classList.add("sel"):a.children[a.children.length-1].classList.add("sel"),t.classList.remove("sel")):a.children[a.children.length-1].classList.add("sel")},40:function(){t?(t.nextElementSibling?t.nextElementSibling.classList.add("sel"):a.children[0].classList.add("sel"),t.classList.remove("sel")):a.children[0].classList.add("sel")},13:function(){if(t){var e={};e.target=t,P(e),z()}}};a&&(t=a.querySelector(".sel"),"function"==typeof n[e]&&n[e]())},_=function(e){var t=p.document.querySelector("#autocomplete");t.style.display="block";var a="";if(e.length){for(var n=0;n<e.length;n++){var i=e[n];a+=E("suggestion",i)}t.innerHTML='<div class="locat-sugges"><div class="zsiq-c888 zsiq-mL10">Suggestions</div><div id="map_sugg">'+a+"</div>"}else t.innerHTML='<div class="zsiq-noresult"><div class="zsiq-nrdesc">'+LSResource.getRealValue("widget.location.notfound")+"</div></div>"},E=function(e,t){return{overlay:function(){return'<div class="zsiq-datepicker-overlay" id="glocation_body"><div class="cmpnt-cal-wrap" ><div class="cmpnt-calndr cmpnt-locatn" id ="widget_holder"><em class="siqico-close" data-target="close"></em><header class="calndr-head siqico-location"><input type="text" id="searchplace" placeholder="'+LSResource.getRealValue("widget.location.placeholder")+'"><em class="siqico-close" data-target="suggclose" style="display:none;"></em><div class ="cmpnt-srchloct" id="autocomplete" style="display : none;"></div>'+(c.callback?'<div class="calndr-sedulbtn" data-target="sendLocation">'+(getEncodedText(c.select_label)||LSResource.getRealValue("widget.location.send"))+"</div>":"")+"</header></div></div></div>"},suggestion:function(e){var t=e.display_name.split(","),a=k(e);return'<div class="zsiq-dtfix locat-fld '+(a?"zsiq_outofrange":"")+'" lat='+e.lat+" lng="+e.lon+(a?"":' data-target="suggestion"')+'><div><span class="siqico-location zsiq-dcell zsiq-pR10"></span><div class="zsiq-dcell"><div>'+t[0]+'</div><div class="zsiq-c777">'+t[1]+"</div>"+(a?'<div class="zsiq_ofrcont">'+LSResource.getRealValue("bot.location.outofrange")+"</div>":"")+"</div></div></div>"}}[e](t)},k=function(e){return R(e.lat,e.lon)>c.radius},T=function(e,t){if(c=c||{},f(),d&&d.removeEventListener("click",m),u)g&&w(e,t);else{var a="<link href='"+v().zmapapicss+"' rel='stylesheet' />";p.document.head.insertAdjacentHTML("beforeend",a),(u=document.createElement("script")).src=v().zmapapiurl,p.document.head.appendChild(u),u.onload=function(){g=v().mapboxgl,w(e,t)}}},w=function(e,t){e&&t?y(e,t):navigator.geolocation.getCurrentPosition(function(e){y(e.coords.latitude,e.coords.longitude)},function(){y(37.686091,-121.893752)})},A=function(e){var t={close:function(){d&&d.addEventListener("click",m),o.remove(),l=null,removeEventListener("click",_event)},sendLocation:function(){var t;t=l.getLngLat(),q(t.lat,t.lng,function(e){e.error?c.callback({type:"location",value:{lat:t.lat,lng:t.lng,image:b(t.lat,t.lng)},msg:t.lat+","+t.lng,id:n}):c.callback({type:"location",value:{street:e.address.road||e.address.village||"",city:e.address.state_district||"",state:e.address.state||"",lat:e.lat,lng:e.lon,image:b(e.lat,e.lon)},msg:e.display_name,id:n})}),l=null,o.remove(),removeEventListener("click",_event)},suggestion:function(){P(e),z(),r.value="",r.parentElement.querySelector("[data-target = 'suggclose']").style.display="none"},suggclose:function(){z(),r.value="",e.target.style.display="none"}},a=e.target.getAttribute("data-target");"function"==typeof t[a]&&t[a](),e.target!=r&&l&&z()},P=function(e){var t=e.target.getAttribute("lng"),a=e.target.getAttribute("lat");if(c.radius&&R(a,t)>c.radius)return;h(a,t),i.flyTo({center:[t,a],zoom:12})},x=function(e,t){i.addSource("radius_source",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[t,e]}}]}}),i.addLayer({type:"circle",id:"radius",source:"radius_source",layout:{visibility:"visible"},paint:{"circle-radius":{stops:[[0,0],[20,C(c.radius,e)]],base:2},"circle-color":"rgba(0, 102, 204, 0.2)","circle-opacity":1}}),i.flyTo({center:[t,e],zoom:12}),i.on("click","radius",function(e){h(e.lngLat.lat,e.lngLat.lng)})},R=function(e,t){var a=c.lat,n=c.lng,i=H(a),l=H(e),o=H(e-a),s=H(t-n),r=Math.sin(o/2)*Math.sin(o/2)+Math.cos(i)*Math.cos(l)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},C=function(e,t){return e/.075/Math.cos(t*Math.PI/180)},H=function(e){return e*Math.PI/180},I=function(n,i,l){var o;return function(){var e=this,t=arguments,a=l&&!o;clearTimeout(o),o=setTimeout(function(){o=null,l||n.apply(e,t)},i),a&&n.apply(e,t)}};return{init:function(e,t){c=e,n=t,f(),a()},getStaticImage:function(e,t){return b(e,t)},loadMap:function(e,t){T(e,t)},reverseGeoCoding:function(e,t,a){q(e,t,a)},openMapsFromImage:function(e){var t,a,n;a=(t=e).target.getAttribute("lat"),n=t.target.getAttribute("lng"),c={},T(a,n)}}}();var TimeZone=function(){function T(n,i){var e,a='<div class="cmpnt-time-list">!{list}</div>',f="";return[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT+13:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-9:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-9:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT+13:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-9:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-8:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-8:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-7:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-7:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-6:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-6:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-4:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-5:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-4:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-4:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-4:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-4:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-3:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-3:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-3:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-3:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-3:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-2:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-2:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-2:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT+0:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT+0:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+1:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+1:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+1:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+2:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+2:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+2:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+2:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+2:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+3:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+3:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+4:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+5:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+7:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+5:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+8:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+11:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:00",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}].forEach(function(e){var a=n.toLowerCase(),m=e.name.toLowerCase(),t=e.gmt.toLowerCase();(!n||m.includes(a)||t.includes(a))&&(f+='<div data-target="timezone" data="'+e.gmt+'">'+(i?e.gmt:"")+" "+e.name+"</div>")}),a=f?a.replace("!{list}",f):(e=n,'<div class="zsiq-emptytime"><div><div class="zsiq-nosrch">'+LSResource.getRealValue("widget.timezone.searchnotfound",e)+"</div></div></div>")}return{getTimeZoneHTML:function(e){return a=e,'<div class="zsiq-time-zone" id="tz-list"><div class="zsiq-time-srch" ><em class="sqico-search" ></em><input placeholder="'+LSResource.getRealValue("widget.timezone.search")+'"></div>'+T("",a)+"</div>";var a},handleSearch:function(e,a,m){var t,n,i,f;n=m,i=(t=a).value,(f=t.parentElement).nextElementSibling&&f.nextElementSibling.remove(),f.insertAdjacentHTML("afterend",T(i,n))},getTimeZone:function(){return[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT+13:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-9:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-9:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT+13:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-9:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-8:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-8:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-7:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-7:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-6:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-6:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-4:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-5:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-4:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-4:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-4:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-4:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-3:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-3:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-3:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-3:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-3:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-2:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-2:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-2:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT+0:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT+0:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+1:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+1:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+1:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+2:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+2:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+2:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+2:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+2:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+3:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+3:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+4:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+5:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+7:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+5:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+8:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+11:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:00",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}]},getCurrentTimeZone:function(){return function(){var e=(new Date).getTimezoneOffset(),a=[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT+13:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-9:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-9:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT+13:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-9:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-8:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-8:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-8:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-7:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-7:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-7:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-6:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-6:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-6:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-6:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-4:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-5:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-5:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-5:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-5:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-4:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-4:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-4:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-4:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-4:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-4:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-4:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-3:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-3:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-3:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-3:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-3:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-3:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-2:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-2:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-2:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-2:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT+0:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT+0:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+1:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+1:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+1:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+1:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+1:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+1:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+2:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+2:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+2:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+2:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+2:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+2:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+3:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+3:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+3:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+3:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+3:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+4:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+5:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+7:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+5:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+8:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+11:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:00",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}],m={};for(var t in a)if(e==a[t].offset){m.gmt=a[t].gmt,m.name=a[t].name;break}return m}()}}}();var ZSIQInput=function(){var r={tel:"phone",name:"text"},e=function(a,i){this.dataval=a,this.callback=a.callback,this.componentid=i,this.chatid=a.chatid};return e.prototype={init:function(){var a=ZSIQTranscript.getFormatedHTML($Widget.getLayout());a=(a=(a=a.replace(/{BOT_WIDGET}/g,this.getInputHtml())).replace(/{CLASSNAME}/g,"botinput")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(a,!0),this.element=$("#bot_widget"+this.componentid),this.element.parents(".ziq_msg").attr("data-widget","input"),this.bindEvent()},getInputHtml:function(){var a=this.dataval,i="";"tel"==a.type&&(i='<div class="tel_li"><div class="teldrop sbold"></div></div>');var e="text",n="",t="";return"password"==a.type&&(e="password",n='<em class="sqico-enable tgl-ico" property="pwdtoggle"></em>',t="posrel"),a.error=a.error||LSResource.getRealValue("cw.common.error"),'<div class="input_widget"><div class="'+("tel"==a.type?"tel_wget ":"")+"input_div "+t+'">'+i+'<input type="'+e+'" data-validate="required '+(r[a.type]||a.type)+'" placeholder="'+(a.placeholder||"")+'" value="'+(a.value||"")+'" data-type="input" data-validate="'+(a.type||"")+'" class="sbold">'+n+'</div><div class="inpt_wd_fdr"><div class="inptwget_error txtelips sbold" title="'+a.error+'">'+a.error+'</div><div class="inptwget_sumbt flexC sbold">'+LSResource.getRealValue("embed.submit")+'<em class="sqico-larrow flexC"></em></div></div></div>'},bindEvent:function(){var i=this,n=this.element,a=n.find(".inptwget_sumbt");a.on("click",function(){i.handleConfirm()}),"password"==this.dataval.type&&n.find('[property="pwdtoggle"]').on("click",function(){var a=n.find("input"),i="password"===a.attr("type")?"text":"password",e="text"==i?"sqico-disable":"sqico-enable";a.prop("type",i),$(this).removeClass("sqico-disable sqico-enable").addClass(e)}),n.find("input").on("keyup",function(a){n.find(".inptwget_error").css("visibility","hidden"),13==a.keyCode&&i.handleConfirm()}).on("focus",function(){a.removeClass("sel").addClass("sel")}).on("blur",function(){a.removeClass("sel")}),"tel"==this.dataval.type&&this.handleDropdown(),n.find("input").focus()},validate:function(){return this.element.find('[data-type="input"]').validateInput()},handleDropdown:function(){ZSIQDropdown.init({options:function(){var a={"+61":"Australia","+93":"Afghanistan","+355":"Albania","+213":"Algeria","+1-684":"American Samoa","+376":"Andorra","+244":"Angola","+1-264":"Anguilla","+672":"Antarctica","+1-268":"Antigua and Barbuda","+54":"Argentina","+374":"Armenia","+297":"Aruba","+43":"Austria","+994":"Azerbaijan","+1-242":"Bahamas","+973":"Bahrain","+880":"Bangladesh","+1-246":"Barbados","+375":"Belarus","+32":"Belgium","+501":"Belize","+229":"Benin","+1-441":"Bermuda","+975":"Bhutan","+591":"Bolivia","+387":"Bosnia and Herzegovina","+267":"Botswana","+55":"Brazil","+246":"British Indian Ocean Territory","+1-284":"British Virgin Islands","+673":"Brunei","+359":"Bulgaria","+226":"Burkina Faso","+257":"Burundi","+855":"Cambodia","+237":"Cameroon","+1":"United States","+238":"Cape Verde","+1-345":"Cayman Islands","+236":"Central African Republic","+235":"Chad","+56":"Chile","+86":"China","+57":"Colombia","+269":"Comoros","+682":"Cook Islands","+506":"Costa Rica","+385":"Croatia","+53":"Cuba","+599":"Netherlands Antilles","+357":"Cyprus","+420":"Czech Republic","+243":"Democratic Republic of the Congo","+45":"Denmark","+253":"Djibouti","+1-767":"Dominica","+1-809, 1-829, 1-849":"Dominican Republic","+670":"East Timor","+593":"Ecuador","+20":"Egypt","+503":"El Salvador","+240":"Equatorial Guinea","+291":"Eritrea","+372":"Estonia","+251":"Ethiopia","+500":"Falkland Islands","+298":"Faroe Islands","+679":"Fiji","+358":"Finland","+33":"France","+689":"French Polynesia","+241":"Gabon","+220":"Gambia","+995":"Georgia","+49":"Germany","+233":"Ghana","+350":"Gibraltar","+30":"Greece","+299":"Greenland","+1-473":"Grenada","+1-671":"Guam","+502":"Guatemala","+44-1481":"Guernsey","+224":"Guinea","+245":"Guinea-Bissau","+592":"Guyana","+509":"Haiti","+504":"Honduras","+852":"Hong Kong","+36":"Hungary","+354":"Iceland","+91":"India","+62":"Indonesia","+98":"Iran","+964":"Iraq","+353":"Ireland","+44-1624":"Isle of Man","+972":"Israel","+39":"Italy","+225":"Ivory Coast","+1-876":"Jamaica","+81":"Japan","+44-1534":"Jersey","+962":"Jordan","+7":"Russia","+254":"Kenya","+686":"Kiribati","+383":"Kosovo","+965":"Kuwait","+996":"Kyrgyzstan","+856":"Laos","+371":"Latvia","+961":"Lebanon","+266":"Lesotho","+231":"Liberia","+218":"Libya","+423":"Liechtenstein","+370":"Lithuania","+352":"Luxembourg","+853":"Macau","+389":"Macedonia","+261":"Madagascar","+265":"Malawi","+60":"Malaysia","+960":"Maldives","+223":"Mali","+356":"Malta","+692":"Marshall Islands","+222":"Mauritania","+230":"Mauritius","+262":"Reunion","+52":"Mexico","+691":"Micronesia","+373":"Moldova","+377":"Monaco","+976":"Mongolia","+382":"Montenegro","+1-664":"Montserrat","+212":"Western Sahara","+258":"Mozambique","+95":"Myanmar","+264":"Namibia","+674":"Nauru","+977":"Nepal","+31":"Netherlands","+687":"New Caledonia","+64":"Pitcairn","+505":"Nicaragua","+227":"Niger","+234":"Nigeria","+683":"Niue","+850":"North Korea","+1-670":"Northern Mariana Islands","+47":"Svalbard and Jan Mayen","+968":"Oman","+92":"Pakistan","+680":"Palau","+970":"Palestine","+507":"Panama","+675":"Papua New Guinea","+595":"Paraguay","+51":"Peru","+63":"Philippines","+48":"Poland","+351":"Portugal","+1-787, 1-939":"Puerto Rico","+974":"Qatar","+242":"Republic of the Congo","+40":"Romania","+250":"Rwanda","+590":"Saint Martin","+290":"Saint Helena","+1-869":"Saint Kitts and Nevis","+1-758":"Saint Lucia","+508":"Saint Pierre and Miquelon","+1-784":"Saint Vincent and the Grenadines","+685":"Samoa","+378":"San Marino","+239":"Sao Tome and Principe","+966":"Saudi Arabia","+221":"Senegal","+381":"Serbia","+248":"Seychelles","+232":"Sierra Leone","+65":"Singapore","+1-721":"Sint Maarten","+421":"Slovakia","+386":"Slovenia","+677":"Solomon Islands","+252":"Somalia","+27":"South Africa","+82":"South Korea","+211":"South Sudan","+34":"Spain","+94":"Sri Lanka","+249":"Sudan","+597":"Suriname","+268":"Swaziland","+46":"Sweden","+41":"Switzerland","+963":"Syria","+886":"Taiwan","+992":"Tajikistan","+255":"Tanzania","+66":"Thailand","+228":"Togo","+690":"Tokelau","+676":"Tonga","+1-868":"Trinidad and Tobago","+216":"Tunisia","+90":"Turkey","+993":"Turkmenistan","+1-649":"Turks and Caicos Islands","+688":"Tuvalu","+1-340":"U.S. Virgin Islands","+256":"Uganda","+380":"Ukraine","+971":"United Arab Emirates","+44":"United Kingdom","+598":"Uruguay","+998":"Uzbekistan","+678":"Vanuatu","+379":"Vatican","+58":"Venezuela","+84":"Vietnam","+681":"Wallis and Futuna","+967":"Yemen","+260":"Zambia","+263":"Zimbabwe"},i=[];for(var e in a)i.push({key:e,val:a[e],subval:e});return i}(),selected:this.dataval.country_code||"+1",element:this.element.find(".teldrop"),currentlist_header:"cw.current.country",list_header:"cw.other.country",placeholder:"cw.search.country",callback:function(){this.element.find('[data-type="input"]').focus()},chatid:this.chatid})},handleConfirm:function(){var a=this.element;if(!this.validate())return a.find(".inptwget_error").css("visibility","visible"),void a.find("input").focus();var i=a.find("#dropdownheader").text()+" "+a.find('[data-type="input"]').val(),e=i;"password"==this.dataval.type&&(i=i.trim(),e=Array(i.length+1).join("*")),a.parents(".ziq_msg").removeAttr("data-widget").removeAttr("data-wtype").removeClass("siq_widget"),this.callback({type:this.dataval.type,msg:e,id:this.componentid,value:i,config:this.dataval,chatid:this.chatid})}},{init:function(a,i){new e(a,i).init()}}}();var ConversationFormInput=function(){var a=function(t,e){this.dataval=t,this.chatid=t.chatid,this.contentdiv=ZSIQConversationManager.getChatWinObjById(this.chatid).contentdiv};return a.prototype={init:function(){this.populateUI()},populateUI:function(){$Widget.attachHTML(""),ZSIQTranscript.scroll(),this.handleTextarea()},handleTextarea:function(){var t=this.dataval,e=t.fieldtype?t.fieldtype.replace("_",""):"";this.contentdiv&&this.contentdiv.find("#msgarea").attr("data-validate","required "+t.validate).attr("purpose",e).attr("data-type",e).attr("placeholder",t.placeholder).attr("dockeyup","validateConversation").attr("fieldtype",t.fieldname).attr("iscustomfield",t.iscustomfield).removeAttr("readonly").removeAttr("disabled").focus(),this.contentdiv&&this.contentdiv.find("#action_icons").show()}},{init:function(t,e){new a(t,e).init()},resetMessageArea:function(t){var e=$Support.EmbedObj.status,a=ZSIQConversationManager.getChatWinObjById(t),i=ZSIQConversationForm.getSelectedDeptstatus(a.department),n=(e=null!=i?e&&i:e)?"sendmessage":"leavemessage",r=ZSIQConversationManager.getChatWinObjById(t).contentdiv||$Support.contentdiv;r.find("#msgarea").attr("data-validate","required").attr("purpose","").attr("placeholder",LSResource.getRealValue("ne.message.hitenter")).attr("dockeyup",n).attr("custom","question").removeAttr("data-type").removeAttr("fieldtype").val(""),r.find("#skipquestion").remove()}}}();var ZSIQContactCard=function(){var n={tel:"phone",name:"text"},i=function(a,e){this.dataval=a,this.callback=a.callback,this.componentid=e,this.chatid=a.chatid};return i.prototype={init:function(){var a=ZSIQTranscript.getFormatedHTML($Widget.getLayout());a=(a=(a=a.replace(/{BOT_WIDGET}/g,this.getInputHtml())).replace(/{CLASSNAME}/g,"botinput")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(a,!0),this.element=$("#bot_widget"+this.componentid),this.bindEvent()},getInputHtml:function(){var a="";for(var e in this.dataval.fields){var i=this.dataval.fields[e];i.error=i.error&&i.error[0]?i.error[0]:LSResource.getRealValue("cw.common.error"),a+='<div class="'+("tel"==i.type?"tel_wget ":"")+'input_div">'+("tel"==i.type?'<div class="tel_li"><div class="teldrop"></div></div>':"")+'<input type="text" data-validate="'+(i.required?"required ":"")+(n[i.type]||i.type)+'" placeholder="'+(i.placeholder||"")+'" value="'+(i.value||"")+'" data-type="input" data-fieldtype="'+i.type+'" data-validate="'+(i.type||"")+'">'+(i.label?'<span class="cfld_pholder txtelips'+(i.required?" reg_fld":"")+'">'+i.label+"</span>":"")+'<span class="error_msg">'+i.error+"</span></div>"}return'<div class="input_widget mT15">'+a+'<div class="inpt_wd_fdr mT25"><div class="inptwget_sumbt flexC">'+LSResource.getRealValue("embed.submit")+"</div></div></div>"},bindEvent:function(){var a=this,e=this.element;e.find(".inptwget_sumbt").on("click",function(){a.handleConfirm()}),e.on("keydown","input",function(a){9!=a.keyCode&&$(this).parent().addClass("hide_plhld")}),e.on("keyup","input",function(){var a=$(this),e=a.parent();e.removeClass("hide_plhld").removeClass("error_fld"),a.val()&&e.addClass("hide_plhld")}),this.handleDropdown()},handleDropdown:function(){var a=this.element.find(".teldrop");0==a.length||a.find(".drop_hdr").length||ZSIQDropdown.init({options:function(){var a={"+93":"Afghanistan","+355":"Albania","+213":"Algeria","+1-684":"American Samoa","+376":"Andorra","+244":"Angola","+1-264":"Anguilla","+672":"Antarctica","+1-268":"Antigua and Barbuda","+54":"Argentina","+374":"Armenia","+297":"Aruba","+61":"Cocos Islands","+43":"Austria","+994":"Azerbaijan","+1-242":"Bahamas","+973":"Bahrain","+880":"Bangladesh","+1-246":"Barbados","+375":"Belarus","+32":"Belgium","+501":"Belize","+229":"Benin","+1-441":"Bermuda","+975":"Bhutan","+591":"Bolivia","+387":"Bosnia and Herzegovina","+267":"Botswana","+55":"Brazil","+246":"British Indian Ocean Territory","+1-284":"British Virgin Islands","+673":"Brunei","+359":"Bulgaria","+226":"Burkina Faso","+257":"Burundi","+855":"Cambodia","+237":"Cameroon","+1":"United States","+238":"Cape Verde","+1-345":"Cayman Islands","+236":"Central African Republic","+235":"Chad","+56":"Chile","+86":"China","+57":"Colombia","+269":"Comoros","+682":"Cook Islands","+506":"Costa Rica","+385":"Croatia","+53":"Cuba","+599":"Netherlands Antilles","+357":"Cyprus","+420":"Czech Republic","+243":"Democratic Republic of the Congo","+45":"Denmark","+253":"Djibouti","+1-767":"Dominica","+1-809, 1-829, 1-849":"Dominican Republic","+670":"East Timor","+593":"Ecuador","+20":"Egypt","+503":"El Salvador","+240":"Equatorial Guinea","+291":"Eritrea","+372":"Estonia","+251":"Ethiopia","+500":"Falkland Islands","+298":"Faroe Islands","+679":"Fiji","+358":"Finland","+33":"France","+689":"French Polynesia","+241":"Gabon","+220":"Gambia","+995":"Georgia","+49":"Germany","+233":"Ghana","+350":"Gibraltar","+30":"Greece","+299":"Greenland","+1-473":"Grenada","+1-671":"Guam","+502":"Guatemala","+44-1481":"Guernsey","+224":"Guinea","+245":"Guinea-Bissau","+592":"Guyana","+509":"Haiti","+504":"Honduras","+852":"Hong Kong","+36":"Hungary","+354":"Iceland","+91":"India","+62":"Indonesia","+98":"Iran","+964":"Iraq","+353":"Ireland","+44-1624":"Isle of Man","+972":"Israel","+39":"Italy","+225":"Ivory Coast","+1-876":"Jamaica","+81":"Japan","+44-1534":"Jersey","+962":"Jordan","+7":"Russia","+254":"Kenya","+686":"Kiribati","+383":"Kosovo","+965":"Kuwait","+996":"Kyrgyzstan","+856":"Laos","+371":"Latvia","+961":"Lebanon","+266":"Lesotho","+231":"Liberia","+218":"Libya","+423":"Liechtenstein","+370":"Lithuania","+352":"Luxembourg","+853":"Macau","+389":"Macedonia","+261":"Madagascar","+265":"Malawi","+60":"Malaysia","+960":"Maldives","+223":"Mali","+356":"Malta","+692":"Marshall Islands","+222":"Mauritania","+230":"Mauritius","+262":"Reunion","+52":"Mexico","+691":"Micronesia","+373":"Moldova","+377":"Monaco","+976":"Mongolia","+382":"Montenegro","+1-664":"Montserrat","+212":"Western Sahara","+258":"Mozambique","+95":"Myanmar","+264":"Namibia","+674":"Nauru","+977":"Nepal","+31":"Netherlands","+687":"New Caledonia","+64":"Pitcairn","+505":"Nicaragua","+227":"Niger","+234":"Nigeria","+683":"Niue","+850":"North Korea","+1-670":"Northern Mariana Islands","+47":"Svalbard and Jan Mayen","+968":"Oman","+92":"Pakistan","+680":"Palau","+970":"Palestine","+507":"Panama","+675":"Papua New Guinea","+595":"Paraguay","+51":"Peru","+63":"Philippines","+48":"Poland","+351":"Portugal","+1-787, 1-939":"Puerto Rico","+974":"Qatar","+242":"Republic of the Congo","+40":"Romania","+250":"Rwanda","+590":"Saint Martin","+290":"Saint Helena","+1-869":"Saint Kitts and Nevis","+1-758":"Saint Lucia","+508":"Saint Pierre and Miquelon","+1-784":"Saint Vincent and the Grenadines","+685":"Samoa","+378":"San Marino","+239":"Sao Tome and Principe","+966":"Saudi Arabia","+221":"Senegal","+381":"Serbia","+248":"Seychelles","+232":"Sierra Leone","+65":"Singapore","+1-721":"Sint Maarten","+421":"Slovakia","+386":"Slovenia","+677":"Solomon Islands","+252":"Somalia","+27":"South Africa","+82":"South Korea","+211":"South Sudan","+34":"Spain","+94":"Sri Lanka","+249":"Sudan","+597":"Suriname","+268":"Swaziland","+46":"Sweden","+41":"Switzerland","+963":"Syria","+886":"Taiwan","+992":"Tajikistan","+255":"Tanzania","+66":"Thailand","+228":"Togo","+690":"Tokelau","+676":"Tonga","+1-868":"Trinidad and Tobago","+216":"Tunisia","+90":"Turkey","+993":"Turkmenistan","+1-649":"Turks and Caicos Islands","+688":"Tuvalu","+1-340":"U.S. Virgin Islands","+256":"Uganda","+380":"Ukraine","+971":"United Arab Emirates","+44":"United Kingdom","+598":"Uruguay","+998":"Uzbekistan","+678":"Vanuatu","+379":"Vatican","+58":"Venezuela","+84":"Vietnam","+681":"Wallis and Futuna","+967":"Yemen","+260":"Zambia","+263":"Zimbabwe"},e=[];for(var i in a)e.push({key:i,val:a[i],subval:i});return e}(),selected:this.dataval.country_code||"+1",element:a,currentlist_header:"cw.current.country",list_header:"cw.other.country",placeholder:"cw.search.country",callback:function(){this.element.find('[data-type="input"]').focus()}})},handleConfirm:function(){var a=this.element,t={},r="",o=!0;a.find("input[data-validate]").each(function(){var a=$(this),e=a.parent();if(!a.validateInput())return e.addClass("error_fld"),a.focus(),o=!1;var i=(-1!=a.attr("data-validate").indexOf("phone")?e.find("#dropdownheader").text()+" ":"")+a.val(),n=a.attr("data-fieldtype");t[n]=i,r+=(r?", ":"")+n+" : "+i}),o&&(a.parents(".ziq_msg").removeAttr("data-widget").removeAttr("data-wtype").removeClass("siq_widget"),this.callback({type:this.dataval.type,msg:r,id:this.componentid,value:t,config:this.dataval,chatid:this.chatid}))}},{init:function(a,e){new i(a,e).init()}}}();var ZSIQForm=function(){var i=function(e,t){this.chatid=e.chatid,this.chatobj=ZSIQTranscript.getChatWindowOBJ(this.chatid),this.fields=e.msglist,this.callback=e.callback,this.componentid=t,this.userconfig=e||{},this.dname=this.chatobj.attendername||e.dname||ZSIQConversationForm.getOperatorName(),this.title=e.title||ZSIQConversationForm.getFormQuestion(),this.contentdiv=this.chatobj.contentdiv},c=function(e){return e?'<em class="mL5 req">*</em>':""},l=function(e){var t=e.input_card||{},i=e.skippable?"optional":"required",s=e.type||e.format||"text",a=t.maxlength||"url"==e.format||"textarea"==e.type?100:30,o=i+" "+s,n=!!e.iscustomfield,r=t.visibility||"both",d=n?"custom":!n&&t.type?t.type.replace("_",""):e.field_name,c=((e.input_card?e.input_card.placeholder:e.field_name)||ZSIQConversationForm.getDefaultPlaceholder(d),getEscapedText(e.field_name)||d);return'index="'+e.index+'" custom="'+c+'" purpose="'+d+'" customid="'+c+'" visibility="'+r+'" id="'+c+'" fieldkey="'+ZSIQConversationForm.getDefaultPostMessage(d)+'"name="'+c+'" data-validate="'+o+'" autocomplete="off" maxlength="'+a+'" info="'+s+'"'},p=function(e){getEscapedText(e.name||e.field_name);return'<div class="field_main posrel" field-type="dropdown"><div id="sqico-cdrpdwn" class="dropdown mT15 sqico-drpdwn siq-dropdown" type="selectbox" '+l(e)+"></div></div>"},u=function(e){var t=e.input_card||{},i=(e.options,getEscapedText(e.field_name)),s=c(!e.skippable),a=e.msg,o=a?'<span class="field_lable font14">'+getEscapedText(a)+s+"</span>":"",n=$.parseJSON(e.required)?'iserrorfield="true"':"",r=e.iscustomfield?"custom":e.key;return o+='<div class="custombtn" purpose="'+r+'" fieldkey="'+r+'" type="'+t.type+'" visibility="'+t.visibility+'" custom="'+i+'" '+l(e)+' data-validate="" '+n+">"};return i.prototype={init:function(){this.populateUI()},populateUI:function(){this.populateFormTitle();var e=!!this.userconfig.isuseredit||"",t=this.userconfig.triggerclbk?'callback = "'+this.userconfig.triggerclbk+'"':"",i='<div class="form_content pLR16" id="siqform" isuseredit = '+e+">",s=this.chatobj;for(var a in this.fields){var o=this.fields[a].meta?this.fields[a].meta:{},n=o.input_card||{};this.fields[a].meta&&(this.fields[a].meta.index=a),"subscribe"==o.key&&e||(o.msg=this.fields[a].msg,n.type&&!/^(visitor_phone|visitor_name|visitor_email||campaign)$/.exec(n.type)&&(o.iscustomfield=!0),"department"!=o.field_name?i+=this.getHTML(this.fields[a].meta):"-1"!=$Support.EmbedObj.department||e||-1!=s.department||(this.fields[a].meta.suggestions=$Support.getEmbedDepartments(),i+=p(this.fields[a].meta)))}i+='<div id="customfields"></div><div class="save" data-val = '+LSResource.getRealValue("common.done")+' id="siqformsave"'+t+">"+LSResource.getRealValue("common.done")+"</div>"+this.checkAndGetSkipHTML()+"</div>";var r=$Widget.getLayout();r=(r=(r=r.replace(/{BOT_WIDGET}/g,i)).replace(/{CLASSNAME}/g,"botform")).replace(/{WIDGET_TYPE}/g,"input-card"),$Widget.attachHTML(r),this.handleDropdown(),this.reStoreValues(),this.bindEvents()},populateFormTitle:function(){var e=!(!this.userconfig.isuseredit&&!this.userconfig.triggerclbk),t=this.componentid?MyDate.getHoursandMin(this.componentid,!0,"bclient"):"";this.title&&!e&&$BotImpl.formatAndDisplay({sender:"-1",dname:this.dname,msg:getEncodedText(this.title),time:t},"",!0)},checkAndGetSkipHTML:function(){for(var e=this.userconfig.msglist,t=!1,i=!!this.userconfig.isuseredit,s=0;s<e.length;s++)if(e[s].meta&&0==e[s].meta.skippable){t=!0;break}return!t||i?'<div class="save siq-skip" data-val = '+LSResource.getRealValue("common.skip")+' id="siqformskip">'+LSResource.getRealValue("common.skip")+"</div>":""},getHTML:function(s){var e,t,i,a,o,n,r,d=s.format?s.format:s.input_card?s.input_card.type:"text";return/^(number|text|email|phone|url|percentage|decimal|percent|website)$/.exec(d)?(e=s,t=$Support.EmbedObj.errorinfo||{},i=e&&e.input_card&&e.input_card.type?e.input_card.type:"",a=e.iscustomfield?i:"vis"+i.replace("visitor_",""),o=e.iscustomfield?"custom":i.replace("_","")||e.field_name,n=e.input_card?getEscapedText(e.input_card.placeholder)||ZSIQConversationForm.getDefaultPlaceholder(o):"",r=t[a]?t[a]:/^number|email|url|percentage|percent|decimal|name|email|phone$/.exec(a)?LSResource.getRealValue("ne.errorinfo."+a):"",'<div class="field_main posrel" type="'+e.format+'"><input type="text" class="input_field font15" value="" '+l(e)+' docfocus="inputFocus" dockeydown="removeError" docblur="custominput"/><span class="field_title font15 txtelips w100">'+n+c(!e.skippable)+'</span><em class="sqico-invalid txt-invalid dN" purpose="invalid" title="'+r+'"></em></div>'):{checkbox:function(){return function(e){for(var t=e.input_card?e.input_card.options:e.options,i=getEscapedText(e.field_name),s="",a=0;a<t.length;a++){var o=t[a],n=getEscapedText(o.text),r=getEscapedText(o.value);s+='<span class="posrel dIB mT10"><input type="checkbox" class="hide_fld" id="'+r+'" name="'+i+'" value="'+r+'"><span class="checkbox sqico-checkbox siq-check"><label for="'+r+'" class="curP dib-mid">'+n+"</label></span></span>"}return'<div class="field_main posrel pL15" field-type="checkbox" custombx="true" customid="'+i+'">'+u(e)+'<div class="w100">'+s+"</div></div></div>"}(s)},radio:function(){return function(e){for(var t=e.input_card?e.input_card.options:e.options,i=getEscapedText(e.field_name)||"",s="",a=0;a<t.length;a++){var o=t[a],n=getEscapedText(o.text),r=getEscapedText(o.value);s+='<span class="posrel dIB"><input type="radio" class="hide_fld" id="'+r+'" name="'+i+'" value="'+r+'"><span class="checkbox sqico-radio siq-radio"><label for="'+r+'" class="curP dib-mid">'+n+"</label></span></span>"}return'<div class="field_main posrel pL15" field-type="radio" custombx="true" customid="'+i+'">'+u(e)+"<div>"+s+"</div></div></div>"}(s)},selectbox:function(){return p(s)},textarea:function(){return e=s,t=getEscapedText(e.field_name)||"",i=getEscapedText(e.msg)||t,'<div custom="'+t+'" type="'+e.key+'" customid="'+t+'" custombx="true" purpose = "custom" class="field_main posrel" field-type="textarea"><textarea type="text" class="input_field font15" value="" visibility="'+e.visibility+'" '+l(e)+' docfocus="inputFocus" dockeydown="removeError" docblur="custominput"></textarea><span class="field_title font15">'+i+c(e.required)+"</span></div>";var e,t,i},label:function(){return(e=s).msg?'<div class="subtitle mT20 lH20 pL15 c333" purpose = "custom" customid="'+(getEscapedText(e.field_name)||"")+'" custombx="true">'+getEscapedText(e.msg)+"</div>":"";var e}}[d]()||""},handleDropdown:function(){var e=this.contentdiv.find("#siqform"),n=this;e.find(".sqico-drpdwn").each(function(){var e=$(this),t=e.attr("index"),i=n.fields[t],s=!i.meta||!i.meta.iscustomfield,a=i.meta?i.meta.suggestions||(i.meta.input_card?i.meta.input_card.options:""):i.options,o=s?LSResource.getRealValue("ne.chosedepartment"):i.msg||(i.meta?i.meta.field_name:"");e.dropdown({options:a,purpose:s?"department":"customdrpdwn",defaultval:o+c("true")})})},reStoreValues:function(){var e=this.contentdiv.find("#siqform"),t=$Support.EmbedObj,i=e.find('[purpose = "visitorname"]'),s=e.find('[purpose = "visitoremail"]'),a=e.find('[purpose = "visitorphone"]');t.visitorname&&!$Support.Util.isInValidVisitorName(t.visitorname)&&0<i.length&&this.setValue(i,t.visitorname),t.visitoremail&&0<s.length&&this.setValue(s,t.visitoremail),t.visitorphone&&0<a.length&&this.setValue(a,t.visitorphone)},setValue:function(e,t){$(e).trigger("focus"),$(e).val(t)},bindEvents:function(){var t=this;this.contentdiv.find("#siqformsave, #siqformskip").on("click",function(e){t.callback(t.userconfig,"",e)}),this.contentdiv.find("#siqform").on("keyup",function(e){"13"==(e.keyCode?e.keyCode:e.which)&&t.callback(t.userconfig,"",e)})}},{init:function(e,t){new i(e,t).init()}}}();var ZSIQLinkInfo=function(){var a=function(i,t){this.data=$.extend(i.link_info||{},i),this.data.id=t},l=function(t){try{return t.provider_name||t.url.split("://")[1].split(/[/?#]/)[0]}catch(i){return t.url||""}},s=function(i){if(i.html){if(!i.autoplay)return i.html;var t=$(i.html),n=t.attr("src");return t.attr("src",n+(-1==n.indexOf("?")?"?":"&")+"autoplay=1")[0].outerHTML}return"<video controls "+(i.autoplay?"autoplay":"")+'><source src="'+i.url+'" type="video/'+i.url.split(".").pop()+'">'+(i.subtitles?'<track label="English" kind="subtitles" srclang="en" src="'+i.subtitles+'" default=""/>':"")+"</video>"};return a.prototype={render:function(){var i,t,n;$Widget.attachHTML((i=this.data,t=this.data.id,n=$Widget.getMessageOBJ().msg,'<div class="linfo_widget" id="linkinfo_'+t+'"><div class="linfo_main"><div class="linfo_submain"><div class="flexC">'+(i.favicon_link?'<img src="'+i.favicon_link+'" class="linfo_fav">':"")+'<span class="linfo_proname">'+l(i)+"</span></div>"+(i.title?'<div class="font16 sbold mT5 mB5 c222">'+i.title+"</div>":"")+(i.description?'<div class="c555 mB10">'+i.description+"</div>":"")+"</div>"+(i.thumbnail_url?'<div class="linfo_thum"><img src="'+i.thumbnail_url+'" onload="$Support.handleUploadImageLoad( this )" />'+("video"==i.type?'<span class="sqico-play" id="linfoplay"></span>':"")+"</div>":"")+(i.thumbnail_url?"":s(i))+'</div></div><div class="linfo_url">'+i.url+"</div>"+(n?'<div class="linfo_msg">'+n+"</div>":"")))},setEvents:function(){var t=this.data,i=$("#linkinfo_"+this.data.id),n=i.find("#linfoplay");n.click(function(i){$(this).parent().replaceWith(s(t)),i.stopPropagation()}),i.click(function(){window.open(t.url)}),t.autoplay&&t.thumbnail_url&&n.trigger("click")}},{init:function(i,t){var n=new a(i,t);n.render(),n.setEvents()}}}();var ZSIQRelPhrases=function(){var a=function(t,i){this.data=t.msglist,this.id=i,this.callback=t.callback,this.chatid=t.chatid,this.chatdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).chatdiv};return a.prototype={renderMessages:function(){var t=this.getMessageHtml(this.data);$Widget.attachHTML(t,!0),this.bindEvent(),ZSIQTranscript.scroll()},getMessageHtml:function(){for(var t=this.data.list,i='<div class="rel-phr-wrap mT5">'+(this.data.title?'<div class="font15 c333">'+this.data.title+"</div>":"")+"<div>",a=0;a<t.length;a++){var s=t[a],e=s.text||"";i+='<div class="phrase-list " prop = "relphrase" data-value ="'+e+'" '+("article"==s.type?'article-id = "'+s.id+'"':"")+'><em class="circle-dot"></em><div class="dib-mid"><span class="lH20">'+e+"</span></div></div>"}return i+="</div></div>"},bindEvent:function(){var t=this;this.chatdiv.find("div[prop=relphrase]").off("click.relphrase").on("click.relphrase",function(){$(this).attr("article-id")?$FAQ.showFAQPreview($(this)):t.chooseField(this)})},chooseField:function(t){var i=(t=$(t)).attr("data-value");this.callback({msg:i,id:this.id,element:t,config:this.userconfig,data_value:i,config:this.userconfig,type:"related_phrases",chatid:this.chatid})}},{init:function(t,i){($BotImpl.enableComposer(),t.msglist)?new a(t,i).renderMessages():t.callback("",i)}}}();var ZSIQCarousal=function(){var e=function(t,i){this.data=t.elements,this.title=t.title,this.sliderlength=this.data.length,this.subtitle=t.subtitle,this.actions=t.actions||{},this.id=i,this.curindex=0,this.chatid=t.chatid,this.chatdiv=ZSIQTranscript.getChatWindowOBJ(this.chatid).chatdiv,this.type=t.type,this.faddingtime=0};return e.prototype={populateLayout:function(){var t=$Widget.getLayout();t=(t=(t=t.replace(/{BOT_WIDGET}/g,this.getCarouselHtml(this.curindex))).replace(/{CLASSNAME}/g,"single-product")).replace(/{WIDGET_TYPE}/g,"display-card"),this.componentcontainer=$(t),this.componentcontainer.find(".cmpnt-desc").addClass("sugg_titl"),this.componentcontainer.find('[prop ="slidercont"]').css("width",310*this.sliderlength+"px"),"multiple-product"==this.type?this.updateDotsHtml():this.dotscontainer=this.componentcontainer.find('[prop="dotsparent"]'),this.updateSliderIndex(0),this.bindEvent(),t=this.componentcontainer.prop("outerHTML"),$Widget.attachHTML(t,!0,"carousel"),delete this.componentcontainer},getCarouselHtml:function(){var t=this.getTitleObj(this.curindex),i=(this.getLabelAndActionHtml(this.curindex),'<div prop = "carouselcontainer" class="parentwin mT20 '+("multiple-product"==this.type?" multi-carosuel":"")+'">');return"multiple-product"==this.type&&(i+='<div class="inner-par"><div prop ="slidercont" class="slidercont">'+this.getSliderHtml()+"</div></div>"+this.getArrowHtml()+'<div class="p20"><p class="c333 font18 sbold" prop = "title">'+t.title+'</p><div class="c888 mT10" prop = "subtitle">'+t.subtitle+'</div></div><div prop="actiondiv">'+this.getLabelAndActionHtml(this.curindex)+"</div>"),"single-product"==this.type&&(i+='<div class="sinl-prw"><div class="inner-par"><div prop="slidercont" class="slidercont">'+this.getSliderHtml()+"</div>"+this.getArrowHtml()+this.getDotsHtml()+'</div><div class="p20"><p class="c333 font18 sbold" prop = "title">'+t.title+'</p><div class="c333" prop="subtitle">'+t.subtitle+'</div></div></div><div class="sinl-prw-link mT10">'+this.getLabelAndActionHtml(this.curindex)),i+="</div>"},getArrowHtml:function(){return 1==this.sliderlength?"":'<em class="nav-arw sqico-larrow" prop="sqicolarrow"></em><em class="nav-arw sqico-rarrow" prop="sqicorarrow"></em>'},getDotsHtml:function(){if(1==this.sliderlength)return"";for(var t='<div class="hide-buble" prop="activedots"><div class="more-buble mT15" prop="dotsparent">',i=0;i<this.sliderlength;i++)t+='<em prop="activedots" index="'+i+'"></em>';return t+="</div></div>"},updateDotsHtml:function(){var t=this.getDotsHtml(),i=this.getComponentContainer();i.closest(".msgbx");i.append(t),this.dotscontainer=i.find('[prop="dotsparent"]')},getTitleObj:function(t){var i,e;if("single-product"==this.type&&(i=this.title,e=this.subtitle),"multiple-product"==this.type){var s=this.data[t]||{};i=s.title,e=s.subtitle}return{title:i||"",subtitle:e||""}},getLabelAndActionHtml:function(t){var i=this.type,e=!0,s="single-product"==i?this.actions:{};"multiple-product"==i&&(s=(this.data[t]||{}).actions||{},e=!1);return $Widget.getCtaHtml(s,e).replace(/{BINDEVENT}/g,"")},getSliderHtml:function(){for(var t=this.data,i=t.length,e='<div prop="imgslider" class="img-slider cloneend"><img src="'+t[i-1].image+'" class="siqcrd-img"></div>',s=0;s<i;s++)e+='<div prop="imgslider" class="img-slider"><img src="'+(t[s].image||"")+'" class="siqcrd-img"></div>';return e+='<div prop="imgslider" class="img-slider clonestart"><img src="'+t[0].image+'" class="siqcrd-img"></div>'},getNextElemIndex:function(){return this.curindex+1>=this.sliderlength?0:this.curindex+1},getPrevElemIndex:function(){return this.curindex-1<0?this.sliderlength-1:this.curindex-1},updateLabelAndTitle:function(){var e=this.getLabelAndActionHtml(this.curindex),s=this.getTitleObj(this.curindex);this.getComponentContainer().find('[prop="title"],[prop="subtitle"],[prop="actiondiv"]').fadeOut(this.faddingtime,function(){var t=this.getComponentContainer(),i=t.find('[prop="actiondiv"]');t.find('[prop="title"]').html(s.title),t.find('[prop="subtitle"]').html(s.subtitle),i.html(e),t.find('[prop="title"],[prop="subtitle"],[prop="actiondiv"]').fadeIn(this.faddingtime)}.bind(this))},updateSliderIndex:function(t,i){this.curindex=t;var e=this.getComponentContainer();return"multiple-product"==this.type&&this.updateLabelAndTitle(),0!=t||i||e.find('[prop = "slidercont"]').css("left","-310px"),"left"==i&&t==this.sliderlength-1?(e.find('[prop = "slidercont"]').css("left","0px"),this.resetSlider(310*this.sliderlength)):"right"==i&&0==t?(e.find('[prop = "slidercont"]').css("left","-"+310*(this.sliderlength+1)+"px"),this.resetSlider(310)):e.find('[prop = "slidercont"]').css("left","-"+310*(t+1)+"px"),void this.updateDotsIndex(i)},resetSlider:function(t){this.cloningprocess=!0,setTimeout(function(){this.getComponentContainer().find('[prop = "slidercont"]').addClass("notransition").css("left","-"+t+"px"),setTimeout(function(){this.cloningprocess=!1,this.getComponentContainer().find('[prop = "slidercont"]').removeClass("notransition")}.bind(this),50)}.bind(this),600)},updateDotsIndex:function(){this.sliderlength<=5||this.curindex<=3?this.setDotsFronView():4<this.sliderlength-this.curindex?this.setDotsMiddleView():this.setDotsEndView()},setDotsFronView:function(t){var i=this.dotscontainer;5<=this.sliderlength&&(i.css("left","0px"),i.parent().addClass("hidebuble-small"),this.setselectedDot(!0),i.find('[index="5"]').addClass("size2").siblings('[index="6"]').addClass("size1")),this.setselectedDot()},setDotsMiddleView:function(t){var i=this.dotscontainer;this.setselectedDot(!0),i.find('[index="'+(this.curindex-2)+'"]').addClass("size2").siblings('[index="'+(this.curindex-3)+'"]').addClass("size1").siblings('[index="'+(this.curindex+2)+'"]').addClass("size2").siblings('[index="'+(this.curindex+3)+'"]').addClass("size1"),this.setAndUpdateDotsPosition()},setDotsEndView:function(t){this.dotscontainer;this.setAndUpdateDotsPosition(),this.setselectedDot(!0),this.dotscontainer.find('[index="'+(this.sliderlength-6)+'"]').addClass("size2").siblings('[index="'+(this.sliderlength-7)+'"]').addClass("size1")},setAndUpdateDotsPosition:function(){var t=this.sliderlength-this.curindex<4?12*(this.sliderlength-7):12*(this.curindex+1-4);t&&this.dotscontainer.css("left","-"+t+"px")},setselectedDot:function(t){var i=this.dotscontainer;if(t)return i.find("em").removeClass("sel").removeClass("size2").removeClass("size1"),void i.find('[index="'+this.curindex+'"]').addClass("sel");i.find("em").removeClass("sel").siblings('[index="'+this.curindex+'"]').addClass("sel")},updateContainer:function(t){var i=t.attr("prop");"sqicorarrow"==i&&this.updateSliderIndex(this.getNextElemIndex(),"right"),"sqicolarrow"==i&&this.updateSliderIndex(this.getPrevElemIndex(),"left")},bindCtaEvent:function(){this.getComponentContainer().find('[prop="callback"]').off("click.carousel").on("click.carousel",function(){this.handleCustomAction($(event.target))}.bind(this))},bindEvent:function(){this.getComponentContainer();this.cloningprocess||$(this.chatdiv).off("click.carousel","#bot_widget"+this.id).on("click.carousel","#bot_widget"+this.id,function(t){this.handleEvents(t)}.bind(this))},handleDotsEvent:function(t){if(!this.cloningprocess){var i=t.attr("index"),e=this.curindex!=i&&this.curindex>i?"left":"right";i&&this.updateSliderIndex(JSON.parse(i),e)}},handleEvents:function(t){var i=$(t.target),e=i.attr("prop");this.checkAndUpdateWidgetContainer(),"sqicorarrow"==e||"sqicolarrow"==e?this.updateContainer(i):"activedots"==e?this.handleDotsEvent(i):"ctacontainer"!=e&&"callback"!=e||(i="callback"==e?i.closest('[prop="ctacontainer"]'):i,this.handleCustomAction(i))},checkAndUpdateWidgetContainer:function(){this.componentcontainer||(this.componentcontainer=this.chatdiv.find($("#cmpnt"+this.id)),this.dotscontainer=this.componentcontainer.closest(".msgbx").find('[prop="dotsparent"]'),this.faddingtime=350)},getComponentContainer:function(){return this.componentcontainer||this.checkAndUpdateWidgetContainer(),this.componentcontainer},handleCustomAction:function(t){var i=t.attr("data-val"),e=t.attr("name"),s=this.data[this.curindex].id;$Support.handleWidgetCustomAction(i,{name:e,element_id:s})}},{init:function(t,i){t.elements?new e(t,i).populateLayout():t.callback("",i)}}}();var ZSIQDropdown=function(){var t=function(e){this.data=e};return t.prototype={render:function(){this.populateList(),this.populateHeader(),this.header=this.data.element.find(".drop_hdr"),this.listdiv=this.data.element.find(".popup_list"),this.searchinput=this.data.element.find("#popupsearch"),this.setEvents()},populateHeader:function(e){this.data.element.append('<div class="drop_hdr" id="dropdownheader"><span class="txtelips sbold" data-key="'+this.default_select.key+'">'+this.default_select.key+'</span><em class="sqico-darrow"></em></div>')},populateList:function(){var e="";for(var t in this.data.options){var a=this.data.options[t],i=a.key;e+='<div class="popup_li" data-key="'+i+'">'+a.val+"<em>"+(a.subval||"")+"</em></div>",i==this.data.selected&&(this.default_select=a)}this.default_select=this.default_select||this.data.options[0];var s=this.default_select,d='<div class="popup_list" id="dropdownlist"><div class="ppup_srcmain"><em class="sqico-search"></em><input type="text" id="popupsearch" placeholder="'+LSResource.getRealValue(this.data.placeholder)+'"></div><div class="mT10 popup_src_ul"><div class="curnt_val"><div class="c999 mL5">'+LSResource.getRealValue(this.data.currentlist_header)+'</div><div class="popup_li" id="selectedval" data-key="'+s.key+'">'+s.val+"<em>"+(s.subval||"")+'</em></div></div><div class="select_val"><div class="mB5 c999 mL5">'+LSResource.getRealValue(this.data.list_header)+"</div>"+e+"</div></div></div>";this.data.element.append(d)},setEvents:function(){var a=this;this.header.on("click",function(e){a.clearSearch(),$(this).parent().find(".popup_list").toggle();var t=a.default_select;a.listdiv.find("#selectedval").attr("data-key",t.key).html(t.val+"<em>"+(t.subval||"")+"</em>"),$Clickoutside.bindclick(function(){a.listdiv.hide()},"dropdownlist","dropdownheader",!0,e),$("#popupsearch").focus()}),this.listdiv.on("click",function(e){var t=$(e.target);$(e.target).hasClass("popup_li")&&(a.setSelectedObj(t.attr("data-key")),a.header.find(".txtelips").attr("data-key",a.default_select.key).text(a.default_select.key),a.listdiv.hide(),"function"==typeof a.data.callback&&a.data.callback())}),this.searchinput.on("keyup",function(){a.handleSearch()})},setSelectedObj:function(e){for(var t in this.data.options)if(this.data.options[t].key==e){this.default_select=this.data.options[t];break}},handleSearch:function(){var t=this.searchinput.val().toLowerCase().replace(/ /g,""),e=this.listdiv;if(e.find(".popup_src_emty").remove(),t){e.find(".curnt_val").hide(),e.find(".select_val div").hide();var a=!1;e.find(".select_val").find(".popup_li").each(function(){var e=$(this);-1!=e.text().toLowerCase().replace(/ /g,"").indexOf(t)&&(e.show(),a=!0)}),a||this.handleEmpty()}else this.clearSearch()},clearSearch:function(){var e=this.listdiv;e.find(".curnt_val").show(),e.find(".select_val").show(),e.find(".select_val div").show(),e.find(".popup_src_emty").remove(),this.searchinput.val("")},handleEmpty:function(){var e=this.listdiv;e.find(".curnt_val").hide(),e.find(".select_val").hide(),e.find(".popup_src_ul").append('<div class="popup_src_emty"><div class="c666 lH20">'+LSResource.getRealValue("common.searchnotfound")+'</div><div class="lH20">â'+this.searchinput.val()+"â</div></div>")}},{init:function(e){new t(e).render()}}}();PeerConnection=function(){var i,a=null,o=null,c=null,r=0,s={getScreenShareConstrains:function(){return window.webkitRTCPeerConnection&&navigator.mediaDevices&&void 0===navigator.mediaDevices.getDisplayMedia?{audio:!1,video:{mandatory:{chromeMediaSource:"desktop"}}}:window.webkitRTCPeerConnection?{audio:!1,video:!0}:{audio:!1,video:{mediaSource:"screen"}}},setcredential:function(e,n){return s.initConnection(e,n).connectionId},initConnection:function(e,n){return e=t(e,n)},getUserMedia:function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null},checkScreenExtensionNeeded:function(e){if("SCREEN_SHARE"===e&&window.webkitRTCPeerConnection&&void 0===navigator.mediaDevices.getDisplayMedia)return window.addEventListener("message",function(e){s._screenShareExtnSuccsess(e)}),void MediaConnection.sendPostMessageToExtn("zoho_cliq_extn_check")},_screenShareExtnSuccsess:function(e){if(e.data.message&&"ZOHOCLIQ-EXTN-CHECK"===e.data.message.type)!0,s.getExtensionScreenId();else if(e.data.message&&"ZOHOCLIQ-SCEEN-SOURCE-ID"===e.data.message.type){var n=e.data.message.data;d.constraints.SCREEN_SHARE.video.mandatory.chromeMediaSourceId=n,mediaApi=s.getUserMedia(),navigator.mediaDevices.getUserMedia(d.constraints.SCREEN_SHARE).then(function(e){s.addLocalStream(e,"SCREEN_SHARE",i)}).catch(function(e){s.mediafailure(e)})}},getExtensionScreenId:function(){MediaConnection.sendPostMessageToExtn("zoho_cliq_get_screen_sourceId")},checkMediaPermission:function(e,n){var t=e;if(i=n,mediaApi=s.getUserMedia(),window.webkitRTCPeerConnection?window.RTCPeerConnection=webkitRTCPeerConnection:window.mozRTCPeerConnection&&(window.RTCPeerConnection=mozRTCPeerConnection),window.$Temp&&"AUDIO"==e&&(r=setTimeout(function(){$(window.parent.document).find("body").append($Temp.getMediaSetting(avimpl.getCurrentBrowerName())),clearTimeout(r)},1500)),e!=d.screenshare.toUpperCase()||void 0!==navigator.mediaDevices.getDisplayMedia)return mediaApi||e==d.screenshare.toUpperCase()?e==d.screenshare.toUpperCase()&&void 0!==navigator.mediaDevices.getDisplayMedia?(null!=typeof navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(d.constraints[e]).then(function(e){s.addLocalStream(e,t,n)}).catch(function(e){s.mediafailure(e,!0,t)}):navigator.mediaDevices.getUserMedia(d.constraints[e]).then(function(e){s.addLocalStream(e,t,n)}).catch(function(e){s.mediafailure(e,!0,t)}),!0):void mediaApi.call(navigator,d.constraints[e],function(e){s.addLocalStream(e,t,n)},function(e){s.mediafailure(e,!0,t)}):(navigator.mediaDevices.getUserMedia(d.constraints[e]).then(function(e){s.addLocalStream(e,t,n)}).catch(function(e){mediafailure(e,!0,t)}),!1);s.checkScreenExtensionNeeded(e)},addLocalStream:function(e,n,t){clearTimeout(r),"AUDIO"==n?a=e:"SCREEN_SHARE"==n?(o=e).getVideoTracks()[0].onended=function(){MediaConnection.endConnection("screen_share")}:"VIDEO"==n&&(c=e),window.$Temp&&avimpl.closeViewMediaPermission(),"SCREEN_SHARE"==n&&ZSIQMedia.isAlreadyShared()?s.closeLocalStream("screen_share"):MediaConnection.initiateConnection(n,t)},mediafailure:function(e,n,t){switch(window.$Temp&&"AUDIO"==t&&(clearTimeout(r),avimpl.closeViewMediaPermission()),e.name){case"NotFoundError":case"DevicesNotFoundError":message=LSResource.getRealValue("av.info.microphone.notavailable");break;case"SourceUnavailableError":case"PermissionDeniedError":case"SecurityError":case"NotAllowedError":default:message=LSResource.getRealValue("av.info.microphone.blocked")}"NotAllowedError"==e.name&&window.$Temp&&"AUDIO"==t&&$(window.parent.document).find("body").append($Temp.getAskMediaPermission(avimpl.getCurrentBrowerName())),0==n&&"AUDIO"==t&&(LSDebugger.postDebugInfo("Audio Call reject by - peerconnection chatid "+i,null,null,!0),avimpl.rejectCallInvite(i,null)),window.$Temp&&n&&"AUDIO"==t&&avimpl.clear(),"AUDIO"==t&&avimpl.checkMediaPermission(message,i),"SCREEN_SHARE"==t&&ZSIQMedia.isInvite()&&ZSIQMedia.screenShareReject(),LSDebugger.postDebugInfo("Audio Call - Inside Filure media permission | PeerConnection ",null,null,!0)},closeLocalStream:function(e){"audio"==e?(a&&s.closeTracksInStream(a),o&&s.closeTracksInStream(o)):"screen_share"==e&&o&&s.closeTracksInStream(o)},closeTracksInStream:function(e){var n=e.getTracks();for(var t in n)n[t].stop()}},d={incoming:1,outgoing:2,connected:3,reconnect:4,onhold:5,accepted:6,agent:"agent",visitor:"visitor",screenshare:"screen_share",sdpConstraints:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},constraints:{AUDIO:{audio:!0,video:!1},VIDEO:{audio:!0,video:!0},SCREEN_SHARE:s.getScreenShareConstrains(),SCREEN_VIEW:{audio:!0,video:!1}}},t=function(e,n){this.chatid=e.chatid;var t=JSON.parse(e.credentials),i=new l(e.chatid,e.id,e.type,n,t.user_name,t.servers,t.token);return"AUDIO"==i._type&&(i._localStream=a),MediaConnection.addNewPeerConnection(i.referenceId,i),i},l=function(e,n,t,i,a,o,c){this.referenceId=e,this._connectionId=Math.floor(1e9*Math.random()),this._mediaId=n,this._type=t.toUpperCase(),this._localSdp=null,this._remoteSdp=null,this._isUpStream=i,this._localStream=null,this._isReconnecting=!1,this._callstatus=null,this._localIceCandidates=null,this._remoteIceCandidates=null,this._credential=c,this._userName=a,this._turnServer=o,this._mediaApi=null,this._browser=null,this._remoteCandidatePushed=!1,this._connection=null,this._reconnectInterval=null};return l.prototype={_getConfiguration:function(){var e=this._turnServer.split(","),n=this._userName,t=this._credential,i=[];return e.forEach(function(e){i.push({urls:e,username:n,credential:t})}),{iceServers:i}},_requestStream:function(e){if(this._isReconnecting)this._setRemoteDescription(e);else{this._mediaApi=s.getUserMedia();var n=this;if(n.mediaObj=e,window.webkitRTCPeerConnection?(this._browser="Chrome",window.RTCPeerConnection=webkitRTCPeerConnection):window.mozRTCPeerConnection&&(avaction.callObj.hostbrowser="Firefox",window.RTCPeerConnection=mozRTCPeerConnection),window.$Temp&&"AUDIO"==this._type&&(r=setTimeout(function(){$(window.parent.document).find("body").append($Temp.getMediaSetting(avimpl.getCurrentBrowerName())),clearTimeout(r)},1500)),!this._mediaApi&&this._type!=d.screenshare.toUpperCase())return navigator.mediaDevices.getUserMedia(d.constraints[this._type]).then(function(e){n._localStream=e,MediaConnection.replacePeerConnection(n.referenceId,n),n._isUpStream||(n.initRTCConn(!1),n._setRemoteDescription(n.mediaObj))}).catch(function(e){s.mediafailure(e,n._isUpStream,n._type)}),!1;this._type!=d.screenshare.toUpperCase()?this._mediaApi.call(navigator,d.constraints[this._type],function(e){n._localStream=e,MediaConnection.replacePeerConnection(n.referenceId,n),n._isUpStream||(n.initRTCConn(!1),n._setRemoteDescription(n.mediaObj))},function(e){s.mediafailure(e,n._isUpStream,n._type)}):n._isUpStream?null!=typeof navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(d.constraints[this._type]).then(function(e){n._localStream=e,MediaConnection.replacePeerConnection(n.referenceId,n)}).catch(function(e){s.mediafailure(e,n._isUpStream,n._type)}):navigator.mediaDevices.getUserMedia(d.constraints[this._type]).then(function(e){n._localStream=e,MediaConnection.replacePeerConnection(n.referenceId,n)}).catch(function(e){s.mediafailure(e,n._isUpStream,n._type)}):(MediaConnection.addNewPeerConnection(n.referenceId,n),n.initRTCConn(!1),n._setRemoteDescription(n.mediaObj))}},initRTCConn:function(e){window.$Temp&&"AUDIO"==this._type&&(clearTimeout(r),avimpl.closeViewMediaPermission()),this._isUpStream?e||("AUDIO"==this._type?this._localStream=a:"SCREEN_SHARE"==this._type?this._localStream=o:"VIDEO"==this._type&&(this._localStream=c),this._connection=new RTCPeerConnection(this._getConfiguration()),MediaConnection.replacePeerConnection(this.referenceId,this),this._createOffer(!1)):this._connection=new RTCPeerConnection(this._getConfiguration()),"AUDIO"==this._type&&avimpl.addAudioElemts(this._localStream,this._type),this._getRemoteStream(this)},_createOffer:function(e){e&&(d.sdpConstraints.iceRestart=!0);var n=this._connection,t=this;e||(t._streamData=t._localStream.getTracks().forEach(function(e){"function"==typeof t._connection.addTrack?t._connection.addTrack(e,t._localStream):t._connection.addStream(t._localStream)})),n.createOffer(d.sdpConstraints).then(function(e){t._localSdp=e,t._connection.setLocalDescription(e),MediaConnection.replacePeerConnection(t.referenceId,t),MediaConnection.sendOffer(e,t._type),t._createIceCandidate(),t._connection.onicecandidate=function(e){t._localIceCandidates.push(e),MediaConnection.sendCandidate(e,t._type)},t._chekConnectionStatus(t)})},_createIceCandidate:function(){var n=this;n._localIceCandidates=[],n._connection.onicecandidate=function(e){n._localIceCandidates.push(e),MediaConnection.sendCandidate(e,n._type)}},_setRemoteDescription:function(e){var n=e.session;this._remoteSdp=n;var t=this;t._isUpStream||"AUDIO"!=t._type||(t._streamData?t._localStream.getTracks().forEach(function(e){t._streamData.replaceTrack(e)}):t._localStream.getTracks().forEach(function(e){"function"==typeof t._connection.addTrack?t._streamData=t._connection.addTrack(e,t._localStream):t._connection.addStream(t._localStream)})),t._connection.setRemoteDescription(new RTCSessionDescription(JSON.parse(n))),t._reconnectInterval&&(clearTimeout(t._reconnectInterval),t._reconnectInterval=null),t._isUpStream||t._connection.createAnswer(d.sdpConstraints).then(function(e){t._localSdp=e,t._connection.setLocalDescription(new RTCSessionDescription(e)),MediaConnection.replacePeerConnection(t.referenceId,t),MediaConnection.sendAnswer(e,t._type),t._createIceCandidate(),t._chekConnectionStatus(t),t._remoteCandidatePushed||t._pushIceCandidate()}),t._remoteCandidatePushed||t._pushIceCandidate()},_pushIceCandidate:function(){if(this._remoteIceCandidates&&0<this._remoteIceCandidates.length){for(var e in this._remoteIceCandidates){var n=this._remoteIceCandidates[e],t=new RTCIceCandidate({sdpMid:n.id,sdpMLineIndex:n.label,candidate:n.candidate});this._connection.addIceCandidate(t)}this._remoteCandidatePushed=!0}},_setIceCandidate:function(e){var n;if(n=e.candidates?JSON.parse(e.candidates):JSON.parse(e.msg.candidate),this._remoteSdp&&this._localSdp){this._remoteIceCandidates&&0<this._remoteIceCandidates.length&&!this._remoteCandidatePushed&&this._pushIceCandidate();var t=new RTCIceCandidate({sdpMid:n.id,sdpMLineIndex:n.label,candidate:n.candidate});this._connection.addIceCandidate(t)}else this._remoteIceCandidates&&0<this._remoteIceCandidates.length||(this._remoteIceCandidates=[]),this._remoteIceCandidates.push(n)},_chekConnectionStatus:function(t){t._connection.oniceconnectionstatechange=function(e){var n=t._connection.iceConnectionState;"connected"==n?((0==avimpl.reconcount||t._isReconnecting)&&avaction.callObj.sendConnectionStatus("callconnected"),avaction.callObj.sendStats(null,"call connected"),t._callstatus="connected",t._isReconnecting=!1,"AUDIO"==t._type&&avimpl.callConnected(e,t.referenceId),ZSIQMedia.clearNetworkTimer(),avaction.callObj.webrtcStatus=1):"disconnected"==n?(t._callstatus="disconnected","AUDIO"==t._type&&avimpl.showReconnect()):"failed"==n&&(t._callstatus="failed",t._remoteIceCandidates=[],t._remoteCandidatePushed=!1,t._remoteSdp=null,t._isReconnecting=!0,ZSIQMedia.checkNetwork(t.referenceId,t._mediaId))},t._connection.onconnectionstatechange=function(e){"failed"==t._connection.connectionState&&(t._callstatus="failed",t._remoteIceCandidates=[],t._remoteCandidatePushed=!1,t._remoteSdp=null,t._isReconnecting=!0,ZSIQMedia.checkNetwork(t.referenceId,t._mediaId))}},_initReconnect:function(){if(this._isReconnecting=!0,this._isUpStream){var e=this;this._reconnectInterval=setInterval(function(){e._createOffer(!0)},1e4)}},_getRemoteStream:function(e){var n=e;n._connection.onaddstream=n._connection.ontrack=function(e){avimpl.addremotestream(e,n)}}},{setcredential:s.setcredential,setRemoteDescription:s.setRemoteDescription,checkMediaPermission:s.checkMediaPermission,screenShareExtnSuccsess:s._screenShareExtnSuccsess,closeLocalStream:s.closeLocalStream}}();MediaAction=function(){var a={getObject:function(e){return"undefined"==typeof AgentCall||"agent"!==e.msg.media.mode||e.msg.media.visitoraccess?avimpl:AgentCall},init:function(e){ZSIQMedia.handleMediaUI(e),avaction.callObj=a.getObject(e);var n,t=e.msg,i=t.media;("credential"!==e.msg.cbtype&&"call_credential"!==t.operation||MediaConnection.setcredential(i,!0),"invite"!==e.msg.cbtype&&"call_initiate"!==t.operation||("audio"==i.type&&avimpl.showInvitation(i),(i.credentials||e.msg.credential)&&MediaConnection.setcredential(i,!1),n="added credential data and invitation successfully"),"accept"===e.msg.status||"call_accept"===t.operation)&&("function"==typeof MediaConnection.setActiveMediaId&&MediaConnection.setActiveMediaId(i.id),MediaConnection.getPeerConnectionObj(i.chatid,i.id).initRTCConn(!1),avaction.callObj.acceptedTime=Date.now());("reject"!==e.msg.cbtype&&"call_reject"!==t.operation||("audio"==t.type&&("function"==typeof avaction.callObj.showRejectedBanner&&avaction.callObj.showRejectedBanner(i),"function"==typeof avaction.callObj.handleUserBusy&&avaction.callObj.handleUserBusy(),MediaConnection.closePeerConnection(i.chatid,i.id),MediaConnection.clearPeerConnectionObj(i.chatid,i.id)),avaction.callObj.sendStats(e)),"candidate"===e.msg.cbtype||"call_candidates"===t.operation)&&MediaConnection.getPeerConnectionObj(i.chatid,i.id)._setIceCandidate(i);"answer"!==e.msg.cbtype&&"call_answer"!==t.operation||MediaConnection.getPeerConnectionObj(i.chatid,i.id)._setRemoteDescription(i);("end"===e.msg.status||t.operation,"offer"===e.msg.cbtype||"call_offer"===t.operation)&&MediaConnection.getPeerConnectionObj(i.chatid,i.id)._requestStream(i);"cancel"!==e.msg.cbtype&&"call_cancel"!==t.operation&&"miss"!==e.msg.cbtype&&"call_miss"!==t.operation||(MediaConnection.closePeerConnection(i.chatid,i.id),MediaConnection.clearPeerConnectionObj(i.chatid,i.id)),"invite"===e.msg.cbtype||t.operation,avaction.callObj.sendStats(e,n)}};return{init:a.init}}();MediaConnection=function(){var c,i="",r={setActiveMediaId:function(e){e},addAvObj:function(e){var n=e.chatid,t=e.id,a=e.mode;r.setAvObj(n,{media_id:t,mode:a,peerconnections:[]})},setAvObj:function(e,n){c||(c={}),c[e]=n},getAvObj:function(e){if(!c)return{};if(!e)return c;var n=c[e];return n||{}},replacePeerConnection:function(e,n){if(c){var t=[],a=c[e].peerconnections;for(var o in a){var i=a[o];i._mediaId==n._mediaId&&(i=n),t.push(i)}r.updateAvObj(e,t)}},addNewPeerConnection:function(e,n){if(c){var t=c[e],a=t.peerconnections;a||(a=t.peerconnections=[]),a.push(n),r.updateAvObj(e,a)}},updateAvObj:function(e,n){var t=c[e],a=t.media_id,o=t.mode;r.setAvObj(e,{media_id:a,mode:o,peerconnections:n})},getPeerConnectionObj:function(e,n){if(c){var t=c[e].peerconnections;for(var a in t){var o=t[a];if(o._mediaId==n)return o}}},clearAvMediaObj:function(e){var n=c;n&&(delete n[e],c=n)},clearPeerConnectionObj:function(e,n){if(c){var t=c[e].peerconnections;for(var a in t){t[a]._mediaId==n&&t.splice(a,1)}r.updateAvObj(e,t)}},setCredential:function(e,n){var t=r.getAvObj(e.chatid);0==Object.keys(t).length&&r.addAvObj(e),PeerConnection.setcredential(e,n)},sendOffer:function(e,n){var t={};t.session=CommonUtil.toJSON(e),t.type=n.toLowerCase();var a=ZSIQMedia.getCurrentMedia(t.type);i=a.connectionid,d._handleAjax("offer",t)},sendAnswer:function(e,n){var t={};t.session=CommonUtil.toJSON(e),t.type=n.toLowerCase();var a=ZSIQMedia.getCurrentMedia(t.type);i=a.connectionid,d._handleAjax("answer",t)},sendCandidate:function(e,n){var t={};if(e.candidate){t.label=e.candidate.sdpMLineIndex,t.type="candidate",t.id=e.candidate.sdpMid,t.candidate=e.candidate.candidate,candstring=CommonUtil.toJSON(t);var a={};a.candidates=candstring,a.type=n.toLowerCase();var o=ZSIQMedia.getCurrentMedia(a.type);i=o.connectionid,d._handleAjax("candidates",a)}},acceptCallInvite:function(e){var n=ZSIQMedia.getCurrentMedia(e);i=n.connectionid;var t={};t.type=e,d._handleAjax("accept",t)},endConnection:function(e,n){var t={},a=ZSIQMedia.getCurrentMedia(e);t.type=e,i=a.connectionid,r.closePeerConnection(a.chatid,i),r.clearPeerConnectionObj(a.chatid,i),d._handleAjax("end",t,function(){ZSIQMedia.handleEndConnection(e)}),"audio"==t.type&&r.clearAvMediaObj(a.chatid)},terminateConnection:function(e,n){var t={},a=ZSIQMedia.getCurrentMedia(e);t.type=e,i=a.connectionid,"reject"!=n&&"cancel"!=n||"audio"!=e||(r.closePeerConnection(a.chatid,i),r.clearPeerConnectionObj(a.chatid,i)),d._handleAjax(n,t),"audio"==t.type&&r.clearAvMediaObj(a.chatid)},initiateConnection:function(e,n){var t=ZSIQConversationManager.getChatWinObjById(n),a={};a.type=e.toLowerCase(),a.chatid=n,a.mode="visitor",a.wmsid=$Support.EmbedObj.vwmsid,a.lsuid=t.attender,a.lsid=$Support.getParent().$ZSIQWidget.getWidgetObject().lsid,avimpl.active=!0,"AUDIO"==e?d._handleAjax(null,a,avimpl.startCallSuccessCallBack):d._handleAjax(null,a)},showObj:function(){return c},toggleMute:function(e,n){if(c){var t=c[e].peerconnections;for(var a in t){var o=t[a];o._mediaId==n&&o._localStream&&(o._localStream.getAudioTracks()[0].enabled=!o._localStream.getAudioTracks()[0].enabled)}}},closePeerConnection:function(e,n){if(c){var t=c[e].peerconnections;for(var a in t){var o=t[a];o._mediaId==n&&(o._reconnectInterval&&clearTimeout(o._reconnectInterval),o._connection&&o._connection.close(),o._localStream&&r.closeTracksInStream(o._localStream),o._remoteStream&&r.closeTracksInStream(peeConn._remoteStream),PeerConnection.closeLocalStream(o._type.toLowerCase()))}r.checkAndClearScreenShareConnection(e)}},closeTracksInStream:function(e){var n=e.getTracks();for(var t in n)n[t].stop()},callReqInvite:function(e){var n={};n.type=e;var t=ZSIQMedia.getCurrentMedia("audio");i=t.connectionid,actiontype="invite",d._handleAjax(actiontype,n)},getPeerConnection:function(e,n){if(c){var t=c[e].peerconnections;for(var a in t){var o=t[a];if(o._mediaId==n)return o._connection}}},checkScreenExtensionNeeded:function(e){if("SCREEN_SHARE"===e&&window.webkitRTCPeerConnection&&void 0===navigator.mediaDevices.getDisplayMedia)return window.addEventListener("message",function(e){e.data.message&&"ZOHOCLIQ-GET-SCREEN-SOURCEID"===e.data.message.type&&(avimpl.screen_id=e.data.message.data,avaction.constraints.SCREEN_SHARE.video.mandatory.chromeMediaSourceId=avimpl.screen_id)}),void window.postMessage({requestId:"zoho_cliq_get_screen_sourceId",message:"ZOHOCLIQ-GET-SCREEN-SOURCEID"},"*")},sendPostMessageToExtn:function(e){"zoho_cliq_extn_check"==e?parent.postMessage({requestId:"zoho_cliq_extn_check",message:"ZOHOCLIQ-EXTN-CHECK"},"*"):"zoho_cliq_get_screen_sourceId"==e&&parent.postMessage({requestId:"zoho_cliq_get_screen_sourceId",message:"ZOHOCLIQ-GET-SCREEN-SOURCEID"},"*")},initReconnect:function(e,n){if(c){var t=c[e].peerconnections;for(var a in avimpl.reconnecttime=avimpl.starttime,t){var o=t[a];o._mediaId==n&&o._initReconnect()}}},checkAndClearScreenShareConnection:function(e){if(c){var n=c[e].peerconnections;for(var t in n){var a=n[t];a&&"SCREEN_SHARE"==a._type&&(a._connection&&a._connection.close(),a._localStream&&r.closeTracksInStream(a._localStream),a._remoteStream&&r.closeTracksInStream(peeConn._remoteStream),a._reconnectInterval&&clearInterval(a._reconnectInterval),PeerConnection.closeLocalStream(a._type.toLowerCase()),a._reconnectInterval&&clearTimeout(a._reconnectInterval))}}}},d={_handleAjax:function(e,n,t){var a=_SCHEMA+"://"+_EMBEDSERVERURL+"/visitor/v2/"+_SCREENNAME+"/media";e&&(a+="/"+i+"/"+e),$.ajax({url:a,type:"POST",data:n,dataType:"json",success:function(e){t&&t(e)}})}};return{addAvObj:r.addAvObj,replacePeerConnection:r.replacePeerConnection,addNewPeerConnection:r.addNewPeerConnection,getPeerConnectionObj:r.getPeerConnectionObj,setcredential:r.setCredential,avMediaObj:r.avMediaObj,sendOffer:r.sendOffer,sendAnswer:r.sendAnswer,sendCandidate:r.sendCandidate,setActiveMediaId:r.setActiveMediaId,acceptCallInvite:r.acceptCallInvite,handleAjax:d._handleAjax,initiateConnection:r.initiateConnection,showObj:r.showObj,clearPeerConnectionObj:r.clearPeerConnectionObj,toggleMute:r.toggleMute,checkScreenExtensionNeeded:r.checkScreenExtensionNeeded,sendPostMessageToExtn:r.sendPostMessageToExtn,callReqInvite:r.callReqInvite,terminateConnection:r.terminateConnection,endConnection:r.endConnection,initReconnect:r.initReconnect,closePeerConnection:r.closePeerConnection,clearAvMediaObj:r.clearAvMediaObj}}();var ZSIQMedia=function(){var t={},e=0,n=0,i="audio",c="screen_share",o=!1,a=!1,r=function(e,n){return n=n||"",LSResource.getRealValue(e,n)},s=function(){try{if($Support.getChatID())return!0}catch(e){return!1}},d=function(){return s()?$(parent.document.body):$("body")},l=function(e,n,i){t[e]={chatid:n,connectionid:i}},u=function(e){e.type==i&&("function"==typeof avimpl.showRejectedBanner&&avimpl.showRejectedBanner(e),"function"==typeof avimpl.handleUserBusy&&avimpl.handleUserBusy()),o=!1},p=function(e){e.type==c&&avimpl.toggleScreenShareLogo(),s()&&e.type==c&&avimpl.setAvScreenShareId(e.id)},f=function(e){avimpl.clear(e.chatid)},m=function(e){l(e.type,e.chatid,e.id),e.type==c&&avimpl.toggleScreenShareLogo(),a=o=!1,s()&&e.type==c&&avimpl.setAvScreenShareId(e.id)},h=function(e){MediaConnection.closePeerConnection(e.chatid,e.id),MediaConnection.clearPeerConnectionObj(e.chatid,e.id),e.type==c?_():e.type==i&&(avimpl.endCall(),MediaConnection.clearAvMediaObj(),_(),v("screen_share")),v(e.type)},v=function(e){t[e]="",o=!1,y()},_=function(){d().find(".zsiq_video_main").remove(),avimpl.showCallDiv()},C=function(e){avimpl.clear(e.chatid)},S=function(e){e.type==c&&(avimpl.active=!0,e.mediaInvitation?g(e):(l(e.type,e.chatid,e.id),MediaConnection.acceptCallInvite(c))),e.type==i&&(avimpl.active=!0,l(e.type,e.chatid,e.id)),s()&&l(e.type,e.chatid,e.id)},g=function(e){e.type==c&&(l(e.type,e.chatid,e.id),q(e),a=!0)},q=function(e){if(!d().find(".zsiq_popup").length){var n='<div class="zsiq_popup" id="zsiqssconfirmbox"><div class="zsiq_popupsub"><em class="siqico-close zsiq_center"></em><em class="siqico-screenshare zsiq_popuplogo"></em><div class="zsiq_popup_hdr">'+r("common.screenshare")+'</div><div class="zsiq_popup_desc">'+r("screenshare.request.desc",s()?$Support.EmbedObj.attendername:avimpl.getVisitorName())+'</div><div class="zsiq_popup_btn zsiq_center"><span class="zsiq_center" id="zsiqconfirmss">'+r("common.share")+'</span><span class="zsiq_center zsiq_cancelbtn" id="zsiqdecliness">'+r("common.decline")+"</span></div></div></div>",i=d();i.append(n),i.find("#zsiqconfirmss").on("click",function(){I(),y()}),i.find("#zsiqdecliness").on("click",M),i.find(".zsiq_popup").find(".siqico-close").on("click",M)}},y=function(){d().find(".zsiq_popup").remove()},M=function(){MediaConnection.terminateConnection(c,"reject"),v("screen_share"),a=!1},z=function(){MediaConnection.endConnection(c),d().find(".zsiq_video_main").remove(),avimpl.showCallDiv()},I=function(e){if(o)$UI.updateStatus(r("screenshare.requested.errormsg"),5e3,!0);else{var n=s()?$EmbedManger.getChatID():t.audio.chatid;PeerConnection.checkMediaPermission(c.toUpperCase(),n),e&&e.parent().hide()}},w=function(n,i){setTimeout(function(){var e=document.createElement("IMG");e.src="https://img.zohocdn.com/salesiq/images/spacer_592ebefc7104d681d57852665e9ad514_.gif?nocache="+(new Date).getTime(),e.onload=function(){MediaConnection.initReconnect(n,i)},e.onerror=function(){w(n,i)}},2e3),e||(e=setTimeout(function(){avimpl.stopOngoingCall()},3e4)),avimpl.showReconnect()};return{init:function(e,n){PeerConnection.checkMediaPermission(e.toUpperCase(),n)},handleMediaUI:function(e){var n={credential:function(e){},call_credential:function(e){l(e.type,e.chatid,e.id)},answer:function(e){},call_answer:function(e){},reject:u,call_reject:u,offer:p,call_offer:p,invite:g,call_initiate:S,accept:m,call_accept:m,end:h,call_end:h,cancel:f,call_cancel:f,miss:C,call_miss:C,call_invite:g},i=e.msg.cbtype||e.msg.operation;n[i]&&n[i](e.msg.media)},handleMediaErrorCallBack:function(e){},endCall:function(){t.screen_share&&z()},endScreenShare:z,acceptScreenShare:function(){MediaConnection.acceptCallInvite(c),ZSIQVideo.init()},getCurrentMedia:function(e){return t[e]},requestScreenShare:function(e){e&&e.parent().hide(),o?$UI.updateStatus(r("screenshare.requested.errormsg"),5e3,!0):(MediaConnection.callReqInvite(c),o=!0)},shareMyScreen:I,setCurrentMedia:l,isEmbed:s,getBody:d,checkNetwork:w,clearNetworkTimer:function(){clearTimeout(e),e=0},isScreenShareAllowed:function(){var e=window.navigator.userAgent;if(-1!=e.indexOf("MSIE ")||-1!=e.indexOf("Safari")&&-1==e.indexOf("Chrome"))return!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(e))return!1;try{if(!s()&&/Apple Safari|Microsoft Edge|Microsoft Internet Explorer/i.test(avimpl.details[Visitors.getCUIDFromCHID(ZSIQMedia.getCurrentMedia("audio").chatid)].BROWSER))return!1}catch(e){}return CommonUtil.isScreenSharingAllowed()},handleEndConnection:function(e){v(e),e==c&&avimpl.changeScreenShareIcon()},showVideoIcons:function(){clearTimeout(n);var e=d().find(".zsiq_video_main");e.length&&(e.removeClass("zsiq_showcntl").addClass("zsiq_showcntl"),n=setTimeout(function(){e.removeClass("zsiq_showcntl")},1500))},toggleMute:function(){var e=t[i];MediaConnection.toggleMute(e.chatid,e.connectionid)},clearUI:y,isScreenShareRequested:function(){return o},screenShareReject:M,isAlreadyShared:function(){return t.screen_share&&!a},isInvite:function(){return a},isOnbeforeUnload:function(){return!!t[c]}}}();var ZSIQMedia=function(){var t={},e=0,n=0,i="audio",c="screen_share",o=!1,a=!1,r=function(e,n){return n=n||"",LSResource.getRealValue(e,n)},s=function(){try{if($Support.getChatID())return!0}catch(e){return!1}},d=function(){return s()?$(parent.document.body):$("body")},l=function(e,n,i){t[e]={chatid:n,connectionid:i}},u=function(e){e.type==i&&("function"==typeof avimpl.showRejectedBanner&&avimpl.showRejectedBanner(e),"function"==typeof avimpl.handleUserBusy&&avimpl.handleUserBusy()),o=!1},p=function(e){e.type==c&&avimpl.toggleScreenShareLogo(),s()&&e.type==c&&avimpl.setAvScreenShareId(e.id)},f=function(e){avimpl.clear(e.chatid)},m=function(e){l(e.type,e.chatid,e.id),e.type==c&&avimpl.toggleScreenShareLogo(),a=o=!1,s()&&e.type==c&&avimpl.setAvScreenShareId(e.id)},h=function(e){MediaConnection.closePeerConnection(e.chatid,e.id),MediaConnection.clearPeerConnectionObj(e.chatid,e.id),e.type==c?_():e.type==i&&(avimpl.endCall(),MediaConnection.clearAvMediaObj(),_(),v("screen_share")),v(e.type)},v=function(e){t[e]="",o=!1,y()},_=function(){d().find(".zsiq_video_main").remove(),avimpl.showCallDiv()},C=function(e){avimpl.clear(e.chatid)},S=function(e){e.type==c&&(avimpl.active=!0,e.mediaInvitation?g(e):(l(e.type,e.chatid,e.id),MediaConnection.acceptCallInvite(c))),e.type==i&&(avimpl.active=!0,l(e.type,e.chatid,e.id)),s()&&l(e.type,e.chatid,e.id)},g=function(e){e.type==c&&(l(e.type,e.chatid,e.id),q(e),a=!0)},q=function(e){if(!d().find(".zsiq_popup").length){var n='<div class="zsiq_popup" id="zsiqssconfirmbox"><div class="zsiq_popupsub"><em class="siqico-close zsiq_center"></em><em class="siqico-screenshare zsiq_popuplogo"></em><div class="zsiq_popup_hdr">'+r("common.screenshare")+'</div><div class="zsiq_popup_desc">'+r("screenshare.request.desc",s()?$Support.EmbedObj.attendername:avimpl.getVisitorName())+'</div><div class="zsiq_popup_btn zsiq_center"><span class="zsiq_center" id="zsiqconfirmss">'+r("common.share")+'</span><span class="zsiq_center zsiq_cancelbtn" id="zsiqdecliness">'+r("common.decline")+"</span></div></div></div>",i=d();i.append(n),i.find("#zsiqconfirmss").on("click",function(){I(),y()}),i.find("#zsiqdecliness").on("click",M),i.find(".zsiq_popup").find(".siqico-close").on("click",M)}},y=function(){d().find(".zsiq_popup").remove()},M=function(){MediaConnection.terminateConnection(c,"reject"),v("screen_share"),a=!1},z=function(){MediaConnection.endConnection(c),d().find(".zsiq_video_main").remove(),avimpl.showCallDiv()},I=function(e){if(o)$UI.updateStatus(r("screenshare.requested.errormsg"),5e3,!0);else{var n=s()?$EmbedManger.getChatID():t.audio.chatid;PeerConnection.checkMediaPermission(c.toUpperCase(),n),e&&e.parent().hide()}},w=function(n,i){setTimeout(function(){var e=document.createElement("IMG");e.src="https://img.zohocdn.com/salesiq/images/spacer_592ebefc7104d681d57852665e9ad514_.gif?nocache="+(new Date).getTime(),e.onload=function(){MediaConnection.initReconnect(n,i)},e.onerror=function(){w(n,i)}},2e3),e||(e=setTimeout(function(){avimpl.stopOngoingCall()},3e4)),avimpl.showReconnect()};return{init:function(e,n){PeerConnection.checkMediaPermission(e.toUpperCase(),n)},handleMediaUI:function(e){var n={credential:function(e){},call_credential:function(e){l(e.type,e.chatid,e.id)},answer:function(e){},call_answer:function(e){},reject:u,call_reject:u,offer:p,call_offer:p,invite:g,call_initiate:S,accept:m,call_accept:m,end:h,call_end:h,cancel:f,call_cancel:f,miss:C,call_miss:C,call_invite:g},i=e.msg.cbtype||e.msg.operation;n[i]&&n[i](e.msg.media)},handleMediaErrorCallBack:function(e){},endCall:function(){t.screen_share&&z()},endScreenShare:z,acceptScreenShare:function(){MediaConnection.acceptCallInvite(c),ZSIQVideo.init()},getCurrentMedia:function(e){return t[e]},requestScreenShare:function(e){e&&e.parent().hide(),o?$UI.updateStatus(r("screenshare.requested.errormsg"),5e3,!0):(MediaConnection.callReqInvite(c),o=!0)},shareMyScreen:I,setCurrentMedia:l,isEmbed:s,getBody:d,checkNetwork:w,clearNetworkTimer:function(){clearTimeout(e),e=0},isScreenShareAllowed:function(){var e=window.navigator.userAgent;if(-1!=e.indexOf("MSIE ")||-1!=e.indexOf("Safari")&&-1==e.indexOf("Chrome"))return!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(e))return!1;try{if(!s()&&/Apple Safari|Microsoft Edge|Microsoft Internet Explorer/i.test(avimpl.details[Visitors.getCUIDFromCHID(ZSIQMedia.getCurrentMedia("audio").chatid)].BROWSER))return!1}catch(e){}return CommonUtil.isScreenSharingAllowed()},handleEndConnection:function(e){v(e),e==c&&avimpl.changeScreenShareIcon()},showVideoIcons:function(){clearTimeout(n);var e=d().find(".zsiq_video_main");e.length&&(e.removeClass("zsiq_showcntl").addClass("zsiq_showcntl"),n=setTimeout(function(){e.removeClass("zsiq_showcntl")},1500))},toggleMute:function(){var e=t[i];MediaConnection.toggleMute(e.chatid,e.connectionid)},clearUI:y,isScreenShareRequested:function(){return o},screenShareReject:M,isAlreadyShared:function(){return t.screen_share&&!a},isInvite:function(){return a},isOnbeforeUnload:function(){return!!t[c]}}}();